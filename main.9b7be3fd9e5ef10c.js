"use strict";(self.webpackChunkangular_firebase_hosting=self.webpackChunkangular_firebase_hosting||[]).push([[179],{2011:(Qe,be,O)=>{O.d(be,{Dh:()=>ce,GT:()=>ue,cc:()=>Ie,hO:()=>Pe,on:()=>B,pX:()=>ie,xv:()=>he});var u=O(4650),ee=O(127),x=O(5813);Qe=O.hmd(Qe);const oe=["ngOnDestroy"],ie=(de,He,Ke,De={})=>new Proxy(de,{get:(ge,ve)=>Ke.runOutsideAngular(()=>{var Ne;if(de[ve])return!(null===(Ne=De?.spy)||void 0===Ne)&&Ne.get&&De.spy.get(ve,de[ve]),de[ve];if(oe.indexOf(ve)>-1)return()=>{};const ke=He.toPromise().then(V=>{const fe=V&&V[ve];return"function"==typeof fe?fe.bind(V):fe&&fe.then?fe.then(K=>Ke.run(()=>K)):Ke.run(()=>fe)});return new Proxy(()=>{},{get:(V,fe)=>ke[fe],apply:(V,fe,K)=>ke.then(J=>{var se;const ne=J&&J(...K);return!(null===(se=De?.spy)||void 0===se)&&se.apply&&De.spy.apply(ve,K,ne),ne})})})}),ue=(de,He)=>{He.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(De=>{Object.defineProperty(de.prototype,De,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,De))})})};class le{constructor(He){return He}}const ce=new u.OlP("angularfire2.app.options"),he=new u.OlP("angularfire2.app.name");function B(de,He,Ke){const ge="object"==typeof Ke&&Ke||{};ge.name=ge.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const Ne=ee.Z.apps.filter(ke=>ke&&ke.name===ge.name)[0]||He.runOutsideAngular(()=>ee.Z.initializeApp(de,ge));try{JSON.stringify(de)!==JSON.stringify(Ne.options)&&j("error",`${Ne.name} Firebase App already initialized with different options${Qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(Ne)}const j=(de,...He)=>{(0,u.X6Q)()&&typeof console<"u"&&console[de](...He)},Q={provide:le,useFactory:B,deps:[ce,u.R0b,[new u.FiY,he]]};let Pe=(()=>{class de{constructor(Ke){ee.Z.registerVersion("angularfire",x.q4.full,"core"),ee.Z.registerVersion("angularfire",x.q4.full,"app-compat"),ee.Z.registerVersion("angular",u.q4F.full,Ke.toString())}static initializeApp(Ke,De){return{ngModule:de,providers:[{provide:ce,useValue:Ke},{provide:he,useValue:De}]}}}return de.\u0275fac=function(Ke){return new(Ke||de)(u.LFG(u.Lbi))},de.\u0275mod=u.oAB({type:de}),de.\u0275inj=u.cJS({providers:[Q]}),de})();function Ie(de,He,Ke,De,ge){const[,ve,Ne]=globalThis.\u0275AngularfireInstanceCache.find(ke=>ke[0]===de)||[];if(ve)return function _e(de,He){try{return de.toString()===He.toString()}catch{return de===He}}(ge,Ne)||(pe("error",`${He} was already initialized on the ${Ke} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:ge,was:Ne})),ve;{const ke=De();return globalThis.\u0275AngularfireInstanceCache.push([de,ke,ge]),ke}}const We=!!Qe.hot,pe=(de,...He)=>{(0,u.X6Q)()&&typeof console<"u"&&console[de](...He)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Qe,be,O)=>{O.d(be,{q4:()=>Os,iC:()=>rn,fc:()=>Mr,HU:()=>Fs,vb:()=>ks,JM:()=>Jl});var u=O(4650),ee=O(5867),x=O(5861),oe=O(9681),ie=O(2090),ue=O(4859),le=O(1877),ce=O(8766);const he="@firebase/installations",B="0.5.12",Q=`w:${B}`,Pe="FIS_v2",He=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(w){return w instanceof ie.ZR&&w.code.includes("request-failed")}function De({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function ge(w){return{token:w.token,requestStatus:2,expiresIn:J(w.expiresIn),creationTime:Date.now()}}function ve(w,D){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,x.Z)(function*(w,D){const L=(yield D.json()).error;return He.create("request-failed",{requestName:w,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ke({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function V(w,{refreshToken:D}){const M=ke(w);return M.append("Authorization",function se(w){return`${Pe} ${w}`}(D)),M}function fe(w){return K.apply(this,arguments)}function K(){return(K=(0,x.Z)(function*(w){const D=yield w();return D.status>=500&&D.status<600?w():D})).apply(this,arguments)}function J(w){return Number(w.replace("s","000"))}function ne(w,D){return Me.apply(this,arguments)}function Me(){return(Me=(0,x.Z)(function*({appConfig:w,heartbeatServiceProvider:D},{fid:M}){const L=De(w),Y=ke(w),re=D.getImmediate({optional:!0});if(re){const ht=yield re.getHeartbeatsHeader();ht&&Y.append("x-firebase-client",ht)}const Oe={method:"POST",headers:Y,body:JSON.stringify({fid:M,authVersion:Pe,appId:w.appId,sdkVersion:Q})},nt=yield fe(()=>fetch(L,Oe));if(nt.ok){const ht=yield nt.json();return{fid:ht.fid||M,registrationStatus:2,refreshToken:ht.refreshToken,authToken:ge(ht.authToken)}}throw yield ve("Create Installation",nt)})).apply(this,arguments)}function Ae(w){return new Promise(D=>{setTimeout(D,w)})}const Pt=/^[cdef][\w-]{21}$/;function Fe(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const M=function Ht(w){return function tt(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Pt.test(M)?M:""}catch{return""}}function pn(w){return`${w.appName}!${w.appId}`}const Nt=new Map;function Ot(w,D){const M=pn(w);$t(M,D),function vs(w,D){const M=function Qn(){return!Cr&&"BroadcastChannel"in self&&(Cr=new BroadcastChannel("[Firebase] FID Change"),Cr.onmessage=w=>{$t(w.data.key,w.data.fid)}),Cr}();M&&M.postMessage({key:w,fid:D}),function er(){0===Nt.size&&Cr&&(Cr.close(),Cr=null)}()}(M,D)}function $t(w,D){const M=Nt.get(w);if(M)for(const L of M)L(D)}let Cr=null;const Er="firebase-installations-store";let kr=null;function rt(){return kr||(kr=(0,ce.X3)("firebase-installations-database",1,{upgrade:(w,D)=>{0===D&&w.createObjectStore(Er)}})),kr}function Qt(w,D){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,x.Z)(function*(w,D){const M=pn(w),Y=(yield rt()).transaction(Er,"readwrite"),re=Y.objectStore(Er),we=yield re.get(M);return yield re.put(D,M),yield Y.done,(!we||we.fid!==D.fid)&&Ot(w,D.fid),D})).apply(this,arguments)}function gn(w){return qr.apply(this,arguments)}function qr(){return(qr=(0,x.Z)(function*(w){const D=pn(w),L=(yield rt()).transaction(Er,"readwrite");yield L.objectStore(Er).delete(D),yield L.done})).apply(this,arguments)}function Kr(w,D){return dn.apply(this,arguments)}function dn(){return(dn=(0,x.Z)(function*(w,D){const M=pn(w),Y=(yield rt()).transaction(Er,"readwrite"),re=Y.objectStore(Er),we=yield re.get(M),Oe=D(we);return void 0===Oe?yield re.delete(M):yield re.put(Oe,M),yield Y.done,Oe&&(!we||we.fid!==Oe.fid)&&Ot(w,Oe.fid),Oe})).apply(this,arguments)}function Xt(w){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,x.Z)(function*(w){let D;const M=yield Kr(w.appConfig,L=>{const Y=Jt(L),re=Ze(w,Y);return D=re.registrationPromise,re.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function Jt(w){return bn(w||{fid:Fe(),registrationStatus:0})}function Ze(w,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(He.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function Ve(w,D){return Xs.apply(this,arguments)}(w,M);return{installationEntry:M,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Fn(w)}:{installationEntry:D}}function Xs(){return(Xs=(0,x.Z)(function*(w,D){try{const M=yield ne(w,D);return Qt(w.appConfig,M)}catch(M){throw Ke(M)&&409===M.customData.serverCode?yield gn(w.appConfig):yield Qt(w.appConfig,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Fn(w){return en.apply(this,arguments)}function en(){return(en=(0,x.Z)(function*(w){let D=yield vt(w.appConfig);for(;1===D.registrationStatus;)yield Ae(100),D=yield vt(w.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield Xt(w);return L||M}return D})).apply(this,arguments)}function vt(w){return Kr(w,D=>{if(!D)throw He.create("installation-not-found");return bn(D)})}function bn(w){return function Li(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function kt(w,D){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,x.Z)(function*({appConfig:w,heartbeatServiceProvider:D},M){const L=wt(w,M),Y=V(w,M),re=D.getImmediate({optional:!0});if(re){const ht=yield re.getHeartbeatsHeader();ht&&Y.append("x-firebase-client",ht)}const Oe={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:Q,appId:w.appId}})},nt=yield fe(()=>fetch(L,Oe));if(nt.ok)return ge(yield nt.json());throw yield ve("Generate Auth Token",nt)})).apply(this,arguments)}function wt(w,{fid:D}){return`${De(w)}/${D}/authTokens:generate`}function q(w){return H.apply(this,arguments)}function H(){return(H=(0,x.Z)(function*(w,D=!1){let M;const L=yield Kr(w.appConfig,re=>{if(!Xe(re))throw He.create("not-registered");const we=re.authToken;if(!D&&Zt(we))return re;if(1===we.requestStatus)return M=U(w,D),re;{if(!navigator.onLine)throw He.create("app-offline");const Oe=Mn(re);return M=Ee(w,Oe),Oe}});return M?yield M:L.authToken})).apply(this,arguments)}function U(w,D){return $.apply(this,arguments)}function $(){return($=(0,x.Z)(function*(w,D){let M=yield W(w.appConfig);for(;1===M.authToken.requestStatus;)yield Ae(100),M=yield W(w.appConfig);const L=M.authToken;return 0===L.requestStatus?q(w,D):L})).apply(this,arguments)}function W(w){return Kr(w,D=>{if(!Xe(D))throw He.create("not-registered");return function ze(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ee(w,D){return xe.apply(this,arguments)}function xe(){return(xe=(0,x.Z)(function*(w,D){try{const M=yield kt(w,D),L=Object.assign(Object.assign({},D),{authToken:M});return yield Qt(w.appConfig,L),M}catch(M){if(!Ke(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Qt(w.appConfig,L)}else yield gn(w.appConfig);throw M}})).apply(this,arguments)}function Xe(w){return void 0!==w&&2===w.registrationStatus}function Zt(w){return 2===w.requestStatus&&!function Ft(w){const D=Date.now();return D<w.creationTime||w.creationTime+w.expiresIn<D+36e5}(w)}function Mn(w){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:D})}function tn(){return(tn=(0,x.Z)(function*(w){const D=w,{installationEntry:M,registrationPromise:L}=yield Xt(D);return L?L.catch(console.error):q(D).catch(console.error),M.fid})).apply(this,arguments)}function Wn(){return(Wn=(0,x.Z)(function*(w,D=!1){const M=w;return yield Le(M),(yield q(M,D)).token})).apply(this,arguments)}function Le(w){return at.apply(this,arguments)}function at(){return(at=(0,x.Z)(function*(w){const{registrationPromise:D}=yield Xt(w);D&&(yield D)})).apply(this,arguments)}function pt(w){return He.create("missing-app-config-values",{valueName:w})}const Vo="installations",ln=w=>{const D=w.getProvider("app").getImmediate(),M=function Ui(w){if(!w||!w.options)throw pt("App Configuration");if(!w.name)throw pt("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!w.options[M])throw pt(M);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,oe._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Vi=w=>{const D=w.getProvider("app").getImmediate(),M=(0,oe._getProvider)(D,Vo).getImmediate();return{getId:()=>function zt(w){return tn.apply(this,arguments)}(M),getToken:Y=>function Ln(w){return Wn.apply(this,arguments)}(M,Y)}};(function Zn(){(0,oe._registerComponent)(new ue.wA(Vo,ln,"PUBLIC")),(0,oe._registerComponent)(new ue.wA("installations-internal",Vi,"PRIVATE"))})(),(0,oe.registerVersion)(he,B),(0,oe.registerVersion)(he,B,"esm2017");const Bi="@firebase/remote-config",Ct=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ad{constructor(D,M,L,Y){this.client=D,this.storage=M,this.storageCache=L,this.logger=Y}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,Y=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var M=this;return(0,x.Z)(function*(){const[L,Y]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Y&&M.isCachedDataFresh(D.cacheMaxAgeMillis,L))return Y;D.eTag=Y&&Y.eTag;const re=yield M.client.fetch(D),we=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&we.push(M.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(we),re})()}}function Ku(w=navigator){return w.languages&&w.languages[0]||w.language}class Ol{constructor(D,M,L,Y,re,we){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=L,this.projectId=Y,this.apiKey=re,this.appId=we}fetch(D){var M=this;return(0,x.Z)(function*(){var L,Y,re;const[we,Oe]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Ye={sdk_version:M.sdkVersion,app_instance_id:we,app_instance_id_token:Oe,app_id:M.appId,language_code:Ku()},Tn={method:"POST",headers:ft,body:JSON.stringify(Ye)},gr=fetch(ht,Tn),_a=new Promise((mr,Ls)=>{D.signal.addEventListener(()=>{const Bd=new Error("The operation was aborted.");Bd.name="AbortError",Ls(Bd)})});let jr;try{yield Promise.race([gr,_a]),jr=yield gr}catch(mr){let Ls="fetch-client-network";throw"AbortError"===(null===(L=mr)||void 0===L?void 0:L.name)&&(Ls="fetch-timeout"),Ct.create(Ls,{originalErrorMessage:null===(Y=mr)||void 0===Y?void 0:Y.message})}let Hr=jr.status;const Xl=jr.headers.get("ETag")||void 0;let Io,es;if(200===jr.status){let mr;try{mr=yield jr.json()}catch(Ls){throw Ct.create("fetch-client-parse",{originalErrorMessage:null===(re=Ls)||void 0===re?void 0:re.message})}Io=mr.entries,es=mr.state}if("INSTANCE_STATE_UNSPECIFIED"===es?Hr=500:"NO_CHANGE"===es?Hr=304:("NO_TEMPLATE"===es||"EMPTY_CONFIG"===es)&&(Io={}),304!==Hr&&200!==Hr)throw Ct.create("fetch-status",{httpStatus:Hr});return{status:Hr,eTag:Xl,config:Io}})()}}class sf{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,x.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:L}){var Y=this;return(0,x.Z)(function*(){yield function Rn(w,D){return new Promise((M,L)=>{const Y=Math.max(D-Date.now(),0),re=setTimeout(M,Y);w.addEventListener(()=>{clearTimeout(re),L(Ct.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const re=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),re}catch(re){if(!function Yu(w){if(!(w instanceof ie.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(re))throw re;const we={throttleEndTimeMillis:Date.now()+(0,ie.$s)(L),backoffCount:L+1};return yield Y.storage.setThrottleMetadata(we),Y.attemptFetch(D,we)}})()}}class Qu{constructor(D,M,L,Y,re){this.app=D,this._client=M,this._storageCache=L,this._storage=Y,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function kl(w,D){var M;const L=w.target.error||void 0;return Ct.create(D,{originalErrorMessage:L&&(null===(M=L)||void 0===M?void 0:M.message)})}const $i="app_namespace_store";class Xu{constructor(D,M,L,Y=function uf(){return new Promise((w,D)=>{var M;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=Y=>{D(kl(Y,"storage-open"))},L.onsuccess=Y=>{w(Y.target.result)},L.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore($i,{keyPath:"compositeKey"})}}catch(L){D(Ct.create("storage-open",{originalErrorMessage:null===(M=L)||void 0===M?void 0:M.message}))}})}()){this.appId=D,this.appName=M,this.namespace=L,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,x.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Y,re)=>{var we;const nt=L.transaction([$i],"readonly").objectStore($i),ht=M.createCompositeKey(D);try{const ft=nt.get(ht);ft.onerror=Ye=>{re(kl(Ye,"storage-get"))},ft.onsuccess=Ye=>{const Tn=Ye.target.result;Y(Tn?Tn.value:void 0)}}catch(ft){re(Ct.create("storage-get",{originalErrorMessage:null===(we=ft)||void 0===we?void 0:we.message}))}})})()}set(D,M){var L=this;return(0,x.Z)(function*(){const Y=yield L.openDbPromise;return new Promise((re,we)=>{var Oe;const ht=Y.transaction([$i],"readwrite").objectStore($i),ft=L.createCompositeKey(D);try{const Ye=ht.put({compositeKey:ft,value:M});Ye.onerror=Tn=>{we(kl(Tn,"storage-set"))},Ye.onsuccess=()=>{re()}}catch(Ye){we(Ct.create("storage-set",{originalErrorMessage:null===(Oe=Ye)||void 0===Oe?void 0:Oe.message}))}})})()}delete(D){var M=this;return(0,x.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Y,re)=>{var we;const nt=L.transaction([$i],"readwrite").objectStore($i),ht=M.createCompositeKey(D);try{const ft=nt.delete(ht);ft.onerror=Ye=>{re(kl(Ye,"storage-delete"))},ft.onsuccess=()=>{Y()}}catch(ft){re(Ct.create("storage-delete",{originalErrorMessage:null===(we=ft)||void 0===we?void 0:we.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class $o{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,x.Z)(function*(){const M=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),re=yield M;re&&(D.lastFetchStatus=re);const we=yield L;we&&(D.lastSuccessfulFetchTimestampMillis=we);const Oe=yield Y;Oe&&(D.activeConfig=Oe)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Ur(){return tc.apply(this,arguments)}function tc(){return(tc=(0,x.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function io(){(0,oe._registerComponent)(new ue.wA("remote-config",function w(D,{instanceIdentifier:M}){const L=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ct.create("registration-window");if(!(0,ie.hl)())throw Ct.create("indexed-db-unavailable");const{projectId:re,apiKey:we,appId:Oe}=L.options;if(!re)throw Ct.create("registration-project-id");if(!we)throw Ct.create("registration-api-key");if(!Oe)throw Ct.create("registration-app-id");const nt=new Xu(Oe,L.name,M=M||"firebase"),ht=new $o(nt),ft=new le.Yd(Bi);ft.logLevel=le.in.ERROR;const Ye=new Ol(Y,oe.SDK_VERSION,M,re,we,Oe),Tn=new sf(Ye,nt),gr=new Ad(Tn,nt,ht,ft),_a=new Qu(L,gr,ht,nt,ft);return function wn(w){const D=(0,ie.m9)(w);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(_a),_a},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Bi,"0.3.11"),(0,oe.registerVersion)(Bi,"0.3.11","esm2017")}();const so="/firebase-messaging-sw.js",Jr="/firebase-cloud-messaging-push-scope",bs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ao="google.c.a.c_id",Go="google.c.a.c_l",nc="google.c.a.ts",rc="google.c.a.e";var Pn=(()=>{return(w=Pn||(Pn={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Pn;var w})();function nr(w){const D=new Uint8Array(w);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ic(w){const M=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),Y=new Uint8Array(L.length);for(let re=0;re<L.length;++re)Y[re]=L.charCodeAt(re);return Y}const uo="fcm_token_details_db",Dr="fcm_token_object_Store";function yn(w){return oc.apply(this,arguments)}function oc(){return oc=(0,x.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(uo))return null;let D=null;return(yield(0,ce.X3)(uo,5,{upgrade:(L=(0,x.Z)(function*(Y,re,we,Oe){var nt;if(re<2||!Y.objectStoreNames.contains(Dr))return;const ht=Oe.objectStore(Dr),ft=yield ht.index("fcmSenderId").get(w);if(yield ht.clear(),ft)if(2===re){const Ye=ft;if(!Ye.auth||!Ye.p256dh||!Ye.endpoint)return;D={token:Ye.fcmToken,createTime:null!==(nt=Ye.createTime)&&void 0!==nt?nt:Date.now(),subscriptionOptions:{auth:Ye.auth,p256dh:Ye.p256dh,endpoint:Ye.endpoint,swScope:Ye.swScope,vapidKey:"string"==typeof Ye.vapidKey?Ye.vapidKey:nr(Ye.vapidKey)}}}else if(3===re){const Ye=ft;D={token:Ye.fcmToken,createTime:Ye.createTime,subscriptionOptions:{auth:nr(Ye.auth),p256dh:nr(Ye.p256dh),endpoint:Ye.endpoint,swScope:Ye.swScope,vapidKey:nr(Ye.vapidKey)}}}else if(4===re){const Ye=ft;D={token:Ye.fcmToken,createTime:Ye.createTime,subscriptionOptions:{auth:nr(Ye.auth),p256dh:nr(Ye.p256dh),endpoint:Ye.endpoint,swScope:Ye.swScope,vapidKey:nr(Ye.vapidKey)}}}}),function(re,we,Oe,nt){return L.apply(this,arguments)})})).close(),yield(0,ce.Lj)(uo),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),Sd(D)?D:null;var L}),oc.apply(this,arguments)}function Sd(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:D}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const mi="firebase-messaging-store";let Wo=null;function _i(){return Wo||(Wo=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(w,D)=>{0===D&&w.createObjectStore(mi)}})),Wo}function Vn(w){return co.apply(this,arguments)}function co(){return(co=(0,x.Z)(function*(w){const D=ho(w),L=yield(yield _i()).transaction(mi).objectStore(mi).get(D);if(L)return L;{const Y=yield yn(w.appConfig.senderId);if(Y)return yield Vr(w,Y),Y}})).apply(this,arguments)}function Vr(w,D){return yi.apply(this,arguments)}function yi(){return(yi=(0,x.Z)(function*(w,D){const M=ho(w),Y=(yield _i()).transaction(mi,"readwrite");return yield Y.objectStore(mi).put(D,M),yield Y.done,D})).apply(this,arguments)}function vi(w){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,x.Z)(function*(w){const D=ho(w),L=(yield _i()).transaction(mi,"readwrite");yield L.objectStore(mi).delete(D),yield L.done})).apply(this,arguments)}function ho({appConfig:w}){return w.appId}const hn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ac(w,D){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,x.Z)(function*(w,D){var M;const L=yield Ce(w),Y=Wi(D),re={method:"POST",headers:L,body:JSON.stringify(Y)};let we;try{we=yield(yield fetch(fo(w.appConfig),re)).json()}catch(Oe){throw hn.create("token-subscribe-failed",{errorInfo:null===(M=Oe)||void 0===M?void 0:M.toString()})}if(we.error)throw hn.create("token-subscribe-failed",{errorInfo:we.error.message});if(!we.token)throw hn.create("token-subscribe-no-token");return we.token})).apply(this,arguments)}function Fl(w,D){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,x.Z)(function*(w,D){var M;const L=yield Ce(w),Y=Wi(D.subscriptionOptions),re={method:"PATCH",headers:L,body:JSON.stringify(Y)};let we;try{we=yield(yield fetch(`${fo(w.appConfig)}/${D.token}`,re)).json()}catch(Oe){throw hn.create("token-update-failed",{errorInfo:null===(M=Oe)||void 0===M?void 0:M.toString()})}if(we.error)throw hn.create("token-update-failed",{errorInfo:we.error.message});if(!we.token)throw hn.create("token-update-no-token");return we.token})).apply(this,arguments)}function Gi(w,D){return La.apply(this,arguments)}function La(){return(La=(0,x.Z)(function*(w,D){var M;const Y={method:"DELETE",headers:yield Ce(w)};try{const we=yield(yield fetch(`${fo(w.appConfig)}/${D}`,Y)).json();if(we.error)throw hn.create("token-unsubscribe-failed",{errorInfo:we.error.message})}catch(re){throw hn.create("token-unsubscribe-failed",{errorInfo:null===(M=re)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function fo({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Ce(w){return Et.apply(this,arguments)}function Et(){return(Et=(0,x.Z)(function*({appConfig:w,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Wi({p256dh:w,auth:D,endpoint:M,vapidKey:L}){const Y={web:{endpoint:M,auth:D,p256dh:w}};return L!==bs&&(Y.web.applicationPubKey=L),Y}const po=6048e5;function nn(w){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,x.Z)(function*(w){const D=yield Md(w.swRegistration,w.vapidKey),M={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:D.endpoint,auth:nr(D.getKey("auth")),p256dh:nr(D.getKey("p256dh"))},L=yield Vn(w.firebaseDependencies);if(L){if(Dn(L.subscriptionOptions,M))return Date.now()>=L.createTime+po?zo(w,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield Gi(w.firebaseDependencies,L.token)}catch(Y){console.warn(Y)}return go(w.firebaseDependencies,M)}return go(w.firebaseDependencies,M)})).apply(this,arguments)}function Zi(w){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,x.Z)(function*(w){const D=yield Vn(w.firebaseDependencies);D&&(yield Gi(w.firebaseDependencies,D.token),yield vi(w.firebaseDependencies));const M=yield w.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function zo(w,D){return qo.apply(this,arguments)}function qo(){return(qo=(0,x.Z)(function*(w,D){try{const M=yield Fl(w.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield Vr(w.firebaseDependencies,L),M}catch(M){throw yield Zi(w),M}})).apply(this,arguments)}function go(w,D){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,x.Z)(function*(w,D){const L={token:yield ac(w,D),createTime:Date.now(),subscriptionOptions:D};return yield Vr(w,L),L.token})).apply(this,arguments)}function Md(w,D){return zi.apply(this,arguments)}function zi(){return(zi=(0,x.Z)(function*(w,D){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ic(D)})})).apply(this,arguments)}function Dn(w,D){return D.vapidKey===w.vapidKey&&D.endpoint===w.endpoint&&D.auth===w.auth&&D.p256dh===w.p256dh}function Xr(w){const D={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Yo(w,D){if(!D.notification)return;w.notification={};const M=D.notification.title;M&&(w.notification.title=M);const L=D.notification.body;L&&(w.notification.body=L);const Y=D.notification.image;Y&&(w.notification.image=Y)}(D,w),function Is(w,D){!D.data||(w.data=D.data)}(D,w),function Ei(w,D){var M,L,Y,re,we;if(!(D.fcmOptions||null!==(M=D.notification)&&void 0!==M&&M.click_action))return;w.fcmOptions={};const Oe=null!==(Y=null===(L=D.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==Y?Y:null===(re=D.notification)||void 0===re?void 0:re.click_action;Oe&&(w.fcmOptions.link=Oe);const nt=null===(we=D.fcmOptions)||void 0===we?void 0:we.analytics_label;nt&&(w.fcmOptions.analyticsLabel=nt)}(D,w),D}function Ll(w){return"object"==typeof w&&!!w&&ao in w}function Ul(w,D){const M=[];for(let L=0;L<w.length;L++)M.push(w.charAt(L)),L<D.length&&M.push(D.charAt(L));return M.join("")}function Qo(w){return hn.create("missing-app-config-values",{valueName:w})}Ul("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ul("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vl{constructor(D,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function lc(w){if(!w||!w.options)throw Qo("App Configuration Object");if(!w.name)throw Qo("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=w;for(const L of D)if(!M[L])throw Qo(L);return{appName:w.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Ts(w){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,x.Z)(function*(w){var D;try{w.swRegistration=yield navigator.serviceWorker.register(so,{scope:Jr}),w.swRegistration.update().catch(()=>{})}catch(M){throw hn.create("failed-service-worker-registration",{browserErrorMessage:null===(D=M)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function Jo(w,D){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,x.Z)(function*(w,D){if(!D&&!w.swRegistration&&(yield Ts(w)),D||!w.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw hn.create("invalid-sw-registration");w.swRegistration=D}})).apply(this,arguments)}function mo(w,D){return Va.apply(this,arguments)}function Va(){return(Va=(0,x.Z)(function*(w,D){D?w.vapidKey=D:w.vapidKey||(w.vapidKey=bs)})).apply(this,arguments)}function ja(){return(ja=(0,x.Z)(function*(w,D){if(!navigator)throw hn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw hn.create("permission-blocked");return yield mo(w,D?.vapidKey),yield Jo(w,D?.serviceWorkerRegistration),nn(w)})).apply(this,arguments)}function Ha(w,D,M){return $a.apply(this,arguments)}function $a(){return($a=(0,x.Z)(function*(w,D,M){const L=_o(D);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[ao],message_name:M[Go],message_time:M[nc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _o(w){switch(w){case Pn.NOTIFICATION_CLICKED:return"notification_open";case Pn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ga(){return(Ga=(0,x.Z)(function*(w,D){const M=D.data;if(!M.isFirebaseMessaging)return;w.onMessageHandler&&M.messageType===Pn.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Xr(M)):w.onMessageHandler.next(Xr(M)));const L=M.data;Ll(L)&&"1"===L[rc]&&(yield Ha(w,M.messageType,L))})).apply(this,arguments)}const xn="@firebase/messaging",un=w=>{const D=new Vl(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Rd(w,D){return Ga.apply(this,arguments)}(D,M)),D},Xo=w=>{const D=w.getProvider("messaging").getImmediate();return{getToken:L=>function Ba(w,D){return ja.apply(this,arguments)}(D,L)}};function Pd(){return jl.apply(this,arguments)}function jl(){return(jl=(0,x.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function uc(){(0,oe._registerComponent)(new ue.wA("messaging",un,"PUBLIC")),(0,oe._registerComponent)(new ue.wA("messaging-internal",Xo,"PRIVATE")),(0,oe.registerVersion)(xn,"0.9.16"),(0,oe.registerVersion)(xn,"0.9.16","esm2017")}();const ei="analytics",yo="firebase_id",ti="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ta="https://www.googletagmanager.com/gtag/js",Bn=new le.Yd("@firebase/analytics");function kd(w){return Promise.all(w.map(D=>D.catch(M=>M)))}function og(w,D){const M=document.createElement("script");M.src=`${ta}?l=${w}&id=${D}`,M.async=!0,document.head.appendChild(M)}function na(w,D,M,L,Y,re){return ra.apply(this,arguments)}function ra(){return(ra=(0,x.Z)(function*(w,D,M,L,Y,re){const we=L[Y];try{if(we)yield D[we];else{const nt=(yield kd(M)).find(ht=>ht.measurementId===Y);nt&&(yield D[nt.appId])}}catch(Oe){Bn.error(Oe)}w("config",Y,re)})).apply(this,arguments)}function hc(w,D,M,L,Y){return qi.apply(this,arguments)}function qi(){return(qi=(0,x.Z)(function*(w,D,M,L,Y){try{let re=[];if(Y&&Y.send_to){let we=Y.send_to;Array.isArray(we)||(we=[we]);const Oe=yield kd(M);for(const nt of we){const ht=Oe.find(Ye=>Ye.measurementId===nt),ft=ht&&D[ht.appId];if(!ft){re=[];break}re.push(ft)}}0===re.length&&(re=Object.values(D)),yield Promise.all(re),w("event",L,Y||{})}catch(re){Bn.error(re)}})).apply(this,arguments)}function ia(){const w=window.document.getElementsByTagName("script");for(const D of Object.values(w))if(D.src&&D.src.includes(ta))return D;return null}const zn=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),gc=new class Ss{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function qt(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Br(w){return Be.apply(this,arguments)}function Be(){return(Be=(0,x.Z)(function*(w){var D;const{appId:M,apiKey:L}=w,Y={method:"GET",headers:qt(L)},re=ti.replace("{app-id}",M),we=yield fetch(re,Y);if(200!==we.status&&304!==we.status){let Oe="";try{const nt=yield we.json();null!==(D=nt.error)&&void 0!==D&&D.message&&(Oe=nt.error.message)}catch{}throw zn.create("config-fetch-failed",{httpStatus:we.status,responseMessage:Oe})}return we.json()})).apply(this,arguments)}function Gt(w){return jn.apply(this,arguments)}function jn(){return(jn=(0,x.Z)(function*(w,D=gc,M){const{appId:L,apiKey:Y,measurementId:re}=w.options;if(!L)throw zn.create("no-app-id");if(!Y){if(re)return{measurementId:re,appId:L};throw zn.create("no-api-key")}const we=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Oe=new Ld;return setTimeout((0,x.Z)(function*(){Oe.abort()}),void 0!==M?M:6e4),vo({appId:L,apiKey:Y,measurementId:re},we,Oe,D)})).apply(this,arguments)}function vo(w,D,M){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,x.Z)(function*(w,{throttleEndTimeMillis:D,backoffCount:M},L,Y=gc){var re,we;const{appId:Oe,measurementId:nt}=w;try{yield Hn(L,D)}catch(ht){if(nt)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${null===(re=ht)||void 0===re?void 0:re.message}]`),{appId:Oe,measurementId:nt};throw ht}try{const ht=yield Br(w);return Y.deleteThrottleMetadata(Oe),ht}catch(ht){const ft=ht;if(!Za(ft)){if(Y.deleteThrottleMetadata(Oe),nt)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:Oe,measurementId:nt};throw ht}const Ye=503===Number(null===(we=ft?.customData)||void 0===we?void 0:we.httpStatus)?(0,ie.$s)(M,Y.intervalMillis,30):(0,ie.$s)(M,Y.intervalMillis),Tn={throttleEndTimeMillis:Date.now()+Ye,backoffCount:M+1};return Y.setThrottleMetadata(Oe,Tn),Bn.debug(`Calling attemptFetch again in ${Ye} millis`),vo(w,Tn,L,Y)}})).apply(this,arguments)}function Hn(w,D){return new Promise((M,L)=>{const Y=Math.max(D-Date.now(),0),re=setTimeout(M,Y);w.addEventListener(()=>{clearTimeout(re),L(zn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Za(w){if(!(w instanceof ie.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Ld{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let oa,la;function Yi(){return(Yi=(0,x.Z)(function*(w,D,M,L,Y){if(Y&&Y.global)w("event",M,L);else{const re=yield D;w("event",M,Object.assign(Object.assign({},L),{send_to:re}))}})).apply(this,arguments)}function ua(w){la=w}function za(w){oa=w}function _c(){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,x.Z)(function*(){var w;if(!(0,ie.hl)())return Bn.warn(zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(D){return Bn.warn(zn.create("indexeddb-unavailable",{errorInfo:null===(w=D)||void 0===w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function ni(){return(ni=(0,x.Z)(function*(w,D,M,L,Y,re,we){var Oe;const nt=Gt(w);nt.then(gr=>{M[gr.measurementId]=gr.appId,w.options.measurementId&&gr.measurementId!==w.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${gr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(gr=>Bn.error(gr)),D.push(nt);const ht=_c().then(gr=>{if(gr)return L.getId()}),[ft,Ye]=yield Promise.all([nt,ht]);ia()||og(re,ft.measurementId),la&&(Y("consent","default",la),ua(void 0)),Y("js",new Date);const Tn=null!==(Oe=we?.config)&&void 0!==Oe?Oe:{};return Tn.origin="firebase",Tn.update=!0,null!=Ye&&(Tn[yo]=Ye),Y("config",ft.measurementId,Tn),oa&&(Y("set",oa),za(void 0)),ft.measurementId})).apply(this,arguments)}class ri{constructor(D){this.app=D}_delete(){return delete Jn[this.app.options.appId],Promise.resolve()}}let Jn={},ca=[];const Eo={};let Wl,it,rr="dataLayer",Ps=!1;function qa(w,D,M){!function vn(){const w=[];if((0,ie.ru)()&&w.push("This is a browser extension environment."),(0,ie.zI)()||w.push("Cookies are not available."),w.length>0){const D=w.map((L,Y)=>`(${Y+1}) ${L}`).join(" "),M=zn.create("invalid-analytics-context",{errorInfo:D});Bn.warn(M.message)}}();const L=w.options.appId;if(!L)throw zn.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw zn.create("no-api-key");Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Jn[L])throw zn.create("already-exists",{id:L});if(!Ps){!function ag(w){let D=[];Array.isArray(window[w])?D=window[w]:window[w]=D}(rr);const{wrappedGtag:re,gtagCore:we}=function Fd(w,D,M,L,Y){let re=function(...we){window[L].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(re=window[Y]),window[Y]=function fc(w,D,M,L){function re(){return(re=(0,x.Z)(function*(we,Oe,nt){try{"event"===we?yield hc(w,D,M,Oe,nt):"config"===we?yield na(w,D,M,L,Oe,nt):"consent"===we?w("consent","update",nt):w("set",Oe)}catch(ht){Bn.error(ht)}})).apply(this,arguments)}return function Y(we,Oe,nt){return re.apply(this,arguments)}}(re,w,D,M),{gtagCore:re,wrappedGtag:window[Y]}}(Jn,ca,Eo,rr,"gtag");it=re,Wl=we,Ps=!0}return Jn[L]=function Qi(w,D,M,L,Y,re,we){return ni.apply(this,arguments)}(w,ca,Eo,D,Wl,rr,M),new ri(w)}function ir(){return ii.apply(this,arguments)}function ii(){return(ii=(0,x.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const $n="@firebase/analytics";!function Zl(){(0,oe._registerComponent)(new ue.wA(ei,(D,{options:M})=>qa(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,oe._registerComponent)(new ue.wA("analytics-internal",function w(D){try{const M=D.getProvider(ei).getImmediate();return{logEvent:(L,Y,re)=>function xs(w,D,M,L){w=(0,ie.m9)(w),function mc(w,D,M,L,Y){return Yi.apply(this,arguments)}(it,Jn[w.app.options.appId],D,M,L).catch(Y=>Bn.error(Y))}(M,L,Y,re)}}catch(M){throw zn.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,oe.registerVersion)($n,"0.8.0"),(0,oe.registerVersion)($n,"0.8.0","esm2017")}();var bo=O(4408),Ns=O(7565);const zl=new class gt extends Ns.v{}(class da extends bo.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,M,L):D.flush(this)}});var vc=O(4986),wo=O(8505),Lt=O(5363),Do=O(9468);const Os=new u.GfV("7.4.1"),ql="__angularfire_symbol__analyticsIsSupportedValue",Kl="__angularfire_symbol__analyticsIsSupported",fn="__angularfire_symbol__remoteConfigIsSupportedValue",Sr="__angularfire_symbol__remoteConfigIsSupported",ha="__angularfire_symbol__messagingIsSupportedValue",Yl="__angularfire_symbol__messagingIsSupported";function Jl(w,D,M){if(D){if(1===D.length)return D[0];const re=D.filter(we=>we.app===M);if(1===re.length)return re[0]}return M.container.getProvider(w).getImmediate({optional:!0})}globalThis[Kl]||(globalThis[Kl]=ir().then(w=>globalThis[ql]=w).catch(()=>globalThis[ql]=!1)),globalThis[Yl]||(globalThis[Yl]=Pd().then(w=>globalThis[ha]=w).catch(()=>globalThis[ha]=!1)),globalThis[Sr]||(globalThis[Sr]=Ur().then(w=>globalThis[fn]=w).catch(()=>globalThis[fn]=!1));const ks=(w,D)=>{const M=D?[D]:(0,ee.C6)(),L=[];return M.forEach(Y=>{Y.container.getProvider(w).instances.forEach(we=>{L.includes(we)||L.push(we)})}),L};function Di(){}class si{constructor(D,M=zl){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,L){const Y=this.zone;return this.delegate.schedule(function(we){Y.runGuarded(()=>{D.apply(this,[we])})},M,L)}}class Ya{constructor(D){this.zone=D,this.task=null}call(D,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Di,{},Di,Di)),M.pipe((0,wo.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fs=(()=>{class w{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new si(Zone.current)),this.insideAngular=M.run(()=>new si(Zone.current,vc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(M){return new(M||w)(u.LFG(u.R0b))},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function dt(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Mr(w){return w.pipe((0,Lt.Q)(dt().outsideAngular))}function rn(w){return dt(),function ga(w){return function(M){return(M=M.lift(new Ya(w.ngZone))).pipe((0,Do.R)(w.outsideAngular),(0,Lt.Q)(w.insideAngular))}}(dt())(w)}},2090:(Qe,be,O)=>{O.d(be,{$s:()=>Li,BH:()=>Pe,DV:()=>_t,Dv:()=>Kr,GJ:()=>Ot,L:()=>ce,LL:()=>Me,Pz:()=>It,Sg:()=>Ie,UG:()=>pe,UI:()=>vs,US:()=>ue,Wj:()=>Fi,Yr:()=>Ne,ZB:()=>j,ZR:()=>ne,b$:()=>Ke,cI:()=>Pt,dS:()=>Ze,eu:()=>fe,g5:()=>x,gK:()=>dn,gQ:()=>kr,h$:()=>le,hl:()=>V,hu:()=>ee,jU:()=>de,lb:()=>Jt,m9:()=>wt,ne:()=>rt,p$:()=>B,pd:()=>Er,r3:()=>Xn,ru:()=>He,tV:()=>he,uI:()=>We,ug:()=>Ve,vZ:()=>Cr,w1:()=>ge,w9:()=>Nt,xO:()=>zr,xb:()=>$t,z$:()=>_e,zI:()=>K,zd:()=>fi});const ee=function(q,H){if(!q)throw x(H)},x=function(q){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+q)},oe=function(q){const H=[];let U=0;for(let $=0;$<q.length;$++){let W=q.charCodeAt($);W<128?H[U++]=W:W<2048?(H[U++]=W>>6|192,H[U++]=63&W|128):55296==(64512&W)&&$+1<q.length&&56320==(64512&q.charCodeAt($+1))?(W=65536+((1023&W)<<10)+(1023&q.charCodeAt(++$)),H[U++]=W>>18|240,H[U++]=W>>12&63|128,H[U++]=W>>6&63|128,H[U++]=63&W|128):(H[U++]=W>>12|224,H[U++]=W>>6&63|128,H[U++]=63&W|128)}return H},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,H){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let W=0;W<q.length;W+=3){const Ee=q[W],xe=W+1<q.length,Xe=xe?q[W+1]:0,Zt=W+2<q.length,Ft=Zt?q[W+2]:0;let zt=(15&Xe)<<2|Ft>>6,tn=63&Ft;Zt||(tn=64,xe||(zt=64)),$.push(U[Ee>>2],U[(3&Ee)<<4|Xe>>4],U[zt],U[tn])}return $.join("")},encodeString(q,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(q):this.encodeByteArray(oe(q),H)},decodeString(q,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(q):function(q){const H=[];let U=0,$=0;for(;U<q.length;){const W=q[U++];if(W<128)H[$++]=String.fromCharCode(W);else if(W>191&&W<224){const Ee=q[U++];H[$++]=String.fromCharCode((31&W)<<6|63&Ee)}else if(W>239&&W<365){const Zt=((7&W)<<18|(63&q[U++])<<12|(63&q[U++])<<6|63&q[U++])-65536;H[$++]=String.fromCharCode(55296+(Zt>>10)),H[$++]=String.fromCharCode(56320+(1023&Zt))}else{const Ee=q[U++],xe=q[U++];H[$++]=String.fromCharCode((15&W)<<12|(63&Ee)<<6|63&xe)}}return H.join("")}(this.decodeStringToByteArray(q,H))},decodeStringToByteArray(q,H){this.init_();const U=H?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let W=0;W<q.length;){const Ee=U[q.charAt(W++)],Xe=W<q.length?U[q.charAt(W)]:0;++W;const Ft=W<q.length?U[q.charAt(W)]:64;++W;const ze=W<q.length?U[q.charAt(W)]:64;if(++W,null==Ee||null==Xe||null==Ft||null==ze)throw Error();$.push(Ee<<2|Xe>>4),64!==Ft&&($.push(Xe<<4&240|Ft>>2),64!==ze&&$.push(Ft<<6&192|ze))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},le=function(q){const H=oe(q);return ue.encodeByteArray(H,!0)},ce=function(q){return le(q).replace(/\./g,"")},he=function(q){try{return ue.decodeString(q,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function B(q){return j(void 0,q)}function j(q,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return H}for(const U in H)!H.hasOwnProperty(U)||!Q(U)||(q[U]=j(q[U],H[U]));return q}function Q(q){return"__proto__"!==q}class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,U)=>{this.resolve=H,this.reject=U})}wrapCallback(H){return(U,$)=>{U?this.reject(U):this.resolve($),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(U):H(U,$))}}}function Ie(q,H){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=H||"demo-project",W=q.iat||0,Ee=q.sub||q.user_id;if(!Ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xe=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:W,exp:W+3600,auth_time:W,sub:Ee,user_id:Ee,firebase:{sign_in_provider:"custom",identities:{}}},q);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(xe)),""].join(".")}function _e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function We(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_e())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function de(){return"object"==typeof self&&self.self===self}function He(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){const q=_e();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ne(){return!1}function V(){return"object"==typeof indexedDB}function fe(){return new Promise((q,H)=>{try{let U=!0;const $="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open($);W.onsuccess=()=>{W.result.close(),U||self.indexedDB.deleteDatabase($),q(!0)},W.onupgradeneeded=()=>{U=!1},W.onerror=()=>{var Ee;H((null===(Ee=W.error)||void 0===Ee?void 0:Ee.message)||"")}}catch(U){H(U)}})}function K(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ne extends Error{constructor(H,U,$){super(U),this.code=H,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(H,U,$){this.service=H,this.serviceName=U,this.errors=$}create(H,...U){const $=U[0]||{},W=`${this.service}/${H}`,Ee=this.errors[H],xe=Ee?function Ae(q,H){return q.replace(tt,(U,$)=>{const W=H[$];return null!=W?String(W):`<${$}?>`})}(Ee,$):"Error";return new ne(W,`${this.serviceName}: ${xe} (${W}).`,$)}}const tt=/\{\$([^}]+)}/g;function Pt(q){return JSON.parse(q)}function It(q){return JSON.stringify(q)}const Fe=function(q){let H={},U={},$={},W="";try{const Ee=q.split(".");H=Pt(he(Ee[0])||""),U=Pt(he(Ee[1])||""),W=Ee[2],$=U.d||{},delete U.d}catch{}return{header:H,claims:U,data:$,signature:W}},Nt=function(q){const U=Fe(q).claims;return!!U&&"object"==typeof U&&U.hasOwnProperty("iat")},Ot=function(q){const H=Fe(q).claims;return"object"==typeof H&&!0===H.admin};function Xn(q,H){return Object.prototype.hasOwnProperty.call(q,H)}function _t(q,H){if(Object.prototype.hasOwnProperty.call(q,H))return q[H]}function $t(q){for(const H in q)if(Object.prototype.hasOwnProperty.call(q,H))return!1;return!0}function vs(q,H,U){const $={};for(const W in q)Object.prototype.hasOwnProperty.call(q,W)&&($[W]=H.call(U,q[W],W,q));return $}function Cr(q,H){if(q===H)return!0;const U=Object.keys(q),$=Object.keys(H);for(const W of U){if(!$.includes(W))return!1;const Ee=q[W],xe=H[W];if(Qn(Ee)&&Qn(xe)){if(!Cr(Ee,xe))return!1}else if(Ee!==xe)return!1}for(const W of $)if(!U.includes(W))return!1;return!0}function Qn(q){return null!==q&&"object"==typeof q}function zr(q){const H=[];for(const[U,$]of Object.entries(q))Array.isArray($)?$.forEach(W=>{H.push(encodeURIComponent(U)+"="+encodeURIComponent(W))}):H.push(encodeURIComponent(U)+"="+encodeURIComponent($));return H.length?"&"+H.join("&"):""}function fi(q){const H={};return q.replace(/^\?/,"").split("&").forEach($=>{if($){const[W,Ee]=$.split("=");H[decodeURIComponent(W)]=decodeURIComponent(Ee)}}),H}function Er(q){const H=q.indexOf("?");if(!H)return"";const U=q.indexOf("#",H);return q.substring(H,U>0?U:void 0)}class kr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,U){U||(U=0);const $=this.W_;if("string"==typeof H)for(let ze=0;ze<16;ze++)$[ze]=H.charCodeAt(U)<<24|H.charCodeAt(U+1)<<16|H.charCodeAt(U+2)<<8|H.charCodeAt(U+3),U+=4;else for(let ze=0;ze<16;ze++)$[ze]=H[U]<<24|H[U+1]<<16|H[U+2]<<8|H[U+3],U+=4;for(let ze=16;ze<80;ze++){const zt=$[ze-3]^$[ze-8]^$[ze-14]^$[ze-16];$[ze]=4294967295&(zt<<1|zt>>>31)}let Ft,Mn,W=this.chain_[0],Ee=this.chain_[1],xe=this.chain_[2],Xe=this.chain_[3],Zt=this.chain_[4];for(let ze=0;ze<80;ze++){ze<40?ze<20?(Ft=Xe^Ee&(xe^Xe),Mn=1518500249):(Ft=Ee^xe^Xe,Mn=1859775393):ze<60?(Ft=Ee&xe|Xe&(Ee|xe),Mn=2400959708):(Ft=Ee^xe^Xe,Mn=3395469782);const zt=(W<<5|W>>>27)+Ft+Zt+Mn+$[ze]&4294967295;Zt=Xe,Xe=xe,xe=4294967295&(Ee<<30|Ee>>>2),Ee=W,W=zt}this.chain_[0]=this.chain_[0]+W&4294967295,this.chain_[1]=this.chain_[1]+Ee&4294967295,this.chain_[2]=this.chain_[2]+xe&4294967295,this.chain_[3]=this.chain_[3]+Xe&4294967295,this.chain_[4]=this.chain_[4]+Zt&4294967295}update(H,U){if(null==H)return;void 0===U&&(U=H.length);const $=U-this.blockSize;let W=0;const Ee=this.buf_;let xe=this.inbuf_;for(;W<U;){if(0===xe)for(;W<=$;)this.compress_(H,W),W+=this.blockSize;if("string"==typeof H){for(;W<U;)if(Ee[xe]=H.charCodeAt(W),++xe,++W,xe===this.blockSize){this.compress_(Ee),xe=0;break}}else for(;W<U;)if(Ee[xe]=H[W],++xe,++W,xe===this.blockSize){this.compress_(Ee),xe=0;break}}this.inbuf_=xe,this.total_+=U}digest(){const H=[];let U=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let W=this.blockSize-1;W>=56;W--)this.buf_[W]=255&U,U/=256;this.compress_(this.buf_);let $=0;for(let W=0;W<5;W++)for(let Ee=24;Ee>=0;Ee-=8)H[$]=this.chain_[W]>>Ee&255,++$;return H}}function rt(q,H){const U=new Qt(q,H);return U.subscribe.bind(U)}class Qt{constructor(H,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{H(this)}).catch($=>{this.error($)})}next(H){this.forEachObserver(U=>{U.next(H)})}error(H){this.forEachObserver(U=>{U.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,U,$){let W;if(void 0===H&&void 0===U&&void 0===$)throw new Error("Missing Observer.");W=function gn(q,H){if("object"!=typeof q||null===q)return!1;for(const U of H)if(U in q&&"function"==typeof q[U])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:U,complete:$},void 0===W.next&&(W.next=qr),void 0===W.error&&(W.error=qr),void 0===W.complete&&(W.complete=qr);const Ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),Ee}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,H)}sendOne(H,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{U(this.observers[H])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qr(){}const Kr=function(q,H,U,$){let W;if($<H?W="at least "+H:$>U&&(W=0===U?"none":"no more than "+U),W)throw new Error(q+" failed: Was called with "+$+(1===$?" argument.":" arguments.")+" Expects "+W+".")};function dn(q,H){return`${q} failed: ${H} argument `}function Fi(q,H,U,$){if((!$||U)&&"function"!=typeof U)throw new Error(dn(q,H)+"must be a valid function.")}function Jt(q,H,U,$){if((!$||U)&&("object"!=typeof U||null===U))throw new Error(dn(q,H)+"must be a valid context object.")}const Ze=function(q){const H=[];let U=0;for(let $=0;$<q.length;$++){let W=q.charCodeAt($);if(W>=55296&&W<=56319){const Ee=W-55296;$++,ee($<q.length,"Surrogate pair missing trail surrogate."),W=65536+(Ee<<10)+(q.charCodeAt($)-56320)}W<128?H[U++]=W:W<2048?(H[U++]=W>>6|192,H[U++]=63&W|128):W<65536?(H[U++]=W>>12|224,H[U++]=W>>6&63|128,H[U++]=63&W|128):(H[U++]=W>>18|240,H[U++]=W>>12&63|128,H[U++]=W>>6&63|128,H[U++]=63&W|128)}return H},Ve=function(q){let H=0;for(let U=0;U<q.length;U++){const $=q.charCodeAt(U);$<128?H++:$<2048?H+=2:$>=55296&&$<=56319?(H+=4,U++):H+=3}return H};function Li(q,H=1e3,U=2){const $=H*Math.pow(U,q),W=Math.round(.5*$*(Math.random()-.5)*2);return Math.min(144e5,$+W)}function wt(q){return q&&q._delegate?q._delegate:q}},3936:(Qe,be,O)=>{var u=O(4650);let ee=null;function x(){return ee}const le=new u.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function he(){return(0,u.LFG)(j)}()},providedIn:"platform"}),n})();const B=new u.OlP("Location Initialized");let j=(()=>{class n extends ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const i=x().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=x().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,a){Q()?this._history.pushState(e,i,a):this.location.hash=a}replaceState(e,i,a){Q()?this._history.replaceState(e,i,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Pe(){return new j((0,u.LFG)(le))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Ie(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function _e(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(He)},providedIn:"root"}),n})();const de=new u.OlP("appBaseHref");let He=(()=>{class n extends pe{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ie(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+We(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${i}${a}`:i}pushState(e,i,a,c){const g=this.prepareExternalUrl(a+We(c));this._platformLocation.pushState(e,i,g)}replaceState(e,i,a,c){const g=this.prepareExternalUrl(a+We(c));this._platformLocation.replaceState(e,i,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ce),u.LFG(de,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ke=(()=>{class n extends pe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ie(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,a,c){let g=this.prepareExternalUrl(a+We(c));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,i,g)}replaceState(e,i,a,c){let g=this.prepareExternalUrl(a+We(c));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ce),u.LFG(de,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n{constructor(e){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=_e(Ne(i)),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+We(i))}normalize(e){return n.stripTrailingSlash(function ve(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ne(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",a=null){this._locationStrategy.pushState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+We(i)),a)}replaceState(e,i="",a=null){this._locationStrategy.replaceState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+We(i)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(a=>a(e,i))}subscribe(e,i,a){return this._subject.subscribe({next:e,error:i,complete:a})}}return n.normalizeQueryParams=We,n.joinWithSlash=Ie,n.stripTrailingSlash=_e,n.\u0275fac=function(e){return new(e||n)(u.LFG(pe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ge(){return new De((0,u.LFG)(pe))}()},providedIn:"root"}),n})();function Ne(n){return n.replace(/\/index.html$/,"")}function Oa(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[a,c]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}class no{constructor(t,e,i,a){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qr=(()=>{class n{constructor(e,i,a){this._viewContainer=e,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((a,c,g)=>{if(null==a.previousIndex)i.createEmbeddedView(this._template,new no(a.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)i.remove(null===c?void 0:c);else if(null!==c){const v=i.get(c);i.move(v,g),_n(v,a)}});for(let a=0,c=i.length;a<c;a++){const v=i.get(a).context;v.index=a,v.count=c,v.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{_n(i.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function _n(n,t){n.context.$implicit=t.item}let wn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new hr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ro("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ro("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class hr{constructor(){this.$implicit=null,this.ngIf=null}}function ro(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}let Ad=(()=>{class n{constructor(e,i,a){this._ngEl=e,this._differs=i,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[a,c]=e.split("."),g=-1===a.indexOf("-")?void 0:u.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,a,c?`${i}${c}`:i,g):this._renderer.removeStyle(this._ngEl.nativeElement,a,g)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),lo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();let ws=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new fr((0,u.LFG)(le),window)}),n})();class fr{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Wo(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const c=a.shadowRoot;if(c){const g=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(g)return g}a=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],a-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=mi(this.window.history)||mi(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function mi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Vn{}class Vr extends class co extends class ue{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){ee||(ee=n)}(new Vr)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function vi(){return yi=yi||document.querySelector("base"),yi?yi.getAttribute("href"):null}();return null==e?null:function ho(n){Ci=Ci||document.createElement("a"),Ci.setAttribute("href",n);const t=Ci.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){yi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Oa(document.cookie,t)}}let Ci,yi=null;const lt=new u.OlP("TRANSITION_ID"),ac=[{provide:u.ip1,useFactory:function hn(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const i=x(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)i.remove(a[c])})}},deps:[lt,le,u.zs3],multi:!0}];let Fl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ds=new u.OlP("EventManagerPlugins");let Gi=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,a){return this._findPluginFor(i).addEventListener(e,i,a)}addGlobalEventListener(e,i,a){return this._findPluginFor(i).addGlobalEventListener(e,i,a)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const a=this._plugins;for(let c=0;c<a.length;c++){const g=a[c];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ds),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class La{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const a=x().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,i)}}let fo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),i.add(a))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n extends fo{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,a){e.forEach(c=>{const g=this._doc.createElement("style");g.textContent=c,a.push(i.appendChild(g))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Et),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,a)=>{this._addStylesToHost(e,a,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Et))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Et(n){x().remove(n)}const Wi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},po=/%COMP%/g;function go(n,t,e){for(let i=0;i<t.length;i++){let a=t[i];Array.isArray(a)?go(n,a,e):(a=a.replace(po,n),e.push(a))}return e}function Ko(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let zi=(()=>{class n{constructor(e,i,a){this.eventManager=e,this.sharedStylesHost=i,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Dn(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let a=this.rendererByCompId.get(i.id);return a||(a=new Ei(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(e),a}case 1:case u.ifc.ShadowDom:return new Ll(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const a=go(i.id,i.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Gi),u.LFG(Ce),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Dn{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Wi[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Is(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Is(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,a){if(a){e=a+":"+e;const c=Wi[a];c?t.setAttributeNS(c,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const a=Wi[i];a?t.removeAttributeNS(a,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,a){a&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,i,a&u.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ko(i)):this.eventManager.addEventListener(t,e,Ko(i))}}function Is(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ei extends Dn{constructor(t,e,i,a){super(t),this.component=i;const c=go(a+"-"+i.id,i.styles,[]);e.addStyles(c),this.contentAttr=function zo(n){return"_ngcontent-%COMP%".replace(po,n)}(a+"-"+i.id),this.hostAttr=function qo(n){return"_nghost-%COMP%".replace(po,n)}(a+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Ll extends Dn{constructor(t,e,i,a){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=go(a.id,a.styles,[]);for(let g=0;g<c.length;g++){const v=document.createElement("style");v.textContent=c[g],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ul=(()=>{class n extends La{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,a){return e.addEventListener(i,a,!1),()=>this.removeEventListener(e,i,a)}removeEventListener(e,i,a){return e.removeEventListener(i,a)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const lc=["alt","control","meta","shift"],Vl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ts={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ua={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Jo=(()=>{class n extends La{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,a){const c=n.parseEventName(i),g=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,c.domEventName,g))}static parseEventName(e){const i=e.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(i.pop());let g="";if(lc.forEach(b=>{const A=i.indexOf(b);A>-1&&(i.splice(A,1),g+=b+".")}),g+=c,0!=i.length||0===c.length)return null;const v={};return v.domEventName=a,v.fullKey=g,v}static getEventFullKey(e){let i="",a=function Bl(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ts.hasOwnProperty(t)&&(t=Ts[t]))}return Vl[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),lc.forEach(c=>{c!=a&&(0,Ua[c])(e)&&(i+=c+".")}),i+=a,i}static eventCallback(e,i,a){return c=>{n.getEventFullKey(c)===e&&a.runGuarded(()=>i(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Rd=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function ja(){Vr.makeCurrent()},multi:!0},{provide:le,useFactory:function $a(){return(0,u.RDi)(document),document},deps:[]}]),Ga=new u.OlP(""),xn=[{provide:u.rWj,useClass:class Fa{addToWindow(t){u.dqk.getAngularTestability=(i,a=!0)=>{const c=t.findTestabilityInTree(i,a);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const a=u.dqk.getAllAngularTestabilities();let c=a.length,g=!1;const v=function(b){g=g||b,c--,0==c&&i(g)};a.forEach(function(b){b.whenStable(v)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?x().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Tr=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Ha(){return new u.qLn},deps:[]},{provide:Ds,useClass:Ul,multi:!0,deps:[le,u.R0b,u.Lbi]},{provide:Ds,useClass:Jo,multi:!0,deps:[le]},{provide:zi,useClass:zi,deps:[Gi,Ce,u.AFp]},{provide:u.FYo,useExisting:zi},{provide:fo,useExisting:Ce},{provide:Ce,useClass:Ce,deps:[le]},{provide:Gi,useClass:Gi,deps:[Ds,u.R0b]},{provide:Vn,useClass:Fl,deps:[]},[]];let un=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:lt,useExisting:u.AFp},ac]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ga,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Tr,...xn],imports:[lo,u.hGG]}),n})(),cc=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function jl(){return new cc((0,u.LFG)(le))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var qt=O(8996),Br=O(7669);function Be(...n){const t=(0,Br.yG)(n);return(0,qt.D)(n,t)}var Gt=O(7579);class jn extends Gt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const Ki=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hn=O(9751);const{isArray:Za}=Array,{getPrototypeOf:Ld,prototype:oa,keys:mc}=Object;function Yi(n){if(1===n.length){const t=n[0];if(Za(t))return{args:t,keys:null};if(function $l(n){return n&&"object"==typeof n&&Ld(n)===oa}(t)){const e=mc(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Ar=O(4671),Je=O(4004);const{isArray:Ms}=Array;function Co(n){return(0,Je.U)(t=>function Gl(n,t){return Ms(t)?n(...t):n(t)}(n,t))}function aa(n,t){return n.reduce((e,i,a)=>(e[i]=t[a],e),{})}var Kt=O(5403),la=O(9672);function ua(...n){const t=(0,Br.yG)(n),e=(0,Br.jO)(n),{args:i,keys:a}=Yi(n);if(0===i.length)return(0,qt.D)([],t);const c=new Hn.y(function za(n,t,e=Ar.y){return i=>{_c(t,()=>{const{length:a}=n,c=new Array(a);let g=a,v=a;for(let b=0;b<a;b++)_c(t,()=>{const A=(0,qt.D)(n[b],t);let F=!1;A.subscribe((0,Kt.x)(i,k=>{c[b]=k,F||(F=!0,v--),v||i.next(e(c.slice()))},()=>{--g||i.complete()}))},i)},i)}}(i,t,a?g=>aa(a,g):Ar.y));return e?c.pipe(Co(e)):c}function _c(n,t,e){n?(0,la.f)(e,n,t):t()}var Rs=O(8189);function ni(...n){return function Qi(){return(0,Rs.J)(1)}()((0,qt.D)(n,(0,Br.yG)(n)))}var ri=O(8421);function Jn(n){return new Hn.y(t=>{(0,ri.Xf)(n()).subscribe(t)})}var ca=O(9635),Eo=O(576);function rr(n,t){const e=(0,Eo.m)(n)?n:()=>n,i=a=>a.error(e());return new Hn.y(t?a=>t.schedule(i,0,a):i)}var Ji=O(515),Wl=O(727),it=O(4482);function Ps(){return(0,it.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Kt.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,c=e;e=null,a&&(!c||a===c)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class df extends Hn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,it.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Wl.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Kt.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Wl.w0.EMPTY)}return t}refCount(){return Ps()(this)}}function vn(n,t){return(0,it.e)((e,i)=>{let a=null,c=0,g=!1;const v=()=>g&&!a&&i.complete();e.subscribe((0,Kt.x)(i,b=>{a?.unsubscribe();let A=0;const F=c++;(0,ri.Xf)(n(b,F)).subscribe(a=(0,Kt.x)(i,k=>i.next(t?t(b,k,F,A++):k),()=>{a=null,v()}))},()=>{g=!0,v()}))})}function qa(n){return n<=0?()=>Ji.E:(0,it.e)((t,e)=>{let i=0;t.subscribe((0,Kt.x)(e,a=>{++i<=n&&(e.next(a),n<=i&&e.complete())}))})}function bi(n,t){return(0,it.e)((e,i)=>{let a=0;e.subscribe((0,Kt.x)(i,c=>n.call(t,c,a++)&&i.next(c)))})}var ir=O(5577);function ii(n){return(0,it.e)((t,e)=>{let i=!1;t.subscribe((0,Kt.x)(e,a=>{i=!0,e.next(a)},()=>{i||e.next(n),e.complete()}))})}function hf(n=lg){return(0,it.e)((t,e)=>{let i=!1;t.subscribe((0,Kt.x)(e,a=>{i=!0,e.next(a)},()=>i?e.complete():e.error(n())))})}function lg(){return new Ki}function Wt(n,t){const e=arguments.length>=2;return i=>i.pipe(n?bi((a,c)=>n(a,c,i)):Ar.y,qa(1),e?ii(t):hf(()=>new Ki))}function wi(n,t){return(0,Eo.m)(t)?(0,ir.z)(n,t,1):(0,ir.z)(n,1)}var In=O(8505);function xs(n){return(0,it.e)((t,e)=>{let c,i=null,a=!1;i=t.subscribe((0,Kt.x)(e,void 0,void 0,g=>{c=(0,ri.Xf)(n(g,xs(n)(t))),i?(i.unsubscribe(),i=null,c.subscribe(e)):a=!0})),a&&(i.unsubscribe(),i=null,c.subscribe(e))})}function yc(n,t,e,i,a){return(c,g)=>{let v=e,b=t,A=0;c.subscribe((0,Kt.x)(g,F=>{const k=A++;b=v?n(b,F,k):(v=!0,F),i&&g.next(b)},a&&(()=>{v&&g.next(b),g.complete()})))}}function $n(n,t){return(0,it.e)(yc(n,t,arguments.length>=2,!0))}function sr(n){return n<=0?()=>Ji.E:(0,it.e)((t,e)=>{let i=[];t.subscribe((0,Kt.x)(e,a=>{i.push(a),n<i.length&&i.shift()},()=>{for(const a of i)e.next(a);e.complete()},void 0,()=>{i=null}))})}function Zl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?bi((a,c)=>n(a,c,i)):Ar.y,sr(1),e?ii(t):hf(()=>new Ki))}function Ns(n){return(0,it.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const gt="primary";class zl{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ka(n){return new zl(n)}function vc(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const a={};for(let c=0;c<i.length;c++){const g=i[c],v=n[c];if(g.startsWith(":"))a[g.substring(1)]=v;else if(g!==v.path)return null}return{consumed:n.slice(0,i.length),posParams:a}}function Lt(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!Do(n[a],t[a]))return!1;return!0}function Do(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((a,c)=>i[c]===a)}return n===t}function Os(n){return Array.prototype.concat.apply([],n)}function ql(n){return n.length>0?n[n.length-1]:null}function fn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Sr(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,qt.D)(Promise.resolve(n)):Be(n)}const fa={exact:function Jl(n,t,e){if(!Mr(n.segments,t.segments)||!Ya(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Jl(n.children[i],t.children[i],e))return!1;return!0},subset:Di},Vd={exact:function Ql(n,t){return Lt(n,t)},subset:function ks(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Do(n[e],t[e]))},ignored:()=>!0};function pa(n,t,e){return fa[e.paths](n.root,t.root,e.matrixParams)&&Vd[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Di(n,t,e){return si(n,t,t.segments,e)}function si(n,t,e,i){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Mr(a,e)||t.hasChildren()||!Ya(a,e,i))}if(n.segments.length===e.length){if(!Mr(n.segments,e)||!Ya(n.segments,e,i))return!1;for(const a in t.children)if(!n.children[a]||!Di(n.children[a],t.children[a],i))return!1;return!0}{const a=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(Mr(n.segments,a)&&Ya(n.segments,a,i)&&n.children[gt])&&si(n.children[gt],t,c,i)}}function Ya(n,t,e){return t.every((i,a)=>Vd[e](n[a].parameters,i.parameters))}class Fs{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ka(this.queryParams)),this._queryParamMap}toString(){return Ec.serialize(this)}}class dt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,fn(e,(i,a)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ma(this)}}class Xi{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ka(this.parameters)),this._parameterMap}toString(){return Oe(this)}}function Mr(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let rn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new ga},providedIn:"root"}),n})();class ga{parse(t){const e=new Hr(t);return new Fs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${w(t.root,!0)}`,i=function ht(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(a=>`${M(e)}=${M(a)}`).join("&"):`${M(e)}=${M(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function L(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ec=new ga;function ma(n){return n.segments.map(t=>Oe(t)).join("/")}function w(n,t){if(!n.hasChildren())return ma(n);if(t){const e=n.children[gt]?w(n.children[gt],!1):"",i=[];return fn(n.children,(a,c)=>{c!==gt&&i.push(`${c}:${w(a,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Cc(n,t){let e=[];return fn(n.children,(i,a)=>{a===gt&&(e=e.concat(t(i,a)))}),fn(n.children,(i,a)=>{a!==gt&&(e=e.concat(t(i,a)))}),e}(n,(i,a)=>a===gt?[w(n.children[gt],!1)]:[`${a}:${w(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[gt]?`${ma(n)}/${e[0]}`:`${ma(n)}/(${e.join("//")})`}}function D(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function M(n){return D(n).replace(/%3B/gi,";")}function Y(n){return D(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function re(n){return decodeURIComponent(n)}function we(n){return re(n.replace(/\+/g,"%20"))}function Oe(n){return`${Y(n.path)}${function nt(n){return Object.keys(n).map(t=>`;${Y(t)}=${Y(n[t])}`).join("")}(n.parameters)}`}const ft=/^[^\/()?;=#]+/;function Ye(n){const t=n.match(ft);return t?t[0]:""}const Tn=/^[^=?&#]+/,_a=/^[^&#]+/;class Hr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dt([],{}):new dt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[gt]=new dt(t,e)),i}parseSegment(){const t=Ye(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(t),new Xi(re(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ye(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=Ye(this.remaining);a&&(i=a,this.capture(i))}t[re(e)]=re(i)}parseQueryParam(t){const e=function gr(n){const t=n.match(Tn);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const g=function jr(n){const t=n.match(_a);return t?t[0]:""}(this.remaining);g&&(i=g,this.capture(i))}const a=we(e),c=we(i);if(t.hasOwnProperty(a)){let g=t[a];Array.isArray(g)||(g=[g],t[a]=g),g.push(c)}else t[a]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ye(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new u.vHH(4010,!1);let c;i.indexOf(":")>-1?(c=i.slice(0,i.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=gt);const g=this.parseChildren();e[c]=1===Object.keys(g).length?g[gt]:new dt([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new u.vHH(4011,!1)}}function Xl(n){return n.segments.length>0?new dt([],{[gt]:n}):n}function Io(n){const t={};for(const i of Object.keys(n.children)){const c=Io(n.children[i]);(c.segments.length>0||c.hasChildren())&&(t[i]=c)}return function es(n){if(1===n.numberOfChildren&&n.children[gt]){const t=n.children[gt];return new dt(n.segments.concat(t.segments),t.children)}return n}(new dt(n.segments,t))}function mr(n){return n instanceof Fs}function bc(n,t,e,i,a){if(0===e.length)return ts(t.root,t.root,t.root,i,a);const c=function dg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Hd(!0,0,n);let t=0,e=!1;const i=n.reduce((a,c,g)=>{if("object"==typeof c&&null!=c){if(c.outlets){const v={};return fn(c.outlets,(b,A)=>{v[A]="string"==typeof b?b.split("/"):b}),[...a,{outlets:v}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===g?(c.split("/").forEach((v,b)=>{0==b&&"."===v||(0==b&&""===v?e=!0:".."===v?t++:""!=v&&a.push(v))}),a):[...a,c]},[]);return new Hd(e,t,i)}(e);return c.toRoot()?ts(t.root,t.root,new dt([],{}),i,a):function g(b){const A=function ff(n,t,e,i){if(n.isAbsolute)return new To(t.root,!0,0);if(-1===i)return new To(e,e===t.root,0);return function tu(n,t,e){let i=n,a=t,c=e;for(;c>a;){if(c-=a,i=i.parent,!i)throw new u.vHH(4005,!1);a=i.segments.length}return new To(i,!1,a-c)}(e,i+(ya(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,t,n.snapshot?._urlSegment,b),F=A.processChildren?nu(A.segmentGroup,A.index,c.commands):ns(A.segmentGroup,A.index,c.commands);return ts(t.root,A.segmentGroup,F,i,a)}(n.snapshot?._lastPathIndex)}function ya(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function eu(n){return"object"==typeof n&&null!=n&&n.outlets}function ts(n,t,e,i,a){let g,c={};i&&fn(i,(b,A)=>{c[A]=Array.isArray(b)?b.map(F=>`${F}`):`${b}`}),g=n===t?e:cg(n,t,e);const v=Xl(Io(g));return new Fs(v,c,a)}function cg(n,t,e){const i={};return fn(n.children,(a,c)=>{i[c]=a===t?e:cg(a,t,e)}),new dt(n.segments,i)}class Hd{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ya(i[0]))throw new u.vHH(4003,!1);const a=i.find(eu);if(a&&a!==ql(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class To{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function ns(n,t,e){if(n||(n=new dt([],{})),0===n.segments.length&&n.hasChildren())return nu(n,t,e);const i=function fg(n,t,e){let i=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(i>=e.length)return c;const g=n.segments[a],v=e[i];if(eu(v))break;const b=`${v}`,A=i<e.length-1?e[i+1]:null;if(a>0&&void 0===b)break;if(b&&A&&"object"==typeof A&&void 0===A.outlets){if(!Ic(b,A,g))return c;i+=2}else{if(!Ic(b,{},g))return c;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(n,t,e),a=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const c=new dt(n.segments.slice(0,i.pathIndex),{});return c.children[gt]=new dt(n.segments.slice(i.pathIndex),n.children),nu(c,0,a)}return i.match&&0===a.length?new dt(n.segments,{}):i.match&&!n.hasChildren()?pf(n,t,e):i.match?nu(n,0,a):pf(n,t,e)}function nu(n,t,e){if(0===e.length)return new dt(n.segments,{});{const i=function $d(n){return eu(n[0])?n[0].outlets:{[gt]:n}}(e),a={};return fn(i,(c,g)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[g]=ns(n.children[g],t,c))}),fn(n.children,(c,g)=>{void 0===i[g]&&(a[g]=c)}),new dt(n.segments,a)}}function pf(n,t,e){const i=n.segments.slice(0,t);let a=0;for(;a<e.length;){const c=e[a];if(eu(c)){const b=wc(c.outlets);return new dt(i,b)}if(0===a&&ya(e[0])){i.push(new Xi(n.segments[t].path,Dc(e[0]))),a++;continue}const g=eu(c)?c.outlets[gt]:`${c}`,v=a<e.length-1?e[a+1]:null;g&&v&&ya(v)?(i.push(new Xi(g,Dc(v))),a+=2):(i.push(new Xi(g,{})),a++)}return new dt(i,{})}function wc(n){const t={};return fn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=pf(new dt([],{}),0,e))}),t}function Dc(n){const t={};return fn(n,(e,i)=>t[i]=`${e}`),t}function Ic(n,t,e){return n==e.path&&Lt(t,e.parameters)}class rs{constructor(t,e){this.id=t,this.url=e}}class Tc extends rs{constructor(t,e,i="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ao extends rs{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ac extends rs{constructor(t,e,i,a){super(t,e),this.reason=i,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sc extends rs{constructor(t,e,i,a){super(t,e),this.error=i,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pg extends rs{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gd extends rs{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gg extends rs{constructor(t,e,i,a,c){super(t,e),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Us extends rs{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ru extends rs{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wd{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Oy{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mg{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _g{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ky{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fy{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zd{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class So{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=zd(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=zd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=qd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return qd(t,this._root).map(e=>e.value)}}function zd(n,t){if(n===t.value)return t;for(const e of t.children){const i=zd(n,e);if(i)return i}return null}function qd(n,t){if(n===t.value)return[t];for(const e of t.children){const i=qd(n,e);if(i.length)return i.unshift(t),i}return[]}class is{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Qa(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class va extends So{constructor(t,e){super(t),this.snapshot=e,mf(this,t)}toString(){return this.snapshot.toString()}}function Kd(n,t){const e=function ss(n,t){const g=new Ca([],{},{},"",{},gt,t,null,n.root,-1,{});return new yg("",new is(g,[]))}(n,t),i=new jn([new Xi("",{})]),a=new jn({}),c=new jn({}),g=new jn({}),v=new jn(""),b=new oi(i,a,g,v,c,gt,t,e.root);return b.snapshot=e.root,new va(new is(b,[]),e)}class oi{constructor(t,e,i,a,c,g,v,b){this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=c,this.outlet=g,this.component=v,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(t=>Ka(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(t=>Ka(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yd(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const a=e[i],c=e[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(c.component)break;i--}}return function gf(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Ca{constructor(t,e,i,a,c,g,v,b,A,F,k,z){this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=c,this.outlet=g,this.component=v,this.routeConfig=b,this._urlSegment=A,this._lastPathIndex=F,this._correctedLastPathIndex=z??F,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ka(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ka(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yg extends So{constructor(t,e){super(e),this.url=t,mf(this,e)}toString(){return vg(this._root)}}function mf(n,t){t.value._routerState=n,t.children.forEach(e=>mf(n,e))}function vg(n){const t=n.children.length>0?` { ${n.children.map(vg).join(", ")} } `:"";return`${n.value}${t}`}function iu(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Lt(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Lt(t.params,e.params)||n.params.next(e.params),function wo(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Lt(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Lt(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function su(n,t){const e=Lt(n.params,t.params)&&function pr(n,t){return Mr(n,t)&&n.every((e,i)=>Lt(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||su(n.parent,t.parent))}function Ja(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const a=function Uy(n,t,e){return t.children.map(i=>{for(const a of e.children)if(n.shouldReuseRoute(i.value,a.value.snapshot))return Ja(n,i,a);return Ja(n,i)})}(n,t,e);return new is(i,a)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const g=c.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(v=>Ja(n,v)),g}}const i=function _f(n){return new oi(new jn(n.url),new jn(n.params),new jn(n.queryParams),new jn(n.fragment),new jn(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(c=>Ja(n,c));return new is(i,a)}}const ou="ngNavigationCancelingError";function Rc(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=mr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=yf(!1,0,t);return a.url=e,a.navigationBehaviorOptions=i,a}function yf(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[ou]=!0,i.cancellationCode=t,e&&(i.url=e),i}function vf(n){return Xa(n)&&mr(n.url)}function Xa(n){return n&&n[ou]}class Pc{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new au,this.attachRef=null}}let au=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const a=this.getOrCreateContext(e);a.outlet=i,this.contexts.set(e,a)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Pc,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const el=!1;let xc=(()=>{class n{constructor(e,i,a,c,g){this.parentContexts=e,this.location=i,this.changeDetector=c,this.environmentInjector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=a||gt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,el);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,el);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,el);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new u.vHH(4013,el);this._activatedRoute=e;const a=this.location,g=e._futureSnapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,b=new Nn(e,v,a.injector);if(i&&function Cg(n){return!!n.resolveComponentFactory}(i)){const A=i.resolveComponentFactory(g);this.activated=a.createComponent(A,a.length,b)}else this.activated=a.createComponent(g,{index:a.length,injector:b,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(au),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Nn{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===oi?this.route:t===au?this.childContexts:this.parent.get(t,e)}}let Cf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&u._UZ(0,"router-outlet")},dependencies:[xc],encapsulation:2}),n})();function Nc(n,t){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Vs(n){const t=n.children&&n.children.map(Vs),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==gt&&(e.component=Cf),e}function or(n){return n.outlet||gt}function Oc(n,t){const e=n.filter(i=>or(i)===t);return e.push(...n.filter(i=>or(i)!==t)),e}function Jd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Dg{constructor(t,e,i,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=a}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),iu(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const a=Qa(e);t.children.forEach(c=>{const g=c.value.outlet;this.deactivateRoutes(c,a[g],i),delete a[g]}),fn(a,(c,g)=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(t,e,i){const a=t.value,c=e?e.value:null;if(a===c)if(a.component){const g=i.getContext(a.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,i);else c&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),a=i&&t.value.component?i.children:e,c=Qa(t);for(const g of Object.keys(c))this.deactivateRouteAndItsChildren(c[g],a);if(i&&i.outlet){const g=i.outlet.detach(),v=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:v})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),a=i&&t.value.component?i.children:e,c=Qa(t);for(const g of Object.keys(c))this.deactivateRouteAndItsChildren(c[g],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const a=Qa(e);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],i),this.forwardEvent(new Fy(c.value.snapshot))}),t.children.length&&this.forwardEvent(new _g(t.value.snapshot))}activateRoutes(t,e,i){const a=t.value,c=e?e.value:null;if(iu(a),a===c)if(a.component){const g=i.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,i);else if(a.component){const g=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(v.contexts),g.attachRef=v.componentRef,g.route=v.route.value,g.outlet&&g.outlet.attach(v.componentRef,v.route.value),iu(v.route.value),this.activateChildRoutes(t,null,g.children)}else{const v=Jd(a.snapshot),b=v?.get(u._Vd)??null;g.attachRef=null,g.route=a,g.resolver=b,g.injector=v,g.outlet&&g.outlet.activateWith(a,g.injector),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,i)}}class _r{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Bs{constructor(t,e){this.component=t,this.route=e}}function Fc(n,t,e){const i=n._root;return js(i,t?t._root:null,e,[i.value])}function tl(n,t,e){return(Jd(t)??e).get(n)}function js(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=Qa(t);return n.children.forEach(g=>{(function Ef(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,g=t?t.value:null,v=e?e.getContext(n.value.outlet):null;if(g&&c.routeConfig===g.routeConfig){const b=function Xd(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Mr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Mr(n.url,t.url)||!Lt(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!su(n,t)||!Lt(n.queryParams,t.queryParams);default:return!su(n,t)}}(g,c,c.routeConfig.runGuardsAndResolvers);b?a.canActivateChecks.push(new _r(i)):(c.data=g.data,c._resolvedData=g._resolvedData),js(n,t,c.component?v?v.children:null:e,i,a),b&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new Bs(v.outlet.component,g))}else g&&Ii(t,v,a),a.canActivateChecks.push(new _r(i)),js(n,null,c.component?v?v.children:null:e,i,a)})(g,c[g.value.outlet],e,i.concat([g.value]),a),delete c[g.value.outlet]}),fn(c,(g,v)=>Ii(g,e.getContext(v),a)),a}function Ii(n,t,e){const i=Qa(n),a=n.value;fn(i,(c,g)=>{Ii(c,a.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new Bs(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function ai(n){return"function"==typeof n}function nh(n){return n instanceof Ki||"EmptyError"===n?.name}const li=Symbol("INITIAL_VALUE");function Ti(){return vn(n=>ua(n.map(t=>t.pipe(qa(1),function Ud(...n){const t=(0,Br.yG)(n);return(0,it.e)((e,i)=>{(t?ni(n,e,t):ni(n,e)).subscribe(i)})}(li)))).pipe((0,Je.U)(t=>{for(const e of t)if(!0!==e){if(e===li)return li;if(!1===e||e instanceof Fs)return e}return!0}),bi(t=>t!==li),qa(1)))}function h(n){return(0,ca.z)((0,In.b)(t=>{if(mr(t))throw Rc(0,t)}),(0,Je.U)(t=>!0===t))}const y={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function T(n,t,e,i,a){const c=R(n,t,e);return c.matched?function p(n,t,e,i){const a=t.canMatch;return a&&0!==a.length?Be(a.map(g=>{const v=n.get(g),b=function On(n){return n&&ai(n.canMatch)}(v)?v.canMatch(t,e):v(t,e);return Sr(b)})).pipe(Ti(),h()):Be(!0)}(i=Nc(t,i),t,e).pipe((0,Je.U)(g=>!0===g?c:{...y})):Be(c)}function R(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...y}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||vc)(e,n,t);if(!a)return{...y};const c={};fn(a.posParams,(v,b)=>{c[b]=v.path});const g=a.consumed.length>0?{...c,...a.consumed[a.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:g,positionalParamSegments:a.posParams??{}}}function Z(n,t,e,i,a="corrected"){if(e.length>0&&function $e(n,t,e){return e.some(i=>et(n,t,i)&&or(i)!==gt)}(n,e,i)){const g=new dt(t,function Re(n,t,e,i){const a={};a[gt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&or(c)!==gt){const g=new dt([],{});g._sourceSegment=n,g._segmentIndexShift=t.length,a[or(c)]=g}return a}(n,t,i,new dt(e,n.children)));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function ot(n,t,e){return e.some(i=>et(n,t,i))}(n,e,i)){const g=new dt(n.segments,function ae(n,t,e,i,a,c){const g={};for(const v of i)if(et(n,e,v)&&!a[or(v)]){const b=new dt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===c?n.segments.length:t.length,g[or(v)]=b}return{...a,...g}}(n,t,e,i,n.children,a));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:e}}const c=new dt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function et(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function kn(n,t,e,i){return!!(or(n)===i||i!==gt&&et(t,e,n))&&("**"===n.path||R(t,n,e).matched)}function ui(n,t,e){return 0===t.length&&!n.children[e]}const Mo=!1;class nl{constructor(t){this.segmentGroup=t||null}}class rl{constructor(t){this.urlTree=t}}function il(n){return rr(new nl(n))}function sh(n){return rr(new rl(n))}class hu{constructor(t,e,i,a,c){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=a,this.config=c,this.allowRedirects=!0}apply(){const t=Z(this.urlTree.root,[],[],this.config).segmentGroup,e=new dt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,gt).pipe((0,Je.U)(c=>this.createUrlTree(Io(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xs(c=>{if(c instanceof rl)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof nl?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,gt).pipe((0,Je.U)(a=>this.createUrlTree(Io(a),t.queryParams,t.fragment))).pipe(xs(a=>{throw a instanceof nl?this.noMatchError(a):a}))}noMatchError(t){return new u.vHH(4002,Mo)}createUrlTree(t,e,i){const a=Xl(t);return new Fs(a,e,i)}expandSegmentGroup(t,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Je.U)(c=>new dt([],c))):this.expandSegment(t,i,e,i.segments,a,!0)}expandChildren(t,e,i){const a=[];for(const c of Object.keys(i.children))"primary"===c?a.unshift(c):a.push(c);return(0,qt.D)(a).pipe(wi(c=>{const g=i.children[c],v=Oc(e,c);return this.expandSegmentGroup(t,v,g,c).pipe((0,Je.U)(b=>({segment:b,outlet:c})))}),$n((c,g)=>(c[g.outlet]=g.segment,c),{}),Zl())}expandSegment(t,e,i,a,c,g){return(0,qt.D)(i).pipe(wi(v=>this.expandSegmentAgainstRoute(t,e,i,v,a,c,g).pipe(xs(A=>{if(A instanceof nl)return Be(null);throw A}))),Wt(v=>!!v),xs((v,b)=>{if(nh(v))return ui(e,a,c)?Be(new dt([],{})):il(e);throw v}))}expandSegmentAgainstRoute(t,e,i,a,c,g,v){return kn(a,e,c,g)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,c,g):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,a,c,g):il(e):il(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,a,c,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,a,c,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,a){const c=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?sh(c):this.lineralizeSegments(i,c).pipe((0,ir.z)(g=>{const v=new dt(g,{});return this.expandSegment(t,v,e,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,a,c,g){const{matched:v,consumedSegments:b,remainingSegments:A,positionalParamSegments:F}=R(e,a,c);if(!v)return il(e);const k=this.applyRedirectCommands(b,a.redirectTo,F);return a.redirectTo.startsWith("/")?sh(k):this.lineralizeSegments(a,k).pipe((0,ir.z)(z=>this.expandSegment(t,e,i,z.concat(A),g,!1)))}matchSegmentAgainstRoute(t,e,i,a,c){return"**"===i.path?(t=Nc(i,t),i.loadChildren?(i._loadedRoutes?Be({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Je.U)(v=>(i._loadedRoutes=v.routes,i._loadedInjector=v.injector,new dt(a,{})))):Be(new dt(a,{}))):T(e,i,a,t).pipe(vn(({matched:g,consumedSegments:v,remainingSegments:b})=>g?this.getChildConfig(t=i._injector??t,i,a).pipe((0,ir.z)(F=>{const k=F.injector??t,z=F.routes,{segmentGroup:te,slicedSegments:me}=Z(e,v,b,z),je=new dt(te.segments,te.children);if(0===me.length&&je.hasChildren())return this.expandChildren(k,z,je).pipe((0,Je.U)(jt=>new dt(v,jt)));if(0===z.length&&0===me.length)return Be(new dt(v,{}));const qe=or(i)===c;return this.expandSegment(k,je,z,me,qe?gt:c,!0).pipe((0,Je.U)(Rt=>new dt(v.concat(Rt.segments),Rt.children)))})):il(e)))}getChildConfig(t,e,i){return e.children?Be({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Be({routes:e._loadedRoutes,injector:e._loadedInjector}):function m(n,t,e,i){const a=t.canLoad;return void 0===a||0===a.length?Be(!0):Be(a.map(g=>{const v=n.get(g),b=function Uc(n){return n&&ai(n.canLoad)}(v)?v.canLoad(t,e):v(t,e);return Sr(b)})).pipe(Ti(),h())}(t,e,i).pipe((0,ir.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,In.b)(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function Mg(n){return rr(yf(Mo,3))}())):Be({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],a=e.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return Be(i);if(a.numberOfChildren>1||!a.children[gt])return rr(new u.vHH(4e3,Mo));a=a.children[gt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,a){const c=this.createSegmentGroup(t,e.root,i,a);return new Fs(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return fn(t,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);i[c]=e[v]}else i[c]=a}),i}createSegmentGroup(t,e,i,a){const c=this.createSegments(t,e.segments,i,a);let g={};return fn(e.children,(v,b)=>{g[b]=this.createSegmentGroup(t,v,i,a)}),new dt(c,g)}createSegments(t,e,i,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,i))}findPosParam(t,e,i){const a=i[e.path.substring(1)];if(!a)throw new u.vHH(4001,Mo);return a}findOrReturn(t,e){let i=0;for(const a of e){if(a.path===t.path)return e.splice(i),a;i++}return t}}class Df{}class B0{constructor(t,e,i,a,c,g,v,b){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=a,this.url=c,this.paramsInheritanceStrategy=g,this.relativeLinkResolution=v,this.urlSerializer=b}recognize(){const t=Z(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,gt).pipe((0,Je.U)(e=>{if(null===e)return null;const i=new Ca([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new is(i,e),c=new yg(this.url,a);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(t){const e=t.value,i=Yd(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,a)}processChildren(t,e,i){return(0,qt.D)(Object.keys(i.children)).pipe(wi(a=>{const c=i.children[a],g=Oc(e,a);return this.processSegmentGroup(t,g,c,a)}),$n((a,c)=>a&&c?(a.push(...c),a):null),function bo(n,t=!1){return(0,it.e)((e,i)=>{let a=0;e.subscribe((0,Kt.x)(i,c=>{const g=n(c,a++);(g||t)&&i.next(c),!g&&i.complete()}))})}(a=>null!==a),ii(null),Zl(),(0,Je.U)(a=>{if(null===a)return null;const c=Ng(a);return function Gy(n){n.sort((t,e)=>t.value.outlet===gt?-1:e.value.outlet===gt?1:t.value.outlet.localeCompare(e.value.outlet))}(c),c}))}processSegment(t,e,i,a,c){return(0,qt.D)(e).pipe(wi(g=>this.processSegmentAgainstRoute(g._injector??t,g,i,a,c)),Wt(g=>!!g),xs(g=>{if(nh(g))return ui(i,a,c)?Be([]):Be(null);throw g}))}processSegmentAgainstRoute(t,e,i,a,c){if(e.redirectTo||!kn(e,i,a,c))return Be(null);let g;if("**"===e.path){const v=a.length>0?ql(a).parameters:{},b=zy(i)+a.length;g=Be({snapshot:new Ca(a,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vc(e),or(e),e.component??e._loadedComponent??null,e,If(i),b,qy(e),b),consumedSegments:[],remainingSegments:[]})}else g=T(i,e,a,t).pipe((0,Je.U)(({matched:v,consumedSegments:b,remainingSegments:A,parameters:F})=>{if(!v)return null;const k=zy(i)+b.length;return{snapshot:new Ca(b,F,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vc(e),or(e),e.component??e._loadedComponent??null,e,If(i),k,qy(e),k),consumedSegments:b,remainingSegments:A}}));return g.pipe(vn(v=>{if(null===v)return Be(null);const{snapshot:b,consumedSegments:A,remainingSegments:F}=v;t=e._injector??t;const k=e._loadedInjector??t,z=function xg(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:te,slicedSegments:me}=Z(i,A,F,z.filter(qe=>void 0===qe.redirectTo),this.relativeLinkResolution);if(0===me.length&&te.hasChildren())return this.processChildren(k,z,te).pipe((0,Je.U)(qe=>null===qe?null:[new is(b,qe)]));if(0===z.length&&0===me.length)return Be([new is(b,[])]);const je=or(e)===c;return this.processSegment(k,z,te,me,je?gt:c).pipe((0,Je.U)(qe=>null===qe?null:[new is(b,qe)]))}))}}function Wy(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ng(n){const t=[],e=new Set;for(const i of n){if(!Wy(i)){t.push(i);continue}const a=t.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...i.children),e.add(a)):t.push(i)}for(const i of e){const a=Ng(i.children);t.push(new is(i.value,a))}return t.filter(i=>!e.has(i))}function If(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function zy(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Vc(n){return n.data||{}}function qy(n){return n.resolve||{}}const Og=Symbol("RouteTitle");function Af(n){return"string"==typeof n.title||null===n.title}function kg(n){return vn(t=>{const e=n(t);return e?(0,qt.D)(e).pipe((0,Je.U)(()=>t)):Be(t)})}let Yy=(()=>{class n{buildTitle(e){let i,a=e.root;for(;void 0!==a;)i=this.getResolvedTitleForRoute(a)??i,a=a.children.find(c=>c.outlet===gt);return i}getResolvedTitleForRoute(e){return e.data[Og]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Qy)},providedIn:"root"}),n})(),Qy=(()=>{class n extends Yy{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(cc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class z0{}class $r extends class q0{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Sf=new u.OlP("",{providedIn:"root",factory:()=>({})}),ar=new u.OlP("ROUTES");let fu=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Be(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Sr(e.loadComponent()).pipe((0,In.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),Ns(()=>{this.componentLoaders.delete(e)})),a=new df(i,()=>new Gt.x).pipe(Ps());return this.componentLoaders.set(e,a),a}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Be({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Je.U)(v=>{this.onLoadEndListener&&this.onLoadEndListener(i);let b,A,F=!1;Array.isArray(v)?A=v:(b=v.create(e).injector,A=Os(b.get(ar,[],u.XFs.Self|u.XFs.Optional)));return{routes:A.map(Vs),injector:b}}),Ns(()=>{this.childrenLoaders.delete(i)})),g=new df(c,()=>new Gt.x).pipe(Ps());return this.childrenLoaders.set(i,g),g}loadModuleFactoryOrRoutes(e){return Sr(e()).pipe((0,ir.z)(i=>i instanceof u.YKP||Array.isArray(i)?Be(i):(0,qt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Lg{}class K0{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Jy(n){throw n}function Y0(n,t,e){return t.parse("/")}const Xy={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Q0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function tv(){const n=(0,u.f3M)(rn),t=(0,u.f3M)(au),e=(0,u.f3M)(De),i=(0,u.f3M)(u.zs3),a=(0,u.f3M)(u.Sil),c=(0,u.f3M)(ar,{optional:!0})??[],g=(0,u.f3M)(Sf,{optional:!0})??{},v=(0,u.f3M)(Qy),b=(0,u.f3M)(Yy,{optional:!0}),A=(0,u.f3M)(Lg,{optional:!0}),F=(0,u.f3M)(z0,{optional:!0}),k=new Rr(null,n,t,e,i,a,Os(c));return A&&(k.urlHandlingStrategy=A),F&&(k.routeReuseStrategy=F),k.titleStrategy=b??v,function ev(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(g,k),k}let Rr=(()=>{class n{constructor(e,i,a,c,g,v,b){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=a,this.location=c,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Gt.x,this.errorHandler=Jy,this.malformedUriErrorHandler=Y0,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Be(void 0),this.urlHandlingStrategy=new K0,this.routeReuseStrategy=new $r,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=g.get(fu),this.configLoader.onLoadEndListener=z=>this.triggerEvent(new Oy(z)),this.configLoader.onLoadStartListener=z=>this.triggerEvent(new Wd(z)),this.ngModule=g.get(u.h0i),this.console=g.get(u.c2e);const k=g.get(u.R0b);this.isNgZoneEnabled=k instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=function Yl(){return new Fs(new dt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Kd(this.currentUrlTree,this.rootComponentType),this.transitions=new jn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(bi(a=>0!==a.id),(0,Je.U)(a=>({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),vn(a=>{let c=!1,g=!1;return Be(a).pipe((0,In.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vn(v=>{const b=this.browserUrlTree.toString(),A=!this.navigated||v.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return nv(v.source)&&(this.browserUrlTree=v.extractedUrl),Be(v).pipe(vn(k=>{const z=this.transitions.getValue();return i.next(new Tc(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),z!==this.transitions.getValue()?Ji.E:Promise.resolve(k)}),function Pg(n,t,e,i){return vn(a=>function Rg(n,t,e,i,a){return new hu(n,t,e,i,a).apply()}(n,t,e,a.extractedUrl,i).pipe((0,Je.U)(c=>({...a,urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,In.b)(k=>{this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects},a.urlAfterRedirects=k.urlAfterRedirects}),function j0(n,t,e,i,a,c){return(0,ir.z)(g=>function CI(n,t,e,i,a,c,g="emptyOnly",v="legacy"){return new B0(n,t,e,i,a,g,v,c).recognize().pipe(vn(b=>null===b?function $y(n){return new Hn.y(t=>t.error(n))}(new Df):Be(b)))}(n,t,e,g.urlAfterRedirects,i.serialize(g.urlAfterRedirects),i,a,c).pipe((0,Je.U)(v=>({...g,targetSnapshot:v}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,In.b)(k=>{if(a.targetSnapshot=k.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const te=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(te,k)}this.browserUrlTree=k.urlAfterRedirects}const z=new pg(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);i.next(z)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:z,extractedUrl:te,source:me,restoredState:je,extras:qe}=v,mt=new Tc(z,this.serializeUrl(te),me,je);i.next(mt);const Rt=Kd(te,this.rootComponentType).snapshot;return Be(a={...v,targetSnapshot:Rt,urlAfterRedirects:te,extras:{...qe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=v.rawUrl,v.resolve(null),Ji.E}),(0,In.b)(v=>{const b=new Gd(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(b)}),(0,Je.U)(v=>a={...v,guards:Fc(v.targetSnapshot,v.currentSnapshot,this.rootContexts)}),function Ea(n,t){return(0,ir.z)(e=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:g}}=e;return 0===g.length&&0===c.length?Be({...e,guardsResult:!0}):function bf(n,t,e,i){return(0,qt.D)(n).pipe((0,ir.z)(a=>function wf(n,t,e,i,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Be(c.map(v=>{const b=tl(v,t,a);return Sr(function uu(n){return n&&ai(n.canDeactivate)}(b)?b.canDeactivate(n,t,e,i):b(n,t,e,i)).pipe(Wt())})).pipe(Ti()):Be(!0)}(a.component,a.route,e,t,i)),Wt(a=>!0!==a,!0))}(g,i,a,n).pipe((0,ir.z)(v=>v&&function Lc(n){return"boolean"==typeof n}(v)?function Tg(n,t,e,i){return(0,qt.D)(t).pipe(wi(a=>ni(function Ag(n,t){return null!==n&&t&&t(new mg(n)),Be(!0)}(a.route.parent,i),function rh(n,t){return null!==n&&t&&t(new ky(n)),Be(!0)}(a.route,i),function Sg(n,t,e){const i=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(g=>function Hy(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(g)).filter(g=>null!==g).map(g=>Jn(()=>Be(g.guards.map(b=>{const A=tl(b,g.node,e);return Sr(function eh(n){return n&&ai(n.canActivateChild)}(A)?A.canActivateChild(i,n):A(i,n)).pipe(Wt())})).pipe(Ti())));return Be(c).pipe(Ti())}(n,a.path,e),function ih(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Be(!0);const a=i.map(c=>Jn(()=>{const g=tl(c,t,e);return Sr(function Ig(n){return n&&ai(n.canActivate)}(g)?g.canActivate(t,n):g(t,n)).pipe(Wt())}));return Be(a).pipe(Ti())}(n,a.route,e))),Wt(a=>!0!==a,!0))}(i,c,n,t):Be(v)),(0,Je.U)(v=>({...e,guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,In.b)(v=>{if(a.guardsResult=v.guardsResult,mr(v.guardsResult))throw Rc(0,v.guardsResult);const b=new gg(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(b)}),bi(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",3),!1)),kg(v=>{if(v.guards.canActivateChecks.length)return Be(v).pipe((0,In.b)(b=>{const A=new Us(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(A)}),vn(b=>{let A=!1;return Be(b).pipe(function Ky(n,t){return(0,ir.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=e;if(!a.length)return Be(e);let c=0;return(0,qt.D)(a).pipe(wi(g=>function H0(n,t,e,i){const a=n.routeConfig,c=n._resolve;return void 0!==a?.title&&!Af(a)&&(c[Og]=a.title),function $0(n,t,e,i){const a=function G0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return Be({});const c={};return(0,qt.D)(a).pipe((0,ir.z)(g=>function W0(n,t,e,i){const a=tl(n,t,i);return Sr(a.resolve?a.resolve(t,e):a(t,e))}(n[g],t,e,i).pipe(Wt(),(0,In.b)(v=>{c[g]=v}))),sr(1),function da(n){return(0,Je.U)(()=>n)}(c),xs(g=>nh(g)?Ji.E:rr(g)))}(c,n,t,i).pipe((0,Je.U)(g=>(n._resolvedData=g,n.data=Yd(n,e).resolve,a&&Af(a)&&(n.data[Og]=a.title),null)))}(g.route,i,n,t)),(0,In.b)(()=>c++),sr(1),(0,ir.z)(g=>c===a.length?Be(e):Ji.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,In.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(b),this.cancelNavigationTransition(b,"",2))}}))}),(0,In.b)(b=>{const A=new ru(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(A)}))}),kg(v=>{const b=A=>{const F=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&F.push(this.configLoader.loadComponent(A.routeConfig).pipe((0,In.b)(k=>{A.component=k}),(0,Je.U)(()=>{})));for(const k of A.children)F.push(...b(k));return F};return ua(b(v.targetSnapshot.root)).pipe(ii(),qa(1))}),kg(()=>this.afterPreactivation()),(0,Je.U)(v=>{const b=function Mc(n,t,e){const i=Ja(n,t._root,e?e._root:void 0);return new va(i,t)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return a={...v,targetRouterState:b}}),(0,In.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,t,e)=>(0,Je.U)(i=>(new Dg(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,In.b)({next(){c=!0},complete(){c=!0}}),Ns(()=>{c||g||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),xs(v=>{if(g=!0,Xa(v)){vf(v)||(this.navigated=!0,this.restoreHistory(a,!0));const b=new Ac(a.id,this.serializeUrl(a.extractedUrl),v.message,v.cancellationCode);if(i.next(b),vf(v)){const A=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),F={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nv(a.source)};this.scheduleNavigation(A,"imperative",null,F,{resolve:a.resolve,reject:a.reject,promise:a.promise})}else a.resolve(!1)}else{this.restoreHistory(a,!0);const b=new Sc(a.id,this.serializeUrl(a.extractedUrl),v,a.targetSnapshot??void 0);i.next(b);try{a.resolve(this.errorHandler(v))}catch(A){a.reject(A)}}return Ji.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const a={replaceUrl:!0},c=e.state?.navigationId?e.state:null;if(c){const v={...c};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(a.state=v)}const g=this.parseUrl(e.url);this.scheduleNavigation(g,i,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Vs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:a,queryParams:c,fragment:g,queryParamsHandling:v,preserveFragment:b}=i,A=a||this.routerState.root,F=b?this.currentUrlTree.fragment:g;let k=null;switch(v){case"merge":k={...this.currentUrlTree.queryParams,...c};break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=c||null}return null!==k&&(k=this.removeEmptyProps(k)),bc(A,this.currentUrlTree,e,k,F??null)}navigateByUrl(e,i={skipLocationChange:!1}){const a=mr(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function J0(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new u.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return i}isActive(e,i){let a;if(a=!0===i?{...Xy}:!1===i?{...Q0}:i,mr(e))return pa(this.currentUrlTree,e,a);const c=this.parseUrl(e);return pa(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((i,a)=>{const c=e[a];return null!=c&&(i[a]=c),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ao(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,a,c,g){if(this.disposed)return Promise.resolve(!1);let v,b,A;g?(v=g.resolve,b=g.reject,A=g.promise):A=new Promise((z,te)=>{v=z,b=te});const F=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),k=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):k=0,this.setTransition({id:F,targetPageId:k,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:v,reject:b,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(z=>Promise.reject(z))}setBrowserUrl(e,i){const a=this.urlSerializer.serialize(e),c={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===a?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,a){const c=new Ac(e.id,this.serializeUrl(e.extractedUrl),i,a);this.triggerEvent(c),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return tv()},providedIn:"root"}),n})();function nv(n){return"imperative"!==n}let Bc=(()=>{class n{constructor(e,i,a){this.router=e,this.route=i,this.locationStrategy=a,this.commands=null,this.href=null,this.onChanges=new Gt.x,this.subscription=e.events.subscribe(c=>{c instanceof Ao&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,a,c,g){if(0!==e||i||a||c||g||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const v={skipLocationChange:(0,u.D6c)(this.skipLocationChange),replaceUrl:(0,u.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,u.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Rr),u.Y36(oi),u.Y36(pe))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&u.NdJ("click",function(c){return i.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&e&&u.uIk("target",i.target)("href",i.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();class rv{}let X0=(()=>{class n{constructor(e,i,a,c,g){this.router=e,this.injector=a,this.preloadingStrategy=c,this.loader=g}setUpPreloading(){this.subscription=this.router.events.pipe(bi(e=>e instanceof Ao),wi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const a=[];for(const c of i){c.providers&&!c._injector&&(c._injector=(0,u.MMx)(c.providers,e,`Route: ${c.path}`));const g=c._injector??e,v=c._loadedInjector??g;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?a.push(this.preloadConfig(g,c)):(c.children||c._loadedRoutes)&&a.push(this.processRoutes(v,c.children??c._loadedRoutes))}return(0,qt.D)(a).pipe((0,Rs.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let a;a=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Be(null);const c=a.pipe((0,ir.z)(g=>null===g?Be(void 0):(i._loadedRoutes=g.routes,i._loadedInjector=g.injector,this.processRoutes(g.injector??e,g.routes))));if(i.loadComponent&&!i._loadedComponent){const g=this.loader.loadComponent(i);return(0,qt.D)([c,g]).pipe((0,Rs.J)())}return c})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Rr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(rv),u.LFG(fu))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Vg=new u.OlP("");let bI=(()=>{class n{constructor(e,i,a={}){this.router=e,this.viewportScroller=i,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Tc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ao&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Zd&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Zd(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Pf=new u.OlP("ROUTER_FORROOT_GUARD"),sv=new u.OlP(""),ov=[De,{provide:rn,useClass:ga},{provide:Rr,useFactory:tv},au,{provide:oi,useFactory:function eb(n){return n.routerState.root},deps:[Rr]},fu];function ah(){return new u.PXZ("Router",Rr)}let av=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[ov,[],tb(e),{provide:Pf,useFactory:uv,deps:[[Rr,new u.FiY,new u.tp0]]},{provide:Sf,useValue:i||{}},i?.useHash?{provide:pe,useClass:Ke}:{provide:pe,useClass:He},{provide:Vg,useFactory:()=>{const n=(0,u.f3M)(Rr),t=(0,u.f3M)(ws),e=(0,u.f3M)(Sf);return e.scrollOffset&&t.setOffset(e.scrollOffset),new bI(n,t,e)}},i?.preloadingStrategy?ob(i.preloadingStrategy):[],{provide:u.PXZ,multi:!0,useFactory:ah},i?.initialNavigation?cv(i):[],[{provide:xf,useFactory:Hc},{provide:u.tb,multi:!0,useExisting:xf}]]}}static forChild(e){return{ngModule:n,providers:[tb(e)]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Pf,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function uv(n){return"guarded"}function tb(n){return[{provide:ar,multi:!0,useValue:n}]}function Hc(){const n=(0,u.f3M)(u.zs3);return t=>{const e=n.get(u.z2F);if(t!==e.components[0])return;const i=n.get(Rr),a=n.get(Nf);1===n.get(Hg)&&i.initialNavigation(),n.get(sv,null,u.XFs.Optional)?.setUpPreloading(),n.get(Vg,null,u.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),a.next(),a.complete()}}const xf=new u.OlP("");function cv(n){return["disabled"===n.initialNavigation?[{provide:u.ip1,multi:!0,useFactory:()=>{const n=(0,u.f3M)(Rr);return()=>{n.setUpLocationChangeListener()}}},{provide:Hg,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:Hg,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:n=>{const t=n.get(B,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(a=>{const c=n.get(Rr),g=n.get(Nf);(function i(a){n.get(Rr).events.pipe(bi(g=>g instanceof Ao||g instanceof Ac||g instanceof Sc),(0,Je.U)(g=>g instanceof Ao||g instanceof Ac&&(0===g.code||1===g.code)&&null),bi(g=>null!==g),qa(1)).subscribe(()=>{a()})})(()=>{a(!0),e=!0}),c.afterPreactivation=()=>(a(!0),e||g.closed?Be(void 0):g),c.initialNavigation()}))}}]:[]]}const Nf=new u.OlP("",{factory:()=>new Gt.x}),Hg=new u.OlP("",{providedIn:"root",factory:()=>1});function ob(n){return[X0,{provide:sv,useExisting:X0},{provide:rv,useExisting:n}]}class dv{constructor(){this.id=0,this.productName="",this.productPrice="",this.productType="",this.productQty=""}}class Of{}class $g{}class Hs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const a=e.slice(0,i),c=a.toLowerCase(),g=e.slice(i+1).trim();this.maybeSetNormalizedName(a,c),this.headers.has(c)?this.headers.get(c).push(g):this.headers.set(c,[g])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const a=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(a,i),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Hs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Hs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Hs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...i),this.headers.set(e,a);break;case"d":const c=t.value;if(c){let g=this.headers.get(e);if(!g)return;g=g.filter(v=>-1===c.indexOf(v)),0===g.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,g)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ab{encodeKey(t){return Gg(t)}encodeValue(t){return Gg(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const fv=/%(\d[a-f0-9])/gi,pu={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Gg(n){return encodeURIComponent(n).replace(fv,(t,e)=>pu[e]??t)}function lh(n){return`${n}`}class sl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ab,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function hv(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const c=a.indexOf("="),[g,v]=-1==c?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,c)),t.decodeValue(a.slice(c+1))],b=e.get(g)||[];b.push(v),e.set(g,b)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],a=Array.isArray(i)?i.map(lh):[lh(i)];this.map.set(e,a)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const a=t[i];Array.isArray(a)?a.forEach(c=>{e.push({param:i,value:c,op:"a"})}):e.push({param:i,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new sl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(lh(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const a=i.indexOf(lh(t.value));-1!==a&&i.splice(a,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class kf{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Wg(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Zg(n){return typeof Blob<"u"&&n instanceof Blob}function zg(n){return typeof FormData<"u"&&n instanceof FormData}class $c{constructor(t,e,i,a){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function lb(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==i?i:null,c=a):c=i,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Hs),this.context||(this.context=new kf),this.params){const g=this.params.toString();if(0===g.length)this.urlWithParams=e;else{const v=e.indexOf("?");this.urlWithParams=e+(-1===v?"?":v<e.length-1?"&":"")+g}}else this.params=new sl,this.urlWithParams=e}serializeBody(){return null===this.body?null:Wg(this.body)||Zg(this.body)||zg(this.body)||function qg(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof sl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zg(this.body)?null:Zg(this.body)?this.body.type||null:Wg(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof sl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,a=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,g=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,v=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,A=t.params||this.params;const F=t.context??this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((k,z)=>k.set(z,t.setHeaders[z]),b)),t.setParams&&(A=Object.keys(t.setParams).reduce((k,z)=>k.set(z,t.setParams[z]),A)),new $c(e,i,c,{params:A,headers:b,context:F,reportProgress:v,responseType:a,withCredentials:g})}}var An=(()=>((An=An||{})[An.Sent=0]="Sent",An[An.UploadProgress=1]="UploadProgress",An[An.ResponseHeader=2]="ResponseHeader",An[An.DownloadProgress=3]="DownloadProgress",An[An.Response=4]="Response",An[An.User=5]="User",An))();class Gc{constructor(t,e=200,i="OK"){this.headers=t.headers||new Hs,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ff extends Gc{constructor(t={}){super(t),this.type=An.ResponseHeader}clone(t={}){return new Ff({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Wc extends Gc{constructor(t={}){super(t),this.type=An.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Wc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Kg extends Gc{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function uh(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ol=(()=>{class n{constructor(e){this.handler=e}request(e,i,a={}){let c;if(e instanceof $c)c=e;else{let b,A;b=a.headers instanceof Hs?a.headers:new Hs(a.headers),a.params&&(A=a.params instanceof sl?a.params:new sl({fromObject:a.params})),c=new $c(e,i,void 0!==a.body?a.body:null,{headers:b,context:a.context,params:A,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const g=Be(c).pipe(wi(b=>this.handler.handle(b)));if(e instanceof $c||"events"===a.observe)return g;const v=g.pipe(bi(b=>b instanceof Wc));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return v.pipe((0,Je.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return v.pipe((0,Je.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return v.pipe((0,Je.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));default:return v.pipe((0,Je.U)(b=>b.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new sl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,a={}){return this.request("PATCH",e,uh(a,i))}post(e,i,a={}){return this.request("POST",e,uh(a,i))}put(e,i,a={}){return this.request("PUT",e,uh(a,i))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Of))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class pv{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Yg=new u.OlP("HTTP_INTERCEPTORS");let ub=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const pb=/^\)\]\}',?\n/;let mv=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Hn.y(i=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((te,me)=>a.setRequestHeader(te,me.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const te=e.detectContentTypeHeader();null!==te&&a.setRequestHeader("Content-Type",te)}if(e.responseType){const te=e.responseType.toLowerCase();a.responseType="json"!==te?te:"text"}const c=e.serializeBody();let g=null;const v=()=>{if(null!==g)return g;const te=a.statusText||"OK",me=new Hs(a.getAllResponseHeaders()),je=function $s(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||e.url;return g=new Ff({headers:me,status:a.status,statusText:te,url:je}),g},b=()=>{let{headers:te,status:me,statusText:je,url:qe}=v(),mt=null;204!==me&&(mt=typeof a.response>"u"?a.responseText:a.response),0===me&&(me=mt?200:0);let Rt=me>=200&&me<300;if("json"===e.responseType&&"string"==typeof mt){const jt=mt;mt=mt.replace(pb,"");try{mt=""!==mt?JSON.parse(mt):null}catch(Dt){mt=jt,Rt&&(Rt=!1,mt={error:Dt,text:mt})}}Rt?(i.next(new Wc({body:mt,headers:te,status:me,statusText:je,url:qe||void 0})),i.complete()):i.error(new Kg({error:mt,headers:te,status:me,statusText:je,url:qe||void 0}))},A=te=>{const{url:me}=v(),je=new Kg({error:te,status:a.status||0,statusText:a.statusText||"Unknown Error",url:me||void 0});i.error(je)};let F=!1;const k=te=>{F||(i.next(v()),F=!0);let me={type:An.DownloadProgress,loaded:te.loaded};te.lengthComputable&&(me.total=te.total),"text"===e.responseType&&!!a.responseText&&(me.partialText=a.responseText),i.next(me)},z=te=>{let me={type:An.UploadProgress,loaded:te.loaded};te.lengthComputable&&(me.total=te.total),i.next(me)};return a.addEventListener("load",b),a.addEventListener("error",A),a.addEventListener("timeout",A),a.addEventListener("abort",A),e.reportProgress&&(a.addEventListener("progress",k),null!==c&&a.upload&&a.upload.addEventListener("progress",z)),a.send(c),i.next({type:An.Sent}),()=>{a.removeEventListener("error",A),a.removeEventListener("abort",A),a.removeEventListener("load",b),a.removeEventListener("timeout",A),e.reportProgress&&(a.removeEventListener("progress",k),null!==c&&a.upload&&a.upload.removeEventListener("progress",z)),a.readyState!==a.DONE&&a.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Vn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Lf=new u.OlP("XSRF_COOKIE_NAME"),Qg=new u.OlP("XSRF_HEADER_NAME");class _v{}let gb=(()=>{class n{constructor(e,i,a){this.doc=e,this.platform=i,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Oa(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(le),u.LFG(u.Lbi),u.LFG(Lf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Jg=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return i.handle(e);const c=this.tokenService.getToken();return null!==c&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,c)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(_v),u.LFG(Qg))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),yv=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Yg,[]);this.chain=i.reduceRight((a,c)=>new pv(a,c),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG($g),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),mb=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Jg,useClass:ub}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Lf,useValue:e.cookieName}:[],e.headerName?{provide:Qg,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Jg,{provide:Yg,useExisting:Jg,multi:!0},{provide:_v,useClass:gb},{provide:Lf,useValue:"XSRF-TOKEN"},{provide:Qg,useValue:"X-XSRF-TOKEN"}]}),n})(),yt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[ol,{provide:Of,useClass:yv},mv,{provide:$g,useExisting:mv}],imports:[mb.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),ch=(()=>{class n{constructor(e,i){this.router=e,this.http=i}isAuthenticated(){return null!==sessionStorage.getItem("token")}canAccess(){this.isAuthenticated()||this.router.navigate(["/login"])}canAuthenticate(){this.isAuthenticated()&&this.router.navigate(["/dashboard"])}register(e,i,a){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDOt2qnfUHdg6VDHg55aYTsb9XlfR9CQAs",{displayName:e,email:i,password:a})}login(e,i){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDOt2qnfUHdg6VDHg55aYTsb9XlfR9CQAs",{email:e,password:i})}details(){let e=sessionStorage.getItem("token");return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyDOt2qnfUHdg6VDHg55aYTsb9XlfR9CQAs",{idToken:e})}storeToken(e){sessionStorage.setItem("token",e)}removeToken(){sessionStorage.removeItem("token")}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Rr),u.LFG(ol))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vv=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),al=(()=>{class n extends vv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ro=new u.OlP("NgValueAccessor"),Cb={provide:Ro,useExisting:(0,u.Gpc)(()=>gu),multi:!0},bv=new u.OlP("CompositionEventMode");let gu=(()=>{class n extends vv{constructor(e,i,a){super(e,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function RI(){const n=x()?x().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(bv,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&u.NdJ("input",function(c){return i._handleInput(c.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(c){return i._compositionEnd(c.target.value)})},features:[u._Bn([Cb]),u.qOj]}),n})();function ll(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const lr=new u.OlP("NgValidators"),ul=new u.OlP("NgAsyncValidators");function Xg(n){return ll(n.value)?{required:!0}:null}function yu(n){return null}function Tv(n){return null!=n}function tm(n){return(0,u.QGY)(n)?(0,qt.D)(n):n}function Av(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Sv(n,t){return t.map(e=>e(n))}function Mv(n){return n.map(t=>function wb(n){return!n.validate}(t)?t:e=>t.validate(e))}function Vf(n){return null!=n?function Rv(n){if(!n)return null;const t=n.filter(Tv);return 0==t.length?null:function(e){return Av(Sv(e,t))}}(Mv(n)):null}function Bf(n){return null!=n?function Pv(n){if(!n)return null;const t=n.filter(Tv);return 0==t.length?null:function(e){return function vb(...n){const t=(0,Br.jO)(n),{args:e,keys:i}=Yi(n),a=new Hn.y(c=>{const{length:g}=e;if(!g)return void c.complete();const v=new Array(g);let b=g,A=g;for(let F=0;F<g;F++){let k=!1;(0,ri.Xf)(e[F]).subscribe((0,Kt.x)(c,z=>{k||(k=!0,A--),v[F]=z},()=>b--,void 0,()=>{(!b||!k)&&(A||c.next(i?aa(i,v):v),c.complete())}))}});return t?a.pipe(Co(t)):a}(Sv(e,t).map(tm)).pipe((0,Je.U)(Av))}}(Mv(n)):null}function nm(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function jf(n){return n._rawValidators}function Db(n){return n._rawAsyncValidators}function dh(n){return n?Array.isArray(n)?n:[n]:[]}function Hf(n,t){return Array.isArray(n)?n.includes(t):n===t}function Ib(n,t){const e=dh(t);return dh(n).forEach(a=>{Hf(e,a)||e.push(a)}),e}function vu(n,t){return dh(t).filter(e=>!Hf(n,e))}class rm{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Vf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Bf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Pr extends rm{get formDirective(){return null}get path(){return null}}class Gs extends rm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class os{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zc=(()=>{class n extends os{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Gs,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),n})(),as=(()=>{class n extends os{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Pr,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),n})();const ph="VALID",am="INVALID",Cu="PENDING",zc="DISABLED";function lm(n){return(um(n)?n.validators:n)||null}function $f(n){return Array.isArray(n)?Vf(n):n||null}function Bv(n,t){return(um(t)?t.asyncValidators:n)||null}function Rb(n){return Array.isArray(n)?Bf(n):n||null}function um(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Pb(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new u.vHH(1e3,"");if(!i[e])throw new u.vHH(1001,"")}function xb(n,t,e){n._forEachChild((i,a)=>{if(void 0===e[a])throw new u.vHH(1002,"")})}class cm{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=$f(this._rawValidators),this._composedAsyncValidatorFn=Rb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ph}get invalid(){return this.status===am}get pending(){return this.status==Cu}get disabled(){return this.status===zc}get enabled(){return this.status!==zc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=$f(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Rb(t)}addValidators(t){this.setValidators(Ib(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ib(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(vu(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(vu(t,this._rawAsyncValidators))}hasValidator(t){return Hf(this._rawValidators,t)}hasAsyncValidator(t){return Hf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Cu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=zc,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ph,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ph||this.status===Cu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zc:ph}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Cu,this._hasOwnPendingAsyncValidator=!0;const e=tm(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,a)=>i&&i._find(a),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?zc:this.errors?am:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cu)?Cu:this._anyControlsHaveStatus(am)?am:ph}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){um(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class dm extends cm{constructor(t,e,i){super(lm(e),Bv(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){xb(this,0,t),Object.keys(t).forEach(i=>{Pb(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const a=this.controls[i];a&&a.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,a)=>{i.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,a)=>((i.enabled||this.disabled)&&(e[a]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((a,c)=>{i=e(i,a,c)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function qc(n,t){return[...t.path,n]}function gh(n,t){_h(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function cl(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&$v(n,t)})}(n,t),function hm(n,t){const e=(i,a)=>{t.valueAccessor.writeValue(i),a&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Hv(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&$v(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function jv(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function mh(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Gf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Kc(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function _h(n,t){const e=jf(n);null!==t.validator?n.setValidators(nm(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Db(n);null!==t.asyncValidator?n.setAsyncValidators(nm(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const a=()=>n.updateValueAndValidity();Kc(t._rawValidators,a),Kc(t._rawAsyncValidators,a)}function Gf(n,t){let e=!1;if(null!==n){if(null!==t.validator){const a=jf(n);if(Array.isArray(a)&&a.length>0){const c=a.filter(g=>g!==t.validator);c.length!==a.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const a=Db(n);if(Array.isArray(a)&&a.length>0){const c=a.filter(g=>g!==t.asyncValidator);c.length!==a.length&&(e=!0,n.setAsyncValidators(c))}}}const i=()=>{};return Kc(t._rawValidators,i),Kc(t._rawAsyncValidators,i),e}function $v(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Gv(n,t){_h(n,t)}function Ch(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Eh(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function bu(n,t){if(!t)return null;let e,i,a;return Array.isArray(t),t.forEach(c=>{c.constructor===gu?e=c:function Yc(n){return Object.getPrototypeOf(n.constructor)===al}(c)?i=c:a=c}),a||i||e||null}const Zv={provide:Pr,useExisting:(0,u.Gpc)(()=>Du)},wu=(()=>Promise.resolve(null))();let Du=(()=>{class n extends Pr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new dm({},Vf(e),Bf(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){wu.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),gh(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){wu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){wu.then(()=>{const i=this._findContainer(e.path),a=new dm({});Gv(a,e),i.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){wu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){wu.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Eh(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(lr,10),u.Y36(ul,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&u.NdJ("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Zv]),u.qOj]}),n})();function fm(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Wf(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const bh=class extends cm{constructor(t=null,e,i){super(lm(e),Bv(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),um(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Wf(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){fm(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){fm(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Wf(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Vb={provide:Gs,useExisting:(0,u.Gpc)(()=>Zf)},Bb=(()=>Promise.resolve(null))();let Zf=(()=>{class n extends Gs{constructor(e,i,a,c,g){super(),this._changeDetectorRef=g,this.control=new bh,this._registered=!1,this.update=new u.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=bu(0,c)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Ch(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Bb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,a=0!==i&&(0,u.D6c)(i);Bb.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?qc(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Pr,9),u.Y36(lr,10),u.Y36(ul,10),u.Y36(Ro,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Vb]),u.qOj,u.TTD]}),n})(),Qc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),mm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const zf=new u.OlP("NgModelWithFormControlWarning"),Po={provide:Pr,useExisting:(0,u.Gpc)(()=>Jc)};let Jc=(()=>{class n extends Pr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return gh(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){mh(e.control||null,e,!1),function Ob(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Eh(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,a=this.form.get(e.path);i!==a&&(mh(i||null,e),(n=>n instanceof bh)(a)&&(gh(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Gv(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Wv(n,t){return Gf(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_h(this.form,this),this._oldForm&&Gf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(lr,10),u.Y36(ul,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&u.NdJ("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Po]),u.qOj,u.TTD]}),n})();const Wb={provide:Gs,useExisting:(0,u.Gpc)(()=>vm)};let vm=(()=>{class n extends Gs{constructor(e,i,a,c,g){super(),this._ngModelWarningConfig=g,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=bu(0,c)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Ch(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return qc(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(u.Y36(Pr,13),u.Y36(lr,10),u.Y36(ul,10),u.Y36(Ro,10),u.Y36(zf,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([Wb]),u.qOj,u.TTD]}),n})();let Iu=(()=>{class n{constructor(){this._validator=yu}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):yu,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const Tm={provide:lr,useExisting:(0,u.Gpc)(()=>dl),multi:!0};let dl=(()=>{class n extends Iu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=e=>Xg}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&u.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([Tm]),u.qOj]}),n})();const Am={provide:lr,useExisting:(0,u.Gpc)(()=>Ih),multi:!0};let Ih=(()=>{class n extends Iu{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function Kf(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>function _u(n){return t=>ll(t.value)||!function Uf(n){return null!=n&&"number"==typeof n.length}(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&u.uIk("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[u._Bn([Am]),u.qOj]}),n})(),oC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mm]}),n})(),Qb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oC]}),n})(),aC=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:zf,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oC]}),n})();class lC extends cm{constructor(t,e,i){super(lm(e),Bv(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let a=this._adjustIndex(t);a<0&&(a=0),this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),e&&(this.controls.splice(a,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){xb(this,0,t),t.forEach((i,a)=>{Pb(this,!1,a),this.at(a).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,a)=>{this.at(a)&&this.at(a).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,a)=>{i.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Yf(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Xb=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const a=this._reduceControls(e);let c={};return Yf(i)?c=i:null!==i&&(c.validators=i.validator,c.asyncValidators=i.asyncValidator),new dm(a,c)}control(e,i,a){let c={};return this.useNonNullable?(Yf(i)?c=i:(c.validators=i,c.asyncValidators=a),new bh(e,{...c,nonNullable:!0})):new bh(e,i,a)}array(e,i,a){const c=e.map(g=>this._createControl(g));return new lC(c,i,a)}_reduceControls(e){const i={};return Object.keys(e).forEach(a=>{i[a]=this._createControl(e[a])}),i}_createControl(e){return e instanceof bh||e instanceof cm?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:aC}),n})(),ew=(()=>{class n{constructor(e){this.http=e}postEmployee(e){return this.http.post("https://lemellos-product-api.herokuapp.com/product",e).pipe((0,Je.U)(i=>i))}GetEmployee(){return this.http.get("https://lemellos-product-api.herokuapp.com/product").pipe((0,Je.U)(e=>e))}UpdateEmployee(e,i){return this.http.put("https://lemellos-product-api.herokuapp.com/product/"+i,e).pipe((0,Je.U)(a=>a))}deleteEmployee(e){return this.http.delete("https://lemellos-product-api.herokuapp.com/product/"+e).pipe((0,Je.U)(i=>i))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ol))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tw(n,t){1&n&&u.GkF(0)}function nw(n,t){1&n&&(u.TgZ(0,"li")(1,"a",9),u._uU(2,"Register"),u.qZA()(),u.TgZ(3,"li")(4,"a",10),u._uU(5,"Login"),u.qZA()())}function rw(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"li")(1,"a",11),u._uU(2,"DashBoard"),u.qZA()(),u.TgZ(3,"li")(4,"a",12),u.NdJ("click",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.logout())}),u._uU(5,"Logout"),u.qZA()()}}let Tu=(()=>{class n{constructor(e){this.auth=e}ngOnInit(){}logout(){console.log("Log out"),this.auth.removeToken(),this.auth.canAccess()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(ch))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:12,vars:3,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-dark"],["href","javascript:void(0);","routerLink","/",1,"navbar-brand",2,"margin","10px"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[4,"ngIf","ngIfThen","ngIfElse"],["notAuthenticated",""],["authenticated",""],["href","javascript:void(0);","routerLink","/signup",1,"nav-link"],["href","javascript:void(0);","routerLink","/login",1,"nav-link"],["href","javascript:void(0);","routerLink","/dashboard",1,"nav-link"],["href","javascript:void(0);",1,"nav-link",3,"click"]],template:function(e,i){if(1&e&&(u.TgZ(0,"nav",0)(1,"a",1),u._uU(2,"Le'Mellos"),u.qZA(),u.TgZ(3,"button",2),u._UZ(4,"span",3),u.qZA(),u.TgZ(5,"div",4)(6,"ul",5),u.YNc(7,tw,1,0,"ng-container",6),u.YNc(8,nw,6,0,"ng-template",null,7,u.W1O),u.YNc(10,rw,6,0,"ng-template",null,8,u.W1O),u.qZA()()()),2&e){const a=u.MAs(9),c=u.MAs(11);u.xp6(7),u.Q6J("ngIf",i.auth.isAuthenticated())("ngIfThen",c)("ngIfElse",a)}},dependencies:[wn,Bc]}),n})();class Au{constructor(t){this.key="",this.name="",this.url="",this.file=t}}var iw=O(4986),Su=O(6451),cC=O(3099);function Sm(n,t){return n===t}var ow=O(5032),Ut=O(5813),Gn=O(2011),Si=(O(2274),O(3942)),Ws=O(4859),xr=O(5861),Nr=O(9681),N=O(2090),Da=O(1877);const Mu="@firebase/database";let hl="";function Pu(n){hl=n}class ed{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,N.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class dC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Rm=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ed(t)}}catch{}return new dC},fl=Rm("localStorage"),Qf=Rm("sessionStorage"),xu=new Da.Yd("@firebase/database"),Pm=function(){let n=1;return function(){return n++}}(),xm=function(n){const t=(0,N.dS)(n),e=new N.gQ;e.update(t);const i=e.digest();return N.US.encodeByteArray(i)},td=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=td.apply(null,i):t+="object"==typeof i?(0,N.Pz)(i):i,t+=" "}return t};let pl=null,hC=!0;const fC=function(n,t){(0,N.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(xu.logLevel=Da.in.VERBOSE,pl=xu.log.bind(xu),t&&Qf.set("logging_enabled",!0)):"function"==typeof n?pl=n:(pl=null,Qf.remove("logging_enabled"))},ur=function(...n){if(!0===hC&&(hC=!1,null===pl&&!0===Qf.get("logging_enabled")&&fC(!0)),pl){const t=td.apply(null,n);pl(t)}},nd=function(n){return function(...t){ur(n,...t)}},Nm=function(...n){const t="FIREBASE INTERNAL ERROR: "+td(...n);xu.error(t)},Zs=function(...n){const t=`FIREBASE FATAL ERROR: ${td(...n)}`;throw xu.error(t),new Error(t)},cr=function(...n){const t="FIREBASE WARNING: "+td(...n);xu.warn(t)},Jf=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ls="[MIN_NAME]",us="[MAX_NAME]",Nu=function(n,t){if(n===t)return 0;if(n===ls||t===us)return-1;if(t===ls||n===us)return 1;{const e=Mh(n),i=Mh(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},km=function(n,t){return n===t?0:n<t?-1:1},Ou=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Pz)(t))},Sh=function(n){if("object"!=typeof n||null===n)return(0,N.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,N.Pz)(t[i]),e+=":",e+=Sh(n[t[i]]);return e+="}",e},Fm=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let a=0;a<e;a+=t)i.push(n.substring(a,a+t>e?e:a+t));return i};function qn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Lm=function(n){(0,N.hu)(!Jf(n),"Invalid JSON number");const i=1023;let a,c,g,v,b;0===n?(c=0,g=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(v=Math.min(Math.floor(Math.log(n)/Math.LN2),i),c=v+i,g=Math.round(n*Math.pow(2,52-v)-Math.pow(2,52))):(c=0,g=Math.round(n/Math.pow(2,-1074))));const A=[];for(b=52;b;b-=1)A.push(g%2?1:0),g=Math.floor(g/2);for(b=11;b;b-=1)A.push(c%2?1:0),c=Math.floor(c/2);A.push(a?1:0),A.reverse();const F=A.join("");let k="";for(b=0;b<64;b+=8){let z=parseInt(F.substr(b,8),2).toString(16);1===z.length&&(z="0"+z),k+=z}return k.toLowerCase()},aw=new RegExp("^-?(0*)\\d{1,10}$"),Vm=-2147483648,ep=2147483647,Mh=function(n){if(aw.test(n)){const t=Number(n);if(t>=Vm&&t<=ep)return t}return null},ku=function(n){try{n()}catch(t){setTimeout(()=>{throw cr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Rh=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class uw{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){cr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Bm{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ur("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',cr(t)}}let Fu=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Wm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_C="websocket",yC="long_polling";class tp{constructor(t,e,i,a,c=!1,g="",v=!1){this.secure=e,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=g,this.includeNamespaceInQueryParams=v,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fl.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&fl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Kn(n,t,e){let i;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),t===_C)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==yC)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function cw(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return qn(e,(c,g)=>{a.push(c+"="+g)}),i+a.join("&")}class vC{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,N.p$)(this.counters_)}}const qm={},Km={};function np(n){const t=n.toString();return qm[t]||(qm[t]=new vC),qm[t]}class CC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&ku(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ia{constructor(t,e,i,a,c,g,v){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=a,this.authToken=c,this.transportSessionId=g,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nd(t),this.stats_=np(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),Kn(e,yC,b))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new CC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new e_((...c)=>{const[g,v,b,A,F]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=v,this.password=b;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[g,v]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(g,v)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Wm.test(location.hostname)&&(i.r="f");const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ia.forceAllow_=!0}static forceDisallow(){Ia.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!Ia.forceAllow_&&(Ia.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,N.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,N.h$)(e),a=Fm(i,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,N.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class e_{constructor(t,e,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Pm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=e_.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(v){ur("frame writing exception"),v.stack&&ur(v.stack),ur(v)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ur("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const g=this.pendingSegs.shift();i=i+"&seg"+a+"="+g.seg+"&ts"+a+"="+g.ts+"&d"+a+"="+g.d,a++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),i()})}addTag(t,e){(0,N.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||"loaded"===a||"complete"===a)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ur("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let rp=null;typeof MozWebSocket<"u"?rp=MozWebSocket:typeof WebSocket<"u"&&(rp=WebSocket);let gl=(()=>{class n{constructor(e,i,a,c,g,v,b){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nd(this.connId),this.stats_=np(i),this.connURL=n.connectionURL_(i,v,b,c,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,c,g){const v={v:"5"};return!(0,N.Yr)()&&typeof location<"u"&&location.hostname&&Wm.test(location.hostname)&&(v.r="f"),i&&(v.s=i),a&&(v.ls=a),c&&(v.ac=c),g&&(v.p=g),Kn(e,_C,v)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fl.set("previous_websocket_failure",!0);try{let a;if((0,N.Yr)()){a={headers:{"User-Agent":`Firebase/5/${hl}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,v=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;v&&(a.proxy={origin:v})}this.mySock=new rp(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==rp&&!n.forceDisallow_}static previouslyFailed(){return fl.isInMemoryStorage||!0===fl.get("previous_websocket_failure")}markConnectionHealthy(){fl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=(0,N.cI)(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=(0,N.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Fm(i,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),id=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ia,gl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=gl&&gl.isAvailable();let a=i&&!gl.previouslyFailed();if(e.webSocketOnly&&(i||cr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[gl];else{const c=this.transports_=[];for(const g of n.ALL_TRANSPORTS)g&&g.isAvailable()&&c.push(g);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class i_{constructor(t,e,i,a,c,g,v,b,A,F){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=g,this.onReady_=v,this.onDisconnect_=b,this.onKill_=A,this.lastSessionId=F,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nd("c:"+this.id+":"),this.transportManager_=new id(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Rh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Ou("t",t),i=Ou("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Ou("t",t),i=Ou("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Ou("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Nm("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nm("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&cr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Rh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Rh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class s_{put(t,e,i,a){}merge(t,e,i,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class o_{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const a=this.getInitialEvent(t);a&&e.apply(i,a)}off(t,e,i){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!i||i===a[c].context))return void a.splice(c,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Oh extends o_{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Oh}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Yt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Bt(){return new Yt("")}function Tt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ml(n){return n.pieces_.length-n.pieceNum_}function sn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Yt(n.pieces_,t)}function l_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function kh(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function RC(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Yt(t,0)}function Cn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Yt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&e.push(i[a])}return new Yt(e,0)}function At(n){return n.pieceNum_>=n.pieces_.length}function Gr(n,t){const e=Tt(n),i=Tt(t);if(null===e)return t;if(e===i)return Gr(sn(n),sn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Ew(n,t){const e=kh(n,0),i=kh(t,0);for(let a=0;a<e.length&&a<i.length;a++){const c=Nu(e[a],i[a]);if(0!==c)return c}return e.length===i.length?0:e.length<i.length?-1:1}function u_(n,t){if(ml(n)!==ml(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function cs(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(ml(n)>ml(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class bw{constructor(t,e){this.errorPrefix_=e,this.parts_=kh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);c_(this)}}function c_(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+_l(n))}function _l(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class op extends o_{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new op}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const sd=1e3;let Ta,Mi=(()=>{class n extends s_{constructor(e,i,a,c,g,v,b,A){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=g,this.authTokenProvider_=v,this.appCheckTokenProvider_=b,this.authOverride_=A,this.id=n.nextPersistentConnectionId_++,this.log_=nd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,A&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");op.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Oh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const c=++this.requestNumber_,g={r:c,a:e,b:i};this.log_((0,N.Pz)(g)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const i=new N.BH,a={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:v=>{const b=v.d;"ok"===v.s?i.resolve(b):i.reject(b)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,a,c){this.initConnection_();const g=e._queryIdentifier,v=e._path.toString();this.log_("Listen called for "+v+" "+g),this.listens.has(v)||this.listens.set(v,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(v).has(g),"listen() called twice for same path/queryId.");const b={onComplete:c,hashFn:i,query:e,tag:a};this.listens.get(v).set(g,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+a+" for "+c);const g={p:a};e.tag&&(g.q=i._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,b=>{const A=b.d,F=b.s;n.warnOnListenWarnings_(A,i),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",b),"ok"!==F&&this.removeListen_(a,c),e.onComplete&&e.onComplete(F,A))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const a=(0,N.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',g=i._path.toString();cr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,N.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(i,a,c=>{const g=c.s,v=c.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,v))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,i)}sendUnlisten_(e,i,a,c){this.log_("Unlisten on "+e+" for "+i);const g={p:e};c&&(g.q=a,g.t=c),this.sendRequest("n",g)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,c){const g={p:i,d:a};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,v=>{c&&setTimeout(()=>{c(v.s,v.d)},Math.floor(0))})}put(e,i,a,c){this.putInternal("p",e,i,a,c)}merge(e,i,a,c){this.putInternal("m",e,i,a,c)}putInternal(e,i,a,c,g){this.initConnection_();const v={p:i,d:a};void 0!==g&&(v.h=g),this.outstandingPuts_.push({action:e,request:v,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,g=>{this.log_(i+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(g.s,g.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Pz)(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Nm("Unrecognized action received from server: "+(0,N.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,xr.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+n.nextConnectionId_++,v=e.lastSessionId;let b=!1,A=null;const F=function(){A?A.close():(b=!0,c())};e.realtime_={close:F,sendRequest:function(te){(0,N.hu)(A,"sendRequest call when we're not connected not allowed."),A.sendRequest(te)}};const z=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[te,me]=yield Promise.all([e.authTokenProvider_.getToken(z),e.appCheckTokenProvider_.getToken(z)]);b?ur("getToken() completed but was canceled"):(ur("getToken() completed. Creating connection."),e.authToken_=te&&te.accessToken,e.appCheckToken_=me&&me.token,A=new i_(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,a,c,je=>{cr(je+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},v))}catch(te){e.log_("Failed to get token: "+te),b||(e.repoInfo_.nodeAdmin&&cr(te),F())}}})()}interrupt(e){ur("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ur("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=sd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;a=i?i.map(g=>Sh(g)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,i){const a=new Yt(e).toString();let c;if(this.listens.has(a)){const g=this.listens.get(a);c=g.get(i),g.delete(i),0===g.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,i){ur("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ur("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+hl.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Oh.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Mt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Mt(t,e)}}class ap{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Mt(ls,t),a=new Mt(ls,e);return 0!==this.compare(i,a)}minPost(){return Mt.MIN}}class Dw extends ap{static get __EMPTY_NODE(){return Ta}static set __EMPTY_NODE(t){Ta=t}compare(t,e){return Nu(t.name,e.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Mt.MIN}maxPost(){return new Mt(us,Ta)}makePost(t,e){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Mt(t,Ta)}toString(){return".key"}}const ds=new Dw;class f_{constructor(t,e,i,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(g=e?i(t.key,e):1,a&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let g_,hs=(()=>{class n{constructor(e,i,a,c,g){this.key=e,this.value=i,this.color=a??n.RED,this.left=c??Ri.EMPTY_NODE,this.right=g??Ri.EMPTY_NODE}copy(e,i,a,c,g){return new n(e??this.key,i??this.value,a??this.color,c??this.left,g??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let c=this;const g=a(e,c.key);return c=g<0?c.copy(null,null,null,c.left.insert(e,i,a),null):0===g?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ri.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,c;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(e,a.key)){if(a.right.isEmpty())return Ri.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ri{constructor(t,e=Ri.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ri(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,hs.BLACK,null,null))}remove(t){return new Ri(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,hs.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,a=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new f_(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new f_(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new f_(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new f_(this.root_,null,this.comparator_,!0,t)}}function ut(n,t){return Nu(n.name,t.name)}function p_(n,t){return Nu(n,t)}Ri.EMPTY_NODE=new class FC{copy(t,e,i,a,c){return this}insert(t,e,i){return new hs(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Lu=function(n){return"number"==typeof n?"number:"+Lm(n):"string:"+n},LC=function(n){if(n.isLeafNode()){const t=n.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===g_||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===g_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Fh,Sn,Tw,Aa=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),LC(this.priorityNode_)}static set __childrenNodeConstructor(e){Fh=e}static get __childrenNodeConstructor(){return Fh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return At(e)?this:".priority"===Tt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=Tt(e);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,N.hu)(".priority"!==a||1===ml(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(sn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Lu(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Lm(this.value_):this.value_,this.lazyHash_=xm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(i),g=n.VALUE_TYPE_ORDER.indexOf(a);return(0,N.hu)(c>=0,"Unknown leaf type: "+i),(0,N.hu)(g>=0,"Unknown leaf type: "+a),c===g?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const on=new class Aw extends ap{compare(t,e){const i=t.node.getPriority(),a=e.node.getPriority(),c=i.compareTo(a);return 0===c?Nu(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Mt.MIN}maxPost(){return new Mt(us,new Aa("[PRIORITY-POST]",Tw))}makePost(t,e){const i=Sn(t);return new Mt(e,new Aa("[PRIORITY-POST]",i))}toString(){return".priority"}},BC=Math.log(2);class jC{constructor(t){this.count=parseInt(Math.log(t+1)/BC,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Lh=function(n,t,e,i){n.sort(t);const a=function(b,A){const F=A-b;let k,z;if(0===F)return null;if(1===F)return k=n[b],z=e?e(k):k,new hs(z,k.node,hs.BLACK,null,null);{const te=parseInt(F/2,10)+b,me=a(b,te),je=a(te+1,A);return k=n[te],z=e?e(k):k,new hs(z,k.node,hs.BLACK,me,je)}},v=function(b){let A=null,F=null,k=n.length;const z=function(me,je){const qe=k-me,mt=k;k-=me;const Rt=a(qe+1,mt),jt=n[qe],Dt=e?e(jt):jt;te(new hs(Dt,jt.node,je,null,Rt))},te=function(me){A?(A.left=me,A=me):(F=me,A=me)};for(let me=0;me<b.count;++me){const je=b.nextBitIsOne(),qe=Math.pow(2,b.count-(me+1));je?z(qe,hs.BLACK):(z(qe,hs.BLACK),z(qe,hs.RED))}return F}(new jC(n.length));return new Ri(i||t,v)};let m_;const od={};class Sa{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,N.hu)(od&&on,"ChildrenNode.ts has not been loaded"),m_=m_||new Sa({".priority":od},{".priority":on}),m_}get(t){const e=(0,N.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ri?e:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,N.hu)(t!==ds,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const c=e.getIterator(Mt.Wrap);let v,g=c.getNext();for(;g;)a=a||t.isDefinedOn(g.node),i.push(g),g=c.getNext();v=a?Lh(i,t.getCompare()):od;const b=t.toString(),A=Object.assign({},this.indexSet_);A[b]=t;const F=Object.assign({},this.indexes_);return F[b]=v,new Sa(F,A)}addToIndexes(t,e){const i=(0,N.UI)(this.indexes_,(a,c)=>{const g=(0,N.DV)(this.indexSet_,c);if((0,N.hu)(g,"Missing index implementation for "+c),a===od){if(g.isDefinedOn(t.node)){const v=[],b=e.getIterator(Mt.Wrap);let A=b.getNext();for(;A;)A.name!==t.name&&v.push(A),A=b.getNext();return v.push(t),Lh(v,g.getCompare())}return od}{const v=e.get(t.name);let b=a;return v&&(b=b.remove(new Mt(t.name,v))),b.insert(t,t.node)}});return new Sa(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,N.UI)(this.indexes_,a=>{if(a===od)return a;{const c=e.get(t.name);return c?a.remove(new Mt(t.name,c)):a}});return new Sa(i,this.indexSet_)}}let Ma,bt=(()=>{class n{constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&LC(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ma||(Ma=new n(new Ri(p_),null,Sa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ma}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Ma:i}}getChild(e){const i=Tt(e);return null===i?this:this.getImmediateChild(i).getChild(sn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const a=new Mt(e,i);let c,g;i.isEmpty()?(c=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,i),g=this.indexMap_.addToIndexes(a,this.children_));const v=c.isEmpty()?Ma:this.priorityNode_;return new n(c,v,g)}}updateChild(e,i){const a=Tt(e);if(null===a)return i;{(0,N.hu)(".priority"!==Tt(e)||1===ml(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(sn(e),i);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,c=0,g=!0;if(this.forEachChild(on,(v,b)=>{i[v]=b.val(e),a++,g&&n.INTEGER_REGEXP_.test(v)?c=Math.max(c,Number(v)):g=!1}),!e&&g&&c<2*a){const v=[];for(const b in i)v[b]=i[b];return v}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Lu(this.getPriority().val())+":"),this.forEachChild(on,(i,a)=>{const c=a.hash();""!==c&&(e+=":"+i+":"+c)}),this.lazyHash_=""===e?"":xm(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const c=this.resolveIndex_(a);if(c){const g=c.getPredecessorKey(new Mt(e,i));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Mt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Mt(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Mt.Wrap);let g=c.peek();for(;null!=g&&i.compare(g,e)<0;)c.getNext(),g=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Mt.Wrap);let g=c.peek();for(;null!=g&&i.compare(g,e)>0;)c.getNext(),g=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Uh?-1:0}withIndex(e){if(e===ds||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ds||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const a=this.getIterator(on),c=i.getIterator(on);let g=a.getNext(),v=c.getNext();for(;g&&v;){if(g.name!==v.name||!g.node.equals(v.node))return!1;g=a.getNext(),v=c.getNext()}return null===g&&null===v}return!1}return!1}}resolveIndex_(e){return e===ds?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Uh=new class Sw extends bt{constructor(){super(new Ri(p_),bt.EMPTY_NODE,Sa.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return bt.EMPTY_NODE}isEmpty(){return!1}};function En(n,t=null){if(null===n)return bt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Aa(n,En(t));if(n instanceof Array){let e=bt.EMPTY_NODE;return qn(n,(i,a)=>{if((0,N.r3)(n,i)&&"."!==i.substring(0,1)){const c=En(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(i,c))}}),e.updatePriority(En(t))}{const e=[];let i=!1;if(qn(n,(g,v)=>{if("."!==g.substring(0,1)){const b=En(v);b.isEmpty()||(i=i||!b.getPriority().isEmpty(),e.push(new Mt(g,b)))}}),0===e.length)return bt.EMPTY_NODE;const c=Lh(e,ut,g=>g.name,p_);if(i){const g=Lh(e,on.getCompare());return new bt(c,En(t),new Sa({".priority":g},{".priority":on}))}return new bt(c,En(t),Sa.Default)}}Object.defineProperties(Mt,{MIN:{value:new Mt(ls,bt.EMPTY_NODE)},MAX:{value:new Mt(us,Uh)}}),Dw.__EMPTY_NODE=bt.EMPTY_NODE,Aa.__childrenNodeConstructor=bt,function Iw(n){g_=n}(Uh),function VC(n){Tw=n}(Uh),function UC(n){Sn=n}(En);class up extends ap{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!At(t)&&".priority"!==Tt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),a=this.extractChild(e.node),c=i.compareTo(a);return 0===c?Nu(t.name,e.name):c}makePost(t,e){const i=En(t),a=bt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Mt(e,a)}maxPost(){const t=bt.EMPTY_NODE.updateChild(this.indexPath_,Uh);return new Mt(us,t)}toString(){return kh(this.indexPath_,0).join("/")}}const __=new class HC extends ap{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Nu(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Mt.MIN}maxPost(){return Mt.MAX}makePost(t,e){const i=En(t);return new Mt(e,i)}toString(){return".value"}},Oo="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Mw=function(){let n=0;const t=[];return function(e){const i=e===n;let a;n=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=Oo.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let g=c.join("");if(i){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)g+=Oo.charAt(t[a]);return(0,N.hu)(20===g.length,"nextPushId: Length should be 20."),g}}(),y_=function(n){if(n===""+ep)return"-";const t=Mh(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let g=0;g<e.length;g++)e[g]=n.charAt(g);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return us;const c=Oo.charAt(Oo.indexOf(e[i])+1);return e[i]=c,e.slice(0,i+1).join("")},v_=function(n){if(n===""+Vm)return ls;const t=Mh(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+ep:(delete e[e.length-1],e.join("")):(e[e.length-1]=Oo.charAt(Oo.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function C_(n){return{type:"value",snapshotNode:n}}function ad(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function ld(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Vh(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class WC{constructor(t){this.index_=t}updateChild(t,e,i,a,c,g){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=t.getImmediateChild(e);return v.getChild(a).equals(i.getChild(a))&&v.isEmpty()===i.isEmpty()||(null!=g&&(i.isEmpty()?t.hasChild(e)?g.trackChildChange(ld(e,v)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?g.trackChildChange(ad(e,i)):g.trackChildChange(Vh(e,i,v))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(on,(a,c)=>{e.hasChild(a)||i.trackChildChange(ld(a,c))}),e.isLeafNode()||e.forEachChild(on,(a,c)=>{if(t.hasChild(a)){const g=t.getImmediateChild(a);g.equals(c)||i.trackChildChange(Vh(a,c,g))}else i.trackChildChange(ad(a,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?bt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class cp{constructor(t){this.indexedFilter_=new WC(t.getIndex()),this.index_=t.getIndex(),this.startPost_=cp.getStartPost_(t),this.endPost_=cp.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,a,c,g){return this.matches(new Mt(e,i))||(i=bt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,a,c,g)}updateFullNode(t,e,i){e.isLeafNode()&&(e=bt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(bt.EMPTY_NODE);const c=this;return e.forEachChild(on,(g,v)=>{c.matches(new Mt(g,v))||(a=a.updateImmediateChild(g,bt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class GI{constructor(t){this.rangedFilter_=new cp(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,a,c,g){return this.rangedFilter_.matches(new Mt(e,i))||(i=bt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,a,c,g):this.fullLimitUpdateChild_(t,e,i,c,g)}updateFullNode(t,e,i){let a;if(e.isLeafNode()||e.isEmpty())a=bt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=bt.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;c.hasNext()&&g<this.limit_;){const v=c.getNext();let b;if(b=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),v)<=0:this.index_.compare(v,this.rangedFilter_.getEndPost())<=0,!b)break;a=a.updateImmediateChild(v.name,v.node),g++}}else{let c,g,v,b;if(a=e.withIndex(this.index_),a=a.updatePriority(bt.EMPTY_NODE),this.reverse_){b=a.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),g=this.rangedFilter_.getStartPost();const k=this.index_.getCompare();v=(z,te)=>k(te,z)}else b=a.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),g=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();let A=0,F=!1;for(;b.hasNext();){const k=b.getNext();!F&&v(c,k)<=0&&(F=!0),F&&A<this.limit_&&v(k,g)<=0?A++:a=a.updateImmediateChild(k.name,bt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,a,c){let g;if(this.reverse_){const k=this.index_.getCompare();g=(z,te)=>k(te,z)}else g=this.index_.getCompare();const v=t;(0,N.hu)(v.numChildren()===this.limit_,"");const b=new Mt(e,i),A=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),F=this.rangedFilter_.matches(b);if(v.hasChild(e)){const k=v.getImmediateChild(e);let z=a.getChildAfterChild(this.index_,A,this.reverse_);for(;null!=z&&(z.name===e||v.hasChild(z.name));)z=a.getChildAfterChild(this.index_,z,this.reverse_);const te=null==z?1:g(z,b);if(F&&!i.isEmpty()&&te>=0)return c?.trackChildChange(Vh(e,i,k)),v.updateImmediateChild(e,i);{c?.trackChildChange(ld(e,k));const je=v.updateImmediateChild(e,bt.EMPTY_NODE);return null!=z&&this.rangedFilter_.matches(z)?(c?.trackChildChange(ad(z.name,z.node)),je.updateImmediateChild(z.name,z.node)):je}}return i.isEmpty()?t:F&&g(A,b)>=0?(null!=c&&(c.trackChildChange(ld(A.name,A.node)),c.trackChildChange(ad(e,i))),v.updateImmediateChild(e,i).updateImmediateChild(A.name,bt.EMPTY_NODE)):t}}class E_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=on}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ls}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:us}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===on}copy(){const t=new E_;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function b_(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Vu(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function hp(n,t){const e=n.copy();return e.index_=t,e}function qC(n){const t={};if(n.isDefault())return t;let e;return n.index_===on?e="$priority":n.index_===__?e="$value":n.index_===ds?e="$key":((0,N.hu)(n.index_ instanceof up,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,N.Pz)(e),n.startSet_&&(t.startAt=(0,N.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,N.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,N.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,N.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function KC(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==on&&(t.i=n.index_.toString()),t}class fp extends s_{constructor(t,e,i,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=nd("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const g=fp.getListenId_(t,i),v={};this.listens_[g]=v;const b=qC(t._queryParams);this.restRequest_(c+".json",b,(A,F)=>{let k=F;if(404===A&&(k=null,A=null),null===A&&this.onDataUpdate_(c,k,!1,i),(0,N.DV)(this.listens_,g)===v){let z;z=A?401===A?"permission_denied":"rest_error:"+A:"ok",a(z,null)}})}unlisten(t,e){const i=fp.getListenId_(t,e);delete this.listens_[i]}get(t){const e=qC(t._queryParams),i=t._path.toString(),a=new N.BH;return this.restRequest_(i+".json",e,(c,g)=>{let v=g;404===c&&(v=null,c=null),null===c?(this.onDataUpdate_(i,v,!1,null),a.resolve(v)):a.reject(new Error(v))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+g);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(i&&4===v.readyState){this.log_("REST Response for "+g+" received. status:",v.status,"response:",v.responseText);let b=null;if(v.status>=200&&v.status<300){try{b=(0,N.cI)(v.responseText)}catch{cr("Failed to parse JSON response for "+g+": "+v.responseText)}i(null,b)}else 401!==v.status&&404!==v.status&&cr("Got unsuccessful REST response for "+g+" Status: "+v.status),i(v.status);i=null}},v.open("GET",g,!0),v.send()})}}class YC{constructor(){this.rootNode_=bt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function pp(){return{value:null,children:new Map}}function ud(n,t,e){if(At(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Tt(t);n.children.has(i)||n.children.set(i,pp()),ud(n.children.get(i),t=sn(t),e)}}function yl(n,t){if(At(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(on,(i,a)=>{ud(n,new Yt(i),a)}),yl(n,t)}}if(n.children.size>0){const e=Tt(t);return t=sn(t),n.children.has(e)&&yl(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function w_(n,t,e){null!==n.value?e(t,n.value):function QC(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,a)=>{w_(a,new Yt(t.toString()+"/"+i),e)})}class Nw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&qn(this.last_,(i,a)=>{e[i]=e[i]-a}),this.last_=t,e}}class kw{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Nw(t);const i=1e4+2e4*Math.random();Rh(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;qn(t,(a,c)=>{c>0&&(0,N.r3)(this.statsToReport_,a)&&(e[a]=c,i=!0)}),i&&this.server_.reportStats(e),Rh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ci=(()=>{return(n=ci||(ci={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ci;var n})();function mp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class _p{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=ci.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(At(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Yt(t));return new _p(Bt(),e,this.revert)}}return(0,N.hu)(Tt(this.path)===t,"operationForChild called for unrelated child."),new _p(sn(this.path),this.affectedTree,this.revert)}}class Bh{constructor(t,e){this.source=t,this.path=e,this.type=ci.LISTEN_COMPLETE}operationForChild(t){return At(this.path)?new Bh(this.source,Bt()):new Bh(this.source,sn(this.path))}}class Bu{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=ci.OVERWRITE}operationForChild(t){return At(this.path)?new Bu(this.source,Bt(),this.snap.getImmediateChild(t)):new Bu(this.source,sn(this.path),this.snap)}}class vl{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=ci.MERGE}operationForChild(t){if(At(this.path)){const e=this.children.subtree(new Yt(t));return e.isEmpty()?null:e.value?new Bu(this.source,Bt(),e.value):new vl(this.source,Bt(),e)}return(0,N.hu)(Tt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new vl(this.source,sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Cl{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(At(t))return this.isFullyInitialized()&&!this.filtered_;const e=Tt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class XC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function jh(n,t,e,i,a,c){const g=i.filter(v=>v.type===e);g.sort((v,b)=>function Uw(n,t,e){if(null==t.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new Mt(t.childName,t.snapshotNode),a=new Mt(e.childName,e.snapshotNode);return n.index_.compare(i,a)}(n,v,b)),g.forEach(v=>{const b=function Lw(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,v,c);a.forEach(A=>{A.respondsTo(v.type)&&t.push(A.createEvent(b,n.query_))})})}function yp(n,t){return{eventCache:n,serverCache:t}}function Hh(n,t,e,i){return yp(new Cl(t,e,i),n.serverCache)}function eE(n,t,e,i){return yp(n.eventCache,new Cl(t,e,i))}function vp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function El(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Cp;class cn{constructor(t,e=(()=>(Cp||(Cp=new Ri(km)),Cp))()){this.value=t,this.children=e}static fromObject(t){let e=new cn(null);return qn(t,(i,a)=>{e=e.set(new Yt(i),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Bt(),value:this.value};if(At(t))return null;{const i=Tt(t),a=this.children.get(i);if(null!==a){const c=a.findRootMostMatchingPathAndValue(sn(t),e);return null!=c?{path:Cn(new Yt(i),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(At(t))return this;{const e=Tt(t),i=this.children.get(e);return null!==i?i.subtree(sn(t)):new cn(null)}}set(t,e){if(At(t))return new cn(e,this.children);{const i=Tt(t),c=(this.children.get(i)||new cn(null)).set(sn(t),e),g=this.children.insert(i,c);return new cn(this.value,g)}}remove(t){if(At(t))return this.children.isEmpty()?new cn(null):new cn(null,this.children);{const e=Tt(t),i=this.children.get(e);if(i){const a=i.remove(sn(t));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new cn(null):new cn(this.value,c)}return this}}get(t){if(At(t))return this.value;{const e=Tt(t),i=this.children.get(e);return i?i.get(sn(t)):null}}setTree(t,e){if(At(t))return e;{const i=Tt(t),c=(this.children.get(i)||new cn(null)).setTree(sn(t),e);let g;return g=c.isEmpty()?this.children.remove(i):this.children.insert(i,c),new cn(this.value,g)}}fold(t){return this.fold_(Bt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((a,c)=>{i[a]=c.fold_(Cn(t,a),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Bt(),e)}findOnPath_(t,e,i){const a=!!this.value&&i(e,this.value);if(a)return a;if(At(t))return null;{const c=Tt(t),g=this.children.get(c);return g?g.findOnPath_(sn(t),Cn(e,c),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Bt(),e)}foreachOnPath_(t,e,i){if(At(t))return this;{this.value&&i(e,this.value);const a=Tt(t),c=this.children.get(a);return c?c.foreachOnPath_(sn(t),Cn(e,a),i):new cn(null)}}foreach(t){this.foreach_(Bt(),t)}foreach_(t,e){this.children.inorderTraversal((i,a)=>{a.foreach_(Cn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class fs{constructor(t){this.writeTree_=t}static empty(){return new fs(new cn(null))}}function $h(n,t,e){if(At(t))return new fs(new cn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const a=i.path;let c=i.value;const g=Gr(a,t);return c=c.updateChild(g,e),new fs(n.writeTree_.set(a,c))}{const a=new cn(e),c=n.writeTree_.setTree(t,a);return new fs(c)}}}function T_(n,t,e){let i=n;return qn(e,(a,c)=>{i=$h(i,Cn(t,a),c)}),i}function tE(n,t){if(At(t))return fs.empty();{const e=n.writeTree_.setTree(t,new cn(null));return new fs(e)}}function Gh(n,t){return null!=Ra(n,t)}function Ra(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Gr(e.path,t)):null}function A_(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(on,(i,a)=>{t.push(new Mt(i,a))}):n.writeTree_.children.inorderTraversal((i,a)=>{null!=a.value&&t.push(new Mt(i,a.value))}),t}function ko(n,t){if(At(t))return n;{const e=Ra(n,t);return new fs(null!=e?new cn(e):n.writeTree_.subtree(t))}}function S_(n){return n.writeTree_.isEmpty()}function cd(n,t){return Ep(Bt(),n.writeTree_,t)}function Ep(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((a,c)=>{".priority"===a?((0,N.hu)(null!==c.value,"Priority writes must always be leaf nodes"),i=c.value):e=Ep(Cn(n,a),c,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Cn(n,".priority"),i)),e}}function bp(n,t){return x_(t,n)}function WI(n,t){if(n.snap)return cs(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&cs(Cn(n.path,e),t))return!0;return!1}function M_(n){return n.visible}function sE(n,t,e){let i=fs.empty();for(let a=0;a<n.length;++a){const c=n[a];if(t(c)){const g=c.path;let v;if(c.snap)cs(e,g)?(v=Gr(e,g),i=$h(i,v,c.snap)):cs(g,e)&&(v=Gr(g,e),i=$h(i,Bt(),c.snap.getChild(v)));else{if(!c.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(cs(e,g))v=Gr(e,g),i=T_(i,v,c.children);else if(cs(g,e))if(v=Gr(g,e),At(v))i=T_(i,Bt(),c.children);else{const b=(0,N.DV)(c.children,Tt(v));if(b){const A=b.getChild(sn(v));i=$h(i,Bt(),A)}}}}}return i}function wp(n,t,e,i,a){if(i||a){const c=ko(n.visibleWrites,t);return!a&&S_(c)?e:a||null!=e||Gh(c,Bt())?cd(sE(n.allWrites,function(A){return(A.visible||a)&&(!i||!~i.indexOf(A.writeId))&&(cs(A.path,t)||cs(t,A.path))},t),e||bt.EMPTY_NODE):null}{const c=Ra(n.visibleWrites,t);if(null!=c)return c;{const g=ko(n.visibleWrites,t);return S_(g)?e:null!=e||Gh(g,Bt())?cd(g,e||bt.EMPTY_NODE):null}}}function Wh(n,t,e,i){return wp(n.writeTree,n.treePath,t,e,i)}function P_(n,t){return function jw(n,t,e){let i=bt.EMPTY_NODE;const a=Ra(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(on,(c,g)=>{i=i.updateImmediateChild(c,g)}),i;if(e){const c=ko(n.visibleWrites,t);return e.forEachChild(on,(g,v)=>{const b=cd(ko(c,new Yt(g)),v);i=i.updateImmediateChild(g,b)}),A_(c).forEach(g=>{i=i.updateImmediateChild(g.name,g.node)}),i}return A_(ko(n.visibleWrites,t)).forEach(g=>{i=i.updateImmediateChild(g.name,g.node)}),i}(n.writeTree,n.treePath,t)}function uE(n,t,e,i){return function Hw(n,t,e,i,a){(0,N.hu)(i||a,"Either existingEventSnap or existingServerSnap must exist");const c=Cn(t,e);if(Gh(n.visibleWrites,c))return null;{const g=ko(n.visibleWrites,c);return S_(g)?a.getChild(e):cd(g,a.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Dp(n,t){return function oE(n,t){return Ra(n.visibleWrites,t)}(n.writeTree,Cn(n.treePath,t))}function Ip(n,t,e){return function R_(n,t,e,i){const a=Cn(t,e),c=Ra(n.visibleWrites,a);return null!=c?c:i.isCompleteForChild(e)?cd(ko(n.visibleWrites,a),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Gw(n,t){return x_(Cn(n.treePath,t),n.writeTree)}function x_(n,t){return{treePath:n,writeTree:t}}class Ww{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(i,Vh(i,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(i,ld(i,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(i,ad(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(i,Vh(i,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const zw=new class Zw{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class cE{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Cl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ip(this.writes_,t,i)}}getChildAfterChild(t,e,i){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:El(this.viewCache_),c=function $w(n,t,e,i,a,c){return function aE(n,t,e,i,a,c,g){let v;const b=ko(n.visibleWrites,t),A=Ra(b,Bt());if(null!=A)v=A;else{if(null==e)return[];v=cd(b,e)}if(v=v.withIndex(g),v.isEmpty()||v.isLeafNode())return[];{const F=[],k=g.getCompare(),z=c?v.getReverseIteratorFrom(i,g):v.getIteratorFrom(i,g);let te=z.getNext();for(;te&&F.length<a;)0!==k(te,i)&&F.push(te),te=z.getNext();return F}}(n.writeTree,n.treePath,t,e,i,a,c)}(this.writes_,a,e,1,i,t);return 0===c.length?null:c[0]}}function hE(n,t,e,i,a,c){const g=t.eventCache;if(null!=Dp(i,e))return t;{let v,b;if(At(e))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const A=El(t),k=P_(i,A instanceof bt?A:bt.EMPTY_NODE);v=n.filter.updateFullNode(t.eventCache.getNode(),k,c)}else{const A=Wh(i,El(t));v=n.filter.updateFullNode(t.eventCache.getNode(),A,c)}else{const A=Tt(e);if(".priority"===A){(0,N.hu)(1===ml(e),"Can't have a priority with additional path components");const F=g.getNode();b=t.serverCache.getNode();const k=uE(i,e,F,b);v=null!=k?n.filter.updatePriority(F,k):g.getNode()}else{const F=sn(e);let k;if(g.isCompleteForChild(A)){b=t.serverCache.getNode();const z=uE(i,e,g.getNode(),b);k=null!=z?g.getNode().getImmediateChild(A).updateChild(F,z):g.getNode().getImmediateChild(A)}else k=Ip(i,A,t.serverCache);v=null!=k?n.filter.updateChild(g.getNode(),A,k,F,a,c):g.getNode()}}return Hh(t,v,g.isFullyInitialized()||At(e),n.filter.filtersNodes())}}function Tp(n,t,e,i,a,c,g,v){const b=t.serverCache;let A;const F=g?n.filter:n.filter.getIndexedFilter();if(At(e))A=F.updateFullNode(b.getNode(),i,null);else if(F.filtersNodes()&&!b.isFiltered()){const te=b.getNode().updateChild(e,i);A=F.updateFullNode(b.getNode(),te,null)}else{const te=Tt(e);if(!b.isCompleteForPath(e)&&ml(e)>1)return t;const me=sn(e),qe=b.getNode().getImmediateChild(te).updateChild(me,i);A=".priority"===te?F.updatePriority(b.getNode(),qe):F.updateChild(b.getNode(),te,qe,me,zw,null)}const k=eE(t,A,b.isFullyInitialized()||At(e),F.filtersNodes());return hE(n,k,e,a,new cE(a,k,c),v)}function N_(n,t,e,i,a,c,g){const v=t.eventCache;let b,A;const F=new cE(a,t,c);if(At(e))A=n.filter.updateFullNode(t.eventCache.getNode(),i,g),b=Hh(t,A,!0,n.filter.filtersNodes());else{const k=Tt(e);if(".priority"===k)A=n.filter.updatePriority(t.eventCache.getNode(),i),b=Hh(t,A,v.isFullyInitialized(),v.isFiltered());else{const z=sn(e),te=v.getNode().getImmediateChild(k);let me;if(At(z))me=i;else{const je=F.getCompleteChild(k);me=null!=je?".priority"===l_(z)&&je.getChild(RC(z)).isEmpty()?je:je.updateChild(z,i):bt.EMPTY_NODE}b=te.equals(me)?t:Hh(t,n.filter.updateChild(v.getNode(),k,me,z,F,g),v.isFullyInitialized(),n.filter.filtersNodes())}}return b}function fE(n,t){return n.eventCache.isCompleteForChild(t)}function pE(n,t,e){return e.foreach((i,a)=>{t=t.updateChild(i,a)}),t}function O_(n,t,e,i,a,c,g,v){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let A,b=t;A=At(e)?i:new cn(null).setTree(e,i);const F=t.serverCache.getNode();return A.children.inorderTraversal((k,z)=>{if(F.hasChild(k)){const me=pE(0,t.serverCache.getNode().getImmediateChild(k),z);b=Tp(n,b,new Yt(k),me,a,c,g,v)}}),A.children.inorderTraversal((k,z)=>{const te=!t.serverCache.isCompleteForChild(k)&&null===z.value;if(!F.hasChild(k)&&!te){const je=pE(0,t.serverCache.getNode().getImmediateChild(k),z);b=Tp(n,b,new Yt(k),je,a,c,g,v)}}),b}class mE{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new WC(i.getIndex()),c=function ZC(n){return n.loadsAllData()?new WC(n.getIndex()):n.hasLimit()?new GI(n):new cp(n)}(i);this.processor_=function qw(n){return{filter:n}}(c);const g=e.serverCache,v=e.eventCache,b=a.updateFullNode(bt.EMPTY_NODE,g.getNode(),null),A=c.updateFullNode(bt.EMPTY_NODE,v.getNode(),null),F=new Cl(b,g.isFullyInitialized(),a.filtersNodes()),k=new Cl(A,v.isFullyInitialized(),c.filtersNodes());this.viewCache_=yp(k,F),this.eventGenerator_=new XC(this.query_)}get query(){return this.query_}}function vE(n,t){const e=El(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!At(t)&&!e.getImmediateChild(Tt(t)).isEmpty())?e.getChild(t):null}function CE(n){return 0===n.eventRegistrations_.length}function eD(n,t,e){const i=[];if(e){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(c=>{const g=c.createCancelEvent(e,a);g&&i.push(g)})}if(t){let a=[];for(let c=0;c<n.eventRegistrations_.length;++c){const g=n.eventRegistrations_[c];if(g.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(c+1));break}}else a.push(g)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return i}function EE(n,t,e,i){t.type===ci.MERGE&&null!==t.source.queryId&&((0,N.hu)(El(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(vp(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,c=function Yw(n,t,e,i,a){const c=new Ww;let g,v;if(e.type===ci.OVERWRITE){const A=e;A.source.fromUser?g=N_(n,t,A.path,A.snap,i,a,c):((0,N.hu)(A.source.fromServer,"Unknown source."),v=A.source.tagged||t.serverCache.isFiltered()&&!At(A.path),g=Tp(n,t,A.path,A.snap,i,a,v,c))}else if(e.type===ci.MERGE){const A=e;A.source.fromUser?g=function Qw(n,t,e,i,a,c,g){let v=t;return i.foreach((b,A)=>{const F=Cn(e,b);fE(t,Tt(F))&&(v=N_(n,v,F,A,a,c,g))}),i.foreach((b,A)=>{const F=Cn(e,b);fE(t,Tt(F))||(v=N_(n,v,F,A,a,c,g))}),v}(n,t,A.path,A.children,i,a,c):((0,N.hu)(A.source.fromServer,"Unknown source."),v=A.source.tagged||t.serverCache.isFiltered(),g=O_(n,t,A.path,A.children,i,a,v,c))}else if(e.type===ci.ACK_USER_WRITE){const A=e;g=A.revert?function gE(n,t,e,i,a,c){let g;if(null!=Dp(i,e))return t;{const v=new cE(i,t,a),b=t.eventCache.getNode();let A;if(At(e)||".priority"===Tt(e)){let F;if(t.serverCache.isFullyInitialized())F=Wh(i,El(t));else{const k=t.serverCache.getNode();(0,N.hu)(k instanceof bt,"serverChildren would be complete if leaf node"),F=P_(i,k)}A=n.filter.updateFullNode(b,F,c)}else{const F=Tt(e);let k=Ip(i,F,t.serverCache);null==k&&t.serverCache.isCompleteForChild(F)&&(k=b.getImmediateChild(F)),A=null!=k?n.filter.updateChild(b,F,k,sn(e),v,c):t.eventCache.getNode().hasChild(F)?n.filter.updateChild(b,F,bt.EMPTY_NODE,sn(e),v,c):b,A.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=Wh(i,El(t)),g.isLeafNode()&&(A=n.filter.updateFullNode(A,g,c)))}return g=t.serverCache.isFullyInitialized()||null!=Dp(i,Bt()),Hh(t,A,g,n.filter.filtersNodes())}}(n,t,A.path,i,a,c):function Jw(n,t,e,i,a,c,g){if(null!=Dp(a,e))return t;const v=t.serverCache.isFiltered(),b=t.serverCache;if(null!=i.value){if(At(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return Tp(n,t,e,b.getNode().getChild(e),a,c,v,g);if(At(e)){let A=new cn(null);return b.getNode().forEachChild(ds,(F,k)=>{A=A.set(new Yt(F),k)}),O_(n,t,e,A,a,c,v,g)}return t}{let A=new cn(null);return i.foreach((F,k)=>{const z=Cn(e,F);b.isCompleteForPath(z)&&(A=A.set(F,b.getNode().getChild(z)))}),O_(n,t,e,A,a,c,v,g)}}(n,t,A.path,A.affectedTree,i,a,c)}else{if(e.type!==ci.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);g=function Zh(n,t,e,i,a){const c=t.serverCache;return hE(n,eE(t,c.getNode(),c.isFullyInitialized()||At(e),c.isFiltered()),e,i,zw,a)}(n,t,e.path,i,c)}const b=c.getChanges();return function dE(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),c=vp(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!i.getNode().equals(c)||!i.getNode().getPriority().equals(c.getPriority()))&&e.push(C_(vp(t)))}}(t,g,b),{viewCache:g,changes:b}}(n.processor_,a,t,e,i);return function Kw(n,t){(0,N.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,N.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,bE(n,c.changes,c.viewCache.eventCache.getNode(),null)}function bE(n,t,e,i){return function Fw(n,t,e,i){const a=[],c=[];return t.forEach(g=>{"child_changed"===g.type&&n.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&c.push(function Rw(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(g.childName,g.snapshotNode))}),jh(n,a,"child_removed",t,i,e),jh(n,a,"child_added",t,i,e),jh(n,a,"child_moved",c,i,e),jh(n,a,"child_changed",t,i,e),jh(n,a,"value",t,i,e),a}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Ap,Mp;class wE{constructor(){this.views=new Map}}function ps(n,t,e,i){const a=t.source.queryId;if(null!==a){const c=n.views.get(a);return(0,N.hu)(null!=c,"SyncTree gave us an op for an invalid query."),EE(c,t,e,i)}{let c=[];for(const g of n.views.values())c=c.concat(EE(g,t,e,i));return c}}function DE(n,t,e,i,a){const g=n.views.get(t._queryIdentifier);if(!g){let v=Wh(e,a?i:null),b=!1;v?b=!0:i instanceof bt?(v=P_(e,i),b=!1):(v=bt.EMPTY_NODE,b=!1);const A=yp(new Cl(v,b,!1),new Cl(i,a,!1));return new mE(t,A)}return g}function IE(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function bl(n,t){let e=null;for(const i of n.views.values())e=e||vE(i,t);return e}function TE(n,t){return t._queryParams.loadsAllData()?Sp(n):n.views.get(t._queryIdentifier)}function Kh(n,t){return null!=TE(n,t)}function Ys(n){return null!=Sp(n)}function Sp(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let L_=1;class U_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new cn(null),this.pendingWriteTree_=function lE(){return{visibleWrites:fs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function V_(n,t,e,i,a){return function nE(n,t,e,i,a){(0,N.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:a}),a&&(n.visibleWrites=$h(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,a),a?wl(n,new Bu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function ju(n,t,e=!1){const i=function rE(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Bw(n,t){const e=n.allWrites.findIndex(v=>v.writeId===t);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let a=i.visible,c=!1,g=n.allWrites.length-1;for(;a&&g>=0;){const v=n.allWrites[g];v.visible&&(g>=e&&WI(v,i.path)?a=!1:cs(i.path,v.path)&&(c=!0)),g--}return!!a&&(c?(function iE(n){n.visibleWrites=sE(n.allWrites,M_,Bt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=tE(n.visibleWrites,i.path):qn(i.children,b=>{n.visibleWrites=tE(n.visibleWrites,Cn(i.path,b))}),!0))}(n.pendingWriteTree_,t)){let c=new cn(null);return null!=i.snap?c=c.set(Bt(),!0):qn(i.children,g=>{c=c.set(new Yt(g),!0)}),wl(n,new _p(i.path,c,e))}return[]}function Hu(n,t,e){return wl(n,new Bu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function hd(n,t,e,i,a=!1){const c=t._path,g=n.syncPointTree_.get(c);let v=[];if(g&&("default"===t._queryIdentifier||Kh(g,t))){const b=function qh(n,t,e,i){const a=t._queryIdentifier,c=[];let g=[];const v=Ys(n);if("default"===a)for(const[b,A]of n.views.entries())g=g.concat(eD(A,e,i)),CE(A)&&(n.views.delete(b),A.query._queryParams.loadsAllData()||c.push(A.query));else{const b=n.views.get(a);b&&(g=g.concat(eD(b,e,i)),CE(b)&&(n.views.delete(a),b.query._queryParams.loadsAllData()||c.push(b.query)))}return v&&!Ys(n)&&c.push(new(function nD(){return(0,N.hu)(Ap,"Reference.ts has not been loaded"),Ap}())(t._repo,t._path)),{removed:c,events:g}}(g,t,e,i);(function k_(n){return 0===n.views.size})(g)&&(n.syncPointTree_=n.syncPointTree_.remove(c));const A=b.removed;if(v=b.events,!a){const F=-1!==A.findIndex(z=>z._queryParams.loadsAllData()),k=n.syncPointTree_.findOnPath(c,(z,te)=>Ys(te));if(F&&!k){const z=n.syncPointTree_.subtree(c);if(!z.isEmpty()){const te=function NE(n){return n.fold((t,e,i)=>{if(e&&Ys(e))return[Sp(e)];{let a=[];return e&&(a=IE(e)),qn(i,(c,g)=>{a=a.concat(g)}),a}})}(z);for(let me=0;me<te.length;++me){const je=te[me],qe=je.query,mt=G_(n,je);n.listenProvider_.startListening(pd(qe),fd(n,qe),mt.hashFn,mt.onComplete)}}}!k&&A.length>0&&!i&&(F?n.listenProvider_.stopListening(pd(t),null):A.forEach(z=>{const te=n.queryToTagMap.get(Pp(z));n.listenProvider_.stopListening(pd(z),te)}))}!function Wr(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const a=Pp(i),c=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(c)}}}(n,A)}return v}function RE(n,t,e,i){const a=xp(n,i);if(null!=a){const c=Np(a),g=c.path,v=c.queryId,b=Gr(g,t);return W_(n,g,new Bu(mp(v),b,e))}return[]}function H_(n,t,e,i=!1){const a=t._path;let c=null,g=!1;n.syncPointTree_.foreachOnPath(a,(z,te)=>{const me=Gr(z,a);c=c||bl(te,me),g=g||Ys(te)});let b,v=n.syncPointTree_.get(a);v?(g=g||Ys(v),c=c||bl(v,Bt())):(v=new wE,n.syncPointTree_=n.syncPointTree_.set(a,v)),null!=c?b=!0:(b=!1,c=bt.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((te,me)=>{const je=bl(me,Bt());je&&(c=c.updateImmediateChild(te,je))}));const A=Kh(v,t);if(!A&&!t._queryParams.loadsAllData()){const z=Pp(t);(0,N.hu)(!n.queryToTagMap.has(z),"View does not exist, but we have a tag");const te=function gd(){return L_++}();n.queryToTagMap.set(z,te),n.tagToQueryMap.set(te,z)}let k=function F_(n,t,e,i,a,c){const g=DE(n,t,i,a,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,g),function Xw(n,t){n.eventRegistrations_.push(t)}(g,e),function tD(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(on,(c,g)=>{i.push(ad(c,g))}),e.isFullyInitialized()&&i.push(C_(e.getNode())),bE(n,i,e.getNode(),t)}(g,e)}(v,t,e,bp(n.pendingWriteTree_,a),c,b);if(!A&&!g&&!i){const z=TE(v,t);k=k.concat(function sD(n,t,e){const i=t._path,a=fd(n,t),c=G_(n,e),g=n.listenProvider_.startListening(pd(t),a,c.hashFn,c.onComplete),v=n.syncPointTree_.subtree(i);if(a)(0,N.hu)(!Ys(v.value),"If we're adding a query, it shouldn't be shadowed");else{const b=v.fold((A,F,k)=>{if(!At(A)&&F&&Ys(F))return[Sp(F).query];{let z=[];return F&&(z=z.concat(IE(F).map(te=>te.query))),qn(k,(te,me)=>{z=z.concat(me)}),z}});for(let A=0;A<b.length;++A){const F=b[A];n.listenProvider_.stopListening(pd(F),fd(n,F))}}return g}(n,t,z))}return k}function Rp(n,t,e){const a=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(g,v)=>{const A=bl(v,Gr(g,t));if(A)return A});return wp(a,t,c,e,!0)}function wl(n,t){return $_(t,n.syncPointTree_,null,bp(n.pendingWriteTree_,Bt()))}function $_(n,t,e,i){if(At(n.path))return xE(n,t,e,i);{const a=t.get(Bt());null==e&&null!=a&&(e=bl(a,Bt()));let c=[];const g=Tt(n.path),v=n.operationForChild(g),b=t.children.get(g);if(b&&v){const A=e?e.getImmediateChild(g):null,F=Gw(i,g);c=c.concat($_(v,b,A,F))}return a&&(c=c.concat(ps(a,n,i,e))),c}}function xE(n,t,e,i){const a=t.get(Bt());null==e&&null!=a&&(e=bl(a,Bt()));let c=[];return t.children.inorderTraversal((g,v)=>{const b=e?e.getImmediateChild(g):null,A=Gw(i,g),F=n.operationForChild(g);F&&(c=c.concat(xE(F,v,b,A)))}),a&&(c=c.concat(ps(a,n,i,e))),c}function G_(n,t){const e=t.query,i=fd(n,e);return{hashFn:()=>(function _E(n){return n.viewCache_.serverCache.getNode()}(t)||bt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return i?function j_(n,t,e){const i=xp(n,e);if(i){const a=Np(i),c=a.path,g=a.queryId,v=Gr(c,t);return W_(n,c,new Bh(mp(g),v))}return[]}(n,e._path,i):function ME(n,t){return wl(n,new Bh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function gC(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(a,e);return hd(n,e,null,c)}}}}function fd(n,t){const e=Pp(t);return n.queryToTagMap.get(e)}function Pp(n){return n._path.toString()+"$"+n._queryIdentifier}function xp(n,t){return n.tagToQueryMap.get(t)}function Np(n){const t=n.indexOf("$");return(0,N.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Yt(n.substr(0,t))}}function W_(n,t,e){const i=n.syncPointTree_.get(t);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),ps(i,e,bp(n.pendingWriteTree_,t),null)}function pd(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function SE(){return(0,N.hu)(Mp,"Reference.ts has not been loaded"),Mp}())(n._repo,n._path):n}class Z_{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Z_(e)}node(){return this.node_}}class OE{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Cn(this.path_,t);return new OE(this.syncTree_,e)}node(){return Rp(this.syncTree_,this.path_)}}const z_=function(n,t,e){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?kE(n[".sv"],t,e):"object"==typeof n[".sv"]?Yh(n[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},kE=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},Yh=function(n,t,e){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const a=t.node();if((0,N.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const g=a.getValue();return"number"!=typeof g?i:g+i},FE=function(n,t,e,i){return q_(t,new OE(e,n),i)},Qh=function(n,t,e){return q_(n,new Z_(t),e)};function q_(n,t,e){const i=n.getPriority().val(),a=z_(i,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const g=n,v=z_(g.getValue(),t,e);return v!==g.getValue()||a!==g.getPriority().val()?new Aa(v,En(a)):n}{const g=n;return c=g,a!==g.getPriority().val()&&(c=c.updatePriority(new Aa(a))),g.forEachChild(on,(v,b)=>{const A=q_(b,t.getImmediateChild(v),e);A!==b&&(c=c.updateImmediateChild(v,A))}),c}}class Op{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function kp(n,t){let e=t instanceof Yt?t:new Yt(t),i=n,a=Tt(e);for(;null!==a;){const c=(0,N.DV)(i.node.children,a)||{children:{},childCount:0};i=new Op(a,i,c),e=sn(e),a=Tt(e)}return i}function $u(n){return n.node.value}function Dl(n,t){n.node.value=t,UE(n)}function LE(n){return n.node.childCount>0}function Jh(n,t){qn(n.node.children,(e,i)=>{t(new Op(e,n,i))})}function Y_(n,t,e,i){e&&!i&&t(n),Jh(n,a=>{Y_(a,t,!0,i)}),e&&i&&t(n)}function Gu(n){return new Yt(null===n.parent?n.name:Gu(n.parent)+"/"+n.name)}function UE(n){null!==n.parent&&function VE(n,t,e){const i=function K_(n){return void 0===$u(n)&&!LE(n)}(e),a=(0,N.r3)(n.node.children,t);i&&a?(delete n.node.children[t],n.node.childCount--,UE(n)):!i&&!a&&(n.node.children[t]=e.node,n.node.childCount++,UE(n))}(n.parent,n.name,n)}const oD=/[\[\].#$\/\u0000-\u001F\u007F]/,BE=/[\[\].#$\u0000-\u001F\u007F]/,Il=10485760,Lp=function(n){return"string"==typeof n&&0!==n.length&&!oD.test(n)},Q_=function(n){return"string"==typeof n&&0!==n.length&&!BE.test(n)},Up=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Jf(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},Fo=function(n,t,e,i){i&&void 0===t||Vp((0,N.gK)(n,"value"),t,e)},Vp=function(n,t,e){const i=e instanceof Yt?new bw(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+_l(i));if("function"==typeof t)throw new Error(n+"contains a function "+_l(i)+" with contents = "+t.toString());if(Jf(t))throw new Error(n+"contains "+t.toString()+" "+_l(i));if("string"==typeof t&&t.length>Il/3&&(0,N.ug)(t)>Il)throw new Error(n+"contains a string greater than "+Il+" utf8 bytes "+_l(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,c=!1;if(qn(t,(g,v)=>{if(".value"===g)a=!0;else if(".priority"!==g&&".sv"!==g&&(c=!0,!Lp(g)))throw new Error(n+" contains an invalid key ("+g+") "+_l(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ww(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,N.ug)(t),c_(n)})(i,g),Vp(n,v,i),function PC(n){const t=n.parts_.pop();n.byteLength_-=(0,N.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),a&&c)throw new Error(n+' contains ".value" child '+_l(i)+" in addition to actual children.")}},jE=function(n,t,e,i){if(i&&void 0===t)return;const a=(0,N.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const c=[];qn(t,(g,v)=>{const b=new Yt(g);if(Vp(a,v,Cn(e,b)),".priority"===l_(b)&&!Up(v))throw new Error(a+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(b)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const c=kh(i);for(let g=0;g<c.length;g++)if((".priority"!==c[g]||g!==c.length-1)&&!Lp(c[g]))throw new Error(n+"contains an invalid key ("+c[g]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Ew);let a=null;for(e=0;e<t.length;e++){if(i=t[e],null!==a&&cs(a,i))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,c)},X_=function(n,t,e){if(!e||void 0!==t){if(Jf(t))throw new Error((0,N.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Up(t))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},md=function(n,t,e,i){if(!(i&&void 0===e||Lp(e)))throw new Error((0,N.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},_d=function(n,t,e,i){if(!(i&&void 0===e||Q_(e)))throw new Error((0,N.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Pi=function(n,t){if(".info"===Tt(t))throw new Error(n+" failed = Can't modify data under /.info/")},ey=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Lp(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Q_(n)}(e))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class uD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bp(n,t){let e=null;for(let i=0;i<t.length;i++){const a=t[i],c=a.getPath();null!==e&&!u_(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&n.eventLists_.push(e)}function ty(n,t,e){Bp(n,e),ny(n,i=>u_(i,t))}function xi(n,t,e){Bp(n,e),ny(n,i=>cs(i,t)||cs(t,i))}function ny(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const a=n.eventLists_[i];a&&(t(a.path)?(HE(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function HE(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();pl&&ur("event: "+e.toString()),ku(i)}}}const ry="repo_interrupt";class cD{constructor(t,e,i,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pp(),this.transactionQueueTree_=new Op,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hD(n){const e=n.infoData_.getNode(new Yt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function yd(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:hD(n)})}function fD(n,t,e,i,a){n.dataUpdateCount++;const c=new Yt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let g=[];if(a)if(i){const b=(0,N.UI)(e,A=>En(A));g=function iD(n,t,e,i){const a=xp(n,i);if(a){const c=Np(a),g=c.path,v=c.queryId,b=Gr(g,t),A=cn.fromObject(e);return W_(n,g,new vl(mp(v),b,A))}return[]}(n.serverSyncTree_,c,b,a)}else{const b=En(e);g=RE(n.serverSyncTree_,c,b,a)}else if(i){const b=(0,N.UI)(e,A=>En(A));g=function B_(n,t,e){const i=cn.fromObject(e);return wl(n,new vl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,c,b)}else{const b=En(e);g=Hu(n.serverSyncTree_,c,b)}let v=c;g.length>0&&(v=xa(n,c)),xi(n.eventQueue_,v,g)}function pD(n,t){GE(n,"connected",t),!1===t&&function jp(n){vd(n,"onDisconnectEvents");const t=yd(n),e=pp();w_(n.onDisconnect_,Bt(),(a,c)=>{const g=FE(a,c,n.serverSyncTree_,t);ud(e,a,g)});let i=[];w_(e,Bt(),(a,c)=>{i=i.concat(Hu(n.serverSyncTree_,a,c));const g=oy(n,a);xa(n,g)}),n.onDisconnect_=pp(),xi(n.eventQueue_,Bt(),i)}(n)}function GE(n,t,e){const i=new Yt("/.info/"+t),a=En(e);n.infoData_.updateSnapshot(i,a);const c=Hu(n.infoSyncTree_,i,a);xi(n.eventQueue_,i,c)}function iy(n){return n.nextWriteId_++}function WE(n,t,e,i,a){vd(n,"set",{path:t.toString(),value:e,priority:i});const c=yd(n),g=En(e,i),v=Rp(n.serverSyncTree_,t),b=Qh(g,v,c),A=iy(n),F=V_(n.serverSyncTree_,t,b,A,!0);Bp(n.eventQueue_,F),n.server_.put(t.toString(),g.val(!0),(z,te)=>{const me="ok"===z;me||cr("set at "+t+" failed: "+z);const je=ju(n.serverSyncTree_,A,!me);xi(n.eventQueue_,t,je),Pa(0,a,z,te)});const k=oy(n,t);xa(n,k),xi(n.eventQueue_,k,[])}function YI(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,a)=>{"ok"===i&&yl(n.onDisconnect_,t),Pa(0,e,i,a)})}function sy(n,t,e,i){const a=En(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(c,g)=>{"ok"===c&&ud(n.onDisconnect_,t,a),Pa(0,i,c,g)})}function qE(n,t,e){let i;i=".info"===Tt(t._path)?hd(n.infoSyncTree_,t,e):hd(n.serverSyncTree_,t,e),ty(n.eventQueue_,t._path,i)}function $p(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ry)}function vd(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ur(e,...t)}function Pa(n,t,e,i){t&&ku(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let c=a;i&&(c+=": "+i);const g=new Error(c);g.code=a,t(g)}})}function YE(n,t,e){return Rp(n.serverSyncTree_,t,e)||bt.EMPTY_NODE}function Gp(n,t=n.transactionQueueTree_){if(t||Wp(n,t),$u(t)){const e=yD(n,t);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function gD(n,t,e){const i=e.map(A=>A.currentWriteId),a=YE(n,t,i);let c=a;const g=a.hash();for(let A=0;A<e.length;A++){const F=e[A];(0,N.hu)(0===F.status,"tryToSendTransactionQueue_: items in queue should all be run."),F.status=1,F.retryCount++;const k=Gr(t,F.path);c=c.updateChild(k,F.currentOutputSnapshotRaw)}const v=c.val(!0),b=t;n.server_.put(b.toString(),v,A=>{vd(n,"transaction put response",{path:b.toString(),status:A});let F=[];if("ok"===A){const k=[];for(let z=0;z<e.length;z++)e[z].status=2,F=F.concat(ju(n.serverSyncTree_,e[z].currentWriteId)),e[z].onComplete&&k.push(()=>e[z].onComplete(null,!0,e[z].currentOutputSnapshotResolved)),e[z].unwatcher();Wp(n,kp(n.transactionQueueTree_,t)),Gp(n,n.transactionQueueTree_),xi(n.eventQueue_,t,F);for(let z=0;z<k.length;z++)ku(k[z])}else{if("datastale"===A)for(let k=0;k<e.length;k++)e[k].status=3===e[k].status?4:0;else{cr("transaction at "+b.toString()+" failed: "+A);for(let k=0;k<e.length;k++)e[k].status=4,e[k].abortReason=A}xa(n,t)}},g)}(n,Gu(t),e)}else LE(t)&&Jh(t,e=>{Gp(n,e)})}function xa(n,t){const e=_D(n,t),i=Gu(e);return function mD(n,t,e){if(0===t.length)return;const i=[];let a=[];const g=t.filter(v=>0===v.status).map(v=>v.currentWriteId);for(let v=0;v<t.length;v++){const b=t[v],A=Gr(e,b.path);let k,F=!1;if((0,N.hu)(null!==A,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)F=!0,k=b.abortReason,a=a.concat(ju(n.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=25)F=!0,k="maxretry",a=a.concat(ju(n.serverSyncTree_,b.currentWriteId,!0));else{const z=YE(n,b.path,g);b.currentInputSnapshot=z;const te=t[v].update(z.val());if(void 0!==te){Vp("transaction failed: Data returned ",te,b.path);let me=En(te);"object"==typeof te&&null!=te&&(0,N.r3)(te,".priority")||(me=me.updatePriority(z.getPriority()));const qe=b.currentWriteId,mt=yd(n),Rt=Qh(me,z,mt);b.currentOutputSnapshotRaw=me,b.currentOutputSnapshotResolved=Rt,b.currentWriteId=iy(n),g.splice(g.indexOf(qe),1),a=a.concat(V_(n.serverSyncTree_,b.path,Rt,b.currentWriteId,b.applyLocally)),a=a.concat(ju(n.serverSyncTree_,qe,!0))}else F=!0,k="nodata",a=a.concat(ju(n.serverSyncTree_,b.currentWriteId,!0))}xi(n.eventQueue_,e,a),a=[],F&&(t[v].status=2,setTimeout(t[v].unwatcher,Math.floor(0)),t[v].onComplete&&i.push("nodata"===k?()=>t[v].onComplete(null,!1,t[v].currentInputSnapshot):()=>t[v].onComplete(new Error(k),!1,null)))}Wp(n,n.transactionQueueTree_);for(let v=0;v<i.length;v++)ku(i[v]);Gp(n,n.transactionQueueTree_)}(n,yD(n,e),i),i}function _D(n,t){let e,i=n.transactionQueueTree_;for(e=Tt(t);null!==e&&void 0===$u(i);)i=kp(i,e),e=Tt(t=sn(t));return i}function yD(n,t){const e=[];return vD(n,t,e),e.sort((i,a)=>i.order-a.order),e}function vD(n,t,e){const i=$u(t);if(i)for(let a=0;a<i.length;a++)e.push(i[a]);Jh(t,a=>{vD(n,a,e)})}function Wp(n,t){const e=$u(t);if(e){let i=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[i]=e[a],i++);e.length=i,Dl(t,e.length>0?e:void 0)}Jh(t,i=>{Wp(n,i)})}function oy(n,t){const e=Gu(_D(n,t)),i=kp(n.transactionQueueTree_,t);return function Fp(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,a=>{ay(n,a)}),ay(n,i),Y_(i,a=>{ay(n,a)}),e}function ay(n,t){const e=$u(t);if(e){const i=[];let a=[],c=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,N.hu)(c===g-1,"All SENT items should be at beginning of queue."),c=g,e[g].status=3,e[g].abortReason="set"):((0,N.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),a=a.concat(ju(n.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&i.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Dl(t,void 0):e.length=c+1,xi(n.eventQueue_,Gu(t),a);for(let g=0;g<i.length;g++)ku(i[g])}}const Zp=function(n,t){const e=QE(n),i=e.namespace;return"firebase.com"===e.domain&&Zs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Zs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&cr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tp(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Yt(e.pathString)}},QE=function(n){let t="",e="",i="",a="",c="",g=!0,v="https",b=443;if("string"==typeof n){let A=n.indexOf("//");A>=0&&(v=n.substring(0,A-1),n=n.substring(A+2));let F=n.indexOf("/");-1===F&&(F=n.length);let k=n.indexOf("?");-1===k&&(k=n.length),t=n.substring(0,Math.min(F,k)),F<k&&(a=function JI(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let a=e[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(F,k)));const z=function CD(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):cr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,k)));A=t.indexOf(":"),A>=0?(g="https"===v||"wss"===v,b=parseInt(t.substring(A+1),10)):A=t.length;const te=t.slice(0,A);if("localhost"===te.toLowerCase())e="localhost";else if(te.split(".").length<=2)e=te;else{const me=t.indexOf(".");i=t.substring(0,me).toLowerCase(),e=t.substring(me+1),c=i}"ns"in z&&(c=z.ns)}return{host:t,port:b,domain:e,subdomain:i,secure:g,scheme:v,pathString:a,namespace:c}};class ED{constructor(t,e,i,a){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Pz)(this.snapshot.exportVal())}}class gs{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ly{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class zp{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new N.BH;return YI(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Pi("OnDisconnect.remove",this._path);const t=new N.BH;return sy(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Pi("OnDisconnect.set",this._path),Fo("OnDisconnect.set",t,this._path,!1);const e=new N.BH;return sy(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Pi("OnDisconnect.setWithPriority",this._path),Fo("OnDisconnect.setWithPriority",t,this._path,!1),X_("OnDisconnect.setWithPriority",e,!1);const i=new N.BH;return function Hp(n,t,e,i,a){const c=En(e,i);n.server_.onDisconnectPut(t.toString(),c.val(!0),(g,v)=>{"ok"===g&&ud(n.onDisconnect_,t,c),Pa(0,a,g,v)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Pi("OnDisconnect.update",this._path),jE("OnDisconnect.update",t,this._path,!1);const e=new N.BH;return function ZE(n,t,e,i){if((0,N.xb)(e))return ur("onDisconnect().update() called with empty data.  Don't do anything."),void Pa(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,c)=>{"ok"===a&&qn(e,(g,v)=>{const b=En(v);ud(n.onDisconnect_,Cn(t,g),b)}),Pa(0,i,a,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class di{constructor(t,e,i,a){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=a}get key(){return At(this._path)?null:l_(this._path)}get ref(){return new ms(this._repo,this._path)}get _queryIdentifier(){const t=KC(this._queryParams),e=Sh(t);return"{}"===e?"default":e}get _queryObject(){return KC(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof di))return!1;const e=this._repo===t._repo,i=u_(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Cw(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Or(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Tl(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===ds){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ls)throw new Error(i);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==us)throw new Error(i);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===on){if(null!=t&&!Up(t)||null!=e&&!Up(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof up||n.getIndex()===__,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Cd(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ms extends di{constructor(t,e){super(t,e,new E_,!1)}get parent(){const t=RC(this._path);return null===t?null:new ms(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Wu{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Yt(t),i=Al(this.ref,t);return new Wu(this._node.getChild(e),i,on)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,a)=>t(new Wu(a,Al(this.ref,i),on)))}hasChild(t){const e=new Yt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qp(n,t){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==t?Al(n._root,t):n._root}function uy(n,t){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const e=Zp(t,n._repo.repoInfo_.nodeAdmin);ey("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Zs("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),qp(n,e.path.toString())}function Al(n,t){return null===Tt((n=(0,N.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),_d("child","path",e,!1)):_d("child","path",t,!1),new ms(n._repo,Cn(n._path,t));var e}function cy(n,t){n=(0,N.m9)(n),Pi("set",n._path),Fo("set",t,n._path,!1);const e=new N.BH;return WE(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function dy(n,t){jE("update",t,n._path,!1);const e=new N.BH;return function KI(n,t,e,i){vd(n,"update",{path:t.toString(),value:e});let a=!0;const c=yd(n),g={};if(qn(e,(v,b)=>{a=!1,g[v]=FE(Cn(t,v),En(b),n.serverSyncTree_,c)}),a)ur("update() called with empty data.  Don't do anything."),Pa(0,i,"ok",void 0);else{const v=iy(n),b=function rD(n,t,e,i){!function dd(n,t,e,i){(0,N.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=T_(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const a=cn.fromObject(e);return wl(n,new vl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,g,v);Bp(n.eventQueue_,b),n.server_.merge(t.toString(),e,(A,F)=>{const k="ok"===A;k||cr("update at "+t+" failed: "+A);const z=ju(n.serverSyncTree_,v,!k),te=z.length>0?xa(n,t):t;xi(n.eventQueue_,te,z),Pa(0,i,A,F)}),qn(e,A=>{const F=oy(n,Cn(t,A));xa(n,F)}),xi(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Sl(n){n=(0,N.m9)(n);const t=new ly(()=>{}),e=new Ed(t);return function qI(n,t,e){const i=function PE(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(A,F)=>{const k=Gr(A,e);i=i||bl(F,k)});let a=n.syncPointTree_.get(e);a?i=i||bl(a,Bt()):(a=new wE,n.syncPointTree_=n.syncPointTree_.set(e,a));const c=null!=i,g=c?new Cl(i,!0,!1):null;return function yE(n){return vp(n.viewCache_)}(DE(a,t,bp(n.pendingWriteTree_,t._path),c?g.getNode():bt.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(a=>{const c=En(a).withIndex(t._queryParams.getIndex());let g;if(H_(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())g=Hu(n.serverSyncTree_,t._path,c);else{const v=fd(n.serverSyncTree_,t);g=RE(n.serverSyncTree_,t._path,c,v)}return xi(n.eventQueue_,t._path,g),hd(n.serverSyncTree_,t,e,null,!0),c},a=>(vd(n,"get for query "+(0,N.Pz)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(i=>new Wu(i,new ms(n._repo,n._path),n._queryParams.getIndex()))}class Ed{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new ED("value",this,new Wu(t.snapshotNode,new ms(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new gs(this,t,e):null}matches(t){return t instanceof Ed&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class bd{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new gs(this,t,e):null}createEvent(t,e){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const i=Al(new ms(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new ED(t.type,this,new Wu(t.snapshotNode,i,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof bd&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ni(n,t,e,i,a){let c;if("object"==typeof i&&(c=void 0,a=i),"function"==typeof i&&(c=i),a&&a.onlyOnce){const b=e,A=(F,k)=>{qE(n._repo,n,v),b(F,k)};A.userCallback=e.userCallback,A.context=e.context,e=A}const g=new ly(e,c||void 0),v="value"===t?new Ed(g):new bd(t,g);return function zE(n,t,e){let i;i=".info"===Tt(t._path)?H_(n.infoSyncTree_,t,e):H_(n.serverSyncTree_,t,e),ty(n.eventQueue_,t._path,i)}(n._repo,n,v),()=>qE(n._repo,n,v)}function hy(n,t,e,i){return Ni(n,"value",t,e,i)}function wD(n,t,e,i){return Ni(n,"child_added",t,e,i)}function t0(n,t,e,i){return Ni(n,"child_changed",t,e,i)}function n0(n,t,e,i){return Ni(n,"child_moved",t,e,i)}function r0(n,t,e,i){return Ni(n,"child_removed",t,e,i)}function s0(n,t,e){let i=null;const a=e?new ly(e):null;"value"===t?i=new Ed(a):t&&(i=new bd(t,a)),qE(n._repo,n,i)}class _s{}class DD extends _s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Fo("endAt",this._value,t._path,!0);const e=Vu(t._queryParams,this._value,this._key);if(Cd(e),Tl(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new di(t._repo,t._path,e,t._orderByCalled)}}class ID extends _s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Fo("endBefore",this._value,t._path,!1);const e=function xw(n,t,e){let i,a;return n.index_===ds?("string"==typeof t&&(t=v_(t)),a=Vu(n,t,e)):(i=null==e?ls:v_(e),a=Vu(n,t,i)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(Cd(e),Tl(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new di(t._repo,t._path,e,t._orderByCalled)}}class TD extends _s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Fo("startAt",this._value,t._path,!0);const e=b_(t._queryParams,this._value,this._key);if(Cd(e),Tl(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new di(t._repo,t._path,e,t._orderByCalled)}}class l0 extends _s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Fo("startAfter",this._value,t._path,!1);const e=function zC(n,t,e){let i;if(n.index_===ds)"string"==typeof t&&(t=y_(t)),i=b_(n,t,e);else{let a;a=null==e?us:y_(e),i=b_(n,t,a)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(Cd(e),Tl(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new di(t._repo,t._path,e,t._orderByCalled)}}class AD extends _s{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new di(t._repo,t._path,function dp(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class d0 extends _s{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new di(t._repo,t._path,function Pw(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Yp extends _s{constructor(t){super(),this._path=t}_apply(t){Or(t,"orderByChild");const e=new Yt(this._path);if(At(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new up(e),a=hp(t._queryParams,i);return Tl(a),new di(t._repo,t._path,a,!0)}}class SD extends _s{_apply(t){Or(t,"orderByKey");const e=hp(t._queryParams,ds);return Tl(e),new di(t._repo,t._path,e,!0)}}class p0 extends _s{_apply(t){Or(t,"orderByPriority");const e=hp(t._queryParams,on);return Tl(e),new di(t._repo,t._path,e,!0)}}class RD extends _s{_apply(t){Or(t,"orderByValue");const e=hp(t._queryParams,__);return Tl(e),new di(t._repo,t._path,e,!0)}}class tT extends _s{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Fo("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new DD(this._value,this._key)._apply(new TD(this._value,this._key)._apply(t))}}function Qs(n,...t){let e=(0,N.m9)(n);for(const i of t)e=i._apply(e);return e}(function zh(n){(0,N.hu)(!Ap,"__referenceConstructor has already been defined"),Ap=n})(ms),function AE(n){(0,N.hu)(!Mp,"__referenceConstructor has already been defined"),Mp=n}(ms);const py={};function ND(n,t,e,i,a){let c=i||n.options.databaseURL;void 0===c&&(n.options.projectId||Zs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ur("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let b,A,g=Zp(c,a),v=g.repoInfo;typeof process<"u"&&process.env&&(A=process.env.FIREBASE_DATABASE_EMULATOR_HOST),A?(b=!0,c=`http://${A}?ns=${v.namespace}`,g=Zp(c,a),v=g.repoInfo):b=!g.repoInfo.secure;const F=a&&b?new Fu(Fu.OWNER):new Bm(n.name,n.options,t);ey("Invalid Firebase Database URL",g),At(g.path)||Zs("Database URL must point to the root of a Firebase Database (not including a child path).");const k=function iT(n,t,e,i){let a=py[t.name];a||(a={},py[t.name]=a);let c=a[n.toURLString()];return c&&Zs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new cD(n,false,e,i),a[n.toURLString()]=c,c}(v,n,F,new uw(n.name,e));return new Qp(k,n)}class Qp{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function dD(n,t,e){if(n.stats_=np(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new fp(n.repoInfo_,(i,a,c,g)=>{fD(n,i,a,c,g)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>pD(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Mi(n.repoInfo_,t,(i,a,c,g)=>{fD(n,i,a,c,g)},i=>{pD(n,i)},i=>{!function zI(n,t){qn(t,(e,i)=>{GE(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function dw(n,t){const e=n.toString();return Km[e]||(Km[e]=t()),Km[e]}(n.repoInfo_,()=>new kw(n.stats_,n.server_)),n.infoData_=new YC,n.infoSyncTree_=new U_({startListening:(i,a,c,g)=>{let v=[];const b=n.infoData_.getNode(i._path);return b.isEmpty()||(v=Hu(n.infoSyncTree_,i._path,b),setTimeout(()=>{g("ok")},0)),v},stopListening:()=>{}}),GE(n,"connected",!1),n.serverSyncTree_=new U_({startListening:(i,a,c,g)=>(n.server_.listen(i,c,a,(v,b)=>{const A=g(v,b);xi(n.eventQueue_,i._path,A)}),[]),stopListening:(i,a)=>{n.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ms(this._repo,Bt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function rT(n,t){const e=py[t];(!e||e[n.key]!==n)&&Zs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),$p(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Zs("Cannot call "+t+" on a deleted database.")}}function m0(){id.IS_TRANSPORT_INITIALIZED&&cr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function kD(){m0(),Ia.forceDisallow()}function _0(){m0(),gl.forceDisallow(),Ia.forceAllow()}function FD(n,t){fC(n,t)}const yy={".sv":"timestamp"};class oT{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Mi.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Mi.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function _y(n){Pu(Nr.SDK_VERSION),(0,Nr._registerComponent)(new Ws.wA("database",(t,{instanceIdentifier:e})=>ND(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Nr.registerVersion)(Mu,"0.13.6",n),(0,Nr.registerVersion)(Mu,"0.13.6","esm2017")}();const BD=new Da.Yd("@firebase/database-compat"),v0=function(n){BD.warn("FIREBASE WARNING: "+n)};class b0{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(t,e,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const a=this._delegate.setWithPriority(t,e);return i&&a.then(()=>i(null),c=>i(c)),a}update(t,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,v0("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),a=>e(a)),i}}class jD{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ml{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),_d("DataSnapshot.child","path",t,!1),new Ml(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),_d("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Ml(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new Zr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class dr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,a){var c;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const g=dr.getCancelAndContextArgs_("Query.on",i,a),v=(A,F)=>{e.call(g.context,new Ml(this.database,A),F)};v.userCallback=e,v.context=g.context;const b=null===(c=g.cancel)||void 0===c?void 0:c.bind(g.context);switch(t){case"value":return hy(this._delegate,v,b),e;case"child_added":return wD(this._delegate,v,b),e;case"child_removed":return r0(this._delegate,v,b),e;case"child_changed":return t0(this._delegate,v,b),e;case"child_moved":return n0(this._delegate,v,b),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",i,!0),e){const a=()=>{};a.userCallback=e,a.context=i,s0(this._delegate,t,a)}else s0(this._delegate,t)}get(){return Sl(this._delegate).then(t=>new Ml(this.database,t))}once(t,e,i,a){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const c=dr.getCancelAndContextArgs_("Query.once",i,a),g=new N.BH,v=(A,F)=>{const k=new Ml(this.database,A);e&&e.call(c.context,k,F),g.resolve(k)};v.userCallback=e,v.context=c.context;const b=A=>{c.cancel&&c.cancel.call(c.context,A),g.reject(A)};switch(t){case"value":hy(this._delegate,v,b,{onlyOnce:!0});break;case"child_added":wD(this._delegate,v,b,{onlyOnce:!0});break;case"child_removed":r0(this._delegate,v,b,{onlyOnce:!0});break;case"child_changed":t0(this._delegate,v,b,{onlyOnce:!0});break;case"child_moved":n0(this._delegate,v,b,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new dr(this.database,Qs(this._delegate,function c0(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new AD(n)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new dr(this.database,Qs(this._delegate,function Kp(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new d0(n)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new dr(this.database,Qs(this._delegate,function h0(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return _d("orderByChild","path",n,!1),new Yp(n)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new dr(this.database,Qs(this._delegate,function f0(){return new SD}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new dr(this.database,Qs(this._delegate,function MD(){return new p0}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new dr(this.database,Qs(this._delegate,function eT(){return new RD}()))}startAt(t=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new dr(this.database,Qs(this._delegate,function fy(n=null,t){return md("startAt","key",t,!0),new TD(n,t)}(t,e)))}startAfter(t=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new dr(this.database,Qs(this._delegate,function u0(n,t){return md("startAfter","key",t,!0),new l0(n,t)}(t,e)))}endAt(t=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new dr(this.database,Qs(this._delegate,function o0(n,t){return md("endAt","key",t,!0),new DD(n,t)}(t,e)))}endBefore(t=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new dr(this.database,Qs(this._delegate,function a0(n,t){return md("endBefore","key",t,!0),new ID(n,t)}(t,e)))}equalTo(t,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new dr(this.database,Qs(this._delegate,function g0(n,t){return md("equalTo","key",t,!0),new tT(n,t)}(t,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof dr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const a={cancel:void 0,context:void 0};if(e&&i)a.cancel=e,(0,N.Wj)(t,"cancel",a.cancel,!0),a.context=i,(0,N.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Zr(this.database,new ms(this._delegate._repo,this._delegate._path))}}class Zr extends dr{constructor(t,e){super(t,new di(e._repo,e._path,new E_,!1)),this.database=t,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Zr(this.database,Al(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Zr(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new Zr(this.database,this._delegate.root)}set(t,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const i=cy(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}update(t,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,v0("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Pi("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const i=dy(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(t,e,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const a=function bD(n,t,e){if(Pi("setWithPriority",n._path),Fo("setWithPriority",t,n._path,!1),X_("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new N.BH;return WE(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&a.then(()=>i(null),c=>i(c)),a}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const e=function XE(n){return Pi("remove",n._path),cy(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const a=function aT(n,t,e){var i;if(n=(0,N.m9)(n),Pi("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(i=e?.applyLocally)||void 0===i||i,c=new N.BH,v=hy(n,()=>{});return function QI(n,t,e,i,a,c){vd(n,"transaction on "+t);const g={path:t,update:e,onComplete:i,status:null,order:Pm(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=YE(n,t,void 0);g.currentInputSnapshot=v;const b=g.update(v.val());if(void 0===b)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{Vp("transaction failed: Data returned ",b,g.path),g.status=0;const A=kp(n.transactionQueueTree_,t),F=$u(A)||[];let k;F.push(g),Dl(A,F),"object"==typeof b&&null!==b&&(0,N.r3)(b,".priority")?(k=(0,N.DV)(b,".priority"),(0,N.hu)(Up(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=(Rp(n.serverSyncTree_,t)||bt.EMPTY_NODE).getPriority().val();const z=yd(n),te=En(b,k),me=Qh(te,v,z);g.currentOutputSnapshotRaw=te,g.currentOutputSnapshotResolved=me,g.currentWriteId=iy(n);const je=V_(n.serverSyncTree_,t,me,g.currentWriteId,g.applyLocally);xi(n.eventQueue_,t,je),Gp(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(b,A,F)=>{let k=null;b?c.reject(b):(k=new Wu(F,new ms(n._repo,n._path),on),c.resolve(new oT(A,k)))},v,a),c.promise}(this._delegate,t,{applyLocally:i}).then(c=>new jD(c.committed,new Ml(this.database,c.snapshot)));return e&&a.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),a}setPriority(t,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const i=function e0(n,t){n=(0,N.m9)(n),Pi("setPriority",n._path),X_("setPriority",t,!1);const e=new N.BH;return WE(n._repo,Cn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}push(t,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const i=function JE(n,t){n=(0,N.m9)(n),Pi("push",n._path),Fo("push",t,n._path,!0);const e=hD(n._repo),i=Mw(e),a=Al(n,i),c=Al(n,i);let g;return g=null!=t?cy(c,t).then(()=>c):Promise.resolve(c),a.then=g.then.bind(g),a.catch=g.then.bind(g,void 0),a}(this._delegate,t),a=i.then(g=>new Zr(this.database,g));e&&a.then(()=>e(null),g=>e(g));const c=new Zr(this.database,i);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return Pi("Reference.onDisconnect",this._delegate._path),new b0(new zp(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Xp{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:kD,forceLongPolling:_0}}useEmulator(t,e,i={}){!function y0(n,t,e,i={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Zs("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let c;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Zs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Fu(Fu.OWNER);else if(i.mockUserToken){const g="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,n.app.options.projectId);c=new Fu(g)}!function nT(n,t,e,i){n.repoInfo_=new tp(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(a,t,e,c)}(this._delegate,t,e,i)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof Zr){const e=uy(this._delegate,t.toString());return new Zr(this,e)}{const e=qp(this._delegate,t);return new Zr(this,e)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=uy(this._delegate,t);return new Zr(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function gy(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),$p(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function my(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function KE(n){n.persistentConnection_&&n.persistentConnection_.resume(ry)}(n._repo)}(this._delegate)}}Xp.ServerValue={TIMESTAMP:function Jp(){return yy}(),increment:n=>function sT(n){return{".sv":{increment:n}}}(n)};var vy=Object.freeze({__proto__:null,initStandalone:function w0({app:n,url:t,version:e,customAuthImpl:i,namespace:a,nodeAdmin:c=!1}){Pu(e);const g=new Ws.zt("auth-internal",new Ws.H0("database-standalone"));return g.setComponent(new Ws.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Xp(ND(n,g,void 0,t,c),n),namespace:a}}});const HD=Xp.ServerValue;!function $D(n){n.INTERNAL.registerComponent(new Ws.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new Xp(a,i)},"PUBLIC").setServiceProps({Reference:Zr,Query:dr,Database:Xp,DataSnapshot:Ml,enableLogging:FD,INTERNAL:vy,ServerValue:HD}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.6")}(Si.Z);var Cy=O(5363),lT=O(6063);class GD extends Gt.x{constructor(t=1/0,e=1/0,i=lT.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:g}=this;e||(i.push(t),!a&&i.push(c.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:a}=this,c=a.slice();for(let g=0;g<c.length&&!t.closed;g+=i?1:2)t.next(c[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:a}=this,c=(a?1:2)*t;if(t<1/0&&c<i.length&&i.splice(0,i.length-c),!a){const g=e.now();let v=0;for(let b=1;b<i.length&&i[b]<=g;b+=2)v=b;v&&i.splice(0,v+1)}}}function D0(n,t,e){let i,a=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):i=n??1/0,(0,cC.B)({connector:()=>new GD(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function I0(n,t){return(0,Eo.m)(t)?vn(()=>n,t):vn(()=>n)}var T0=O(9468);O(5867);const C=new Map,E={activated:!1,tokenObservers:[]},I={initialized:!1,enabled:!1};function S(n){return C.get(n)||E}function P(n,t){C.set(n,t)}function G(){return I}class Te{constructor(t,e,i,a,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,xr.Z)(function*(){e.stop();try{e.pending=new N.BH,yield function st(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new N.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const St=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function eg(n){if(!S(n).activated)throw St.create("use-before-activation",{appName:n.name})}function ef(n,t){return tf.apply(this,arguments)}function tf(){return(tf=(0,xr.Z)(function*({url:n,body:t},e){var i,a;const c={"Content-Type":"application/json"},g=e.getImmediate({optional:!0});if(g){const te=yield g.getHeartbeatsHeader();te&&(c["X-Firebase-Client"]=te)}const v={method:"POST",body:JSON.stringify(t),headers:c};let b,A;try{b=yield fetch(n,v)}catch(te){throw St.create("fetch-network-error",{originalErrorMessage:null===(i=te)||void 0===i?void 0:i.message})}if(200!==b.status)throw St.create("fetch-status-error",{httpStatus:b.status});try{A=yield b.json()}catch(te){throw St.create("fetch-parse-error",{originalErrorMessage:null===(a=te)||void 0===a?void 0:a.message})}const F=A.ttl.match(/^([\d.]+)(s)$/);if(!F||!F[2]||isNaN(Number(F[1])))throw St.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${A.ttl}`});const k=1e3*Number(F[1]),z=Date.now();return{token:A.token,expireTimeMillis:z+k,issuedAtTimeMillis:z}})).apply(this,arguments)}function Dy(n,t){const{projectId:e,appId:i,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const Ty="firebase-app-check-store";let S0=null;function fT(){return S0||(S0=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=a=>{n(a.target.result)},i.onerror=a=>{var c;t(St.create("storage-open",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))},i.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(Ty,{keyPath:"compositeKey"})}}catch(i){t(St.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),S0)}function zD(){return(zD=(0,xr.Z)(function*(n,t){const i=(yield fT()).transaction(Ty,"readwrite"),c=i.objectStore(Ty).put({compositeKey:n,value:t});return new Promise((g,v)=>{c.onsuccess=b=>{g()},i.onerror=b=>{var A;v(St.create("storage-set",{originalErrorMessage:null===(A=b.target.error)||void 0===A?void 0:A.message}))}})})).apply(this,arguments)}const Ay=new Da.Yd("@firebase/app-check");function _T(n,t){return(0,N.hl)()?function tS(n,t){return function pT(n,t){return zD.apply(this,arguments)}(function mT(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Ay.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function yT(){return G().enabled}function vT(){return QD.apply(this,arguments)}function QD(){return(QD=(0,xr.Z)(function*(){const n=G();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const aS={error:"UNKNOWN_ERROR"};function lS(n){return N.US.encodeString(JSON.stringify(n),!1)}function M0(n){return JD.apply(this,arguments)}function JD(){return(JD=(0,xr.Z)(function*(n,t=!1){const e=n.app;eg(e);const i=S(e);let c,a=i.token;if(!a){const b=yield i.cachedTokenPromise;b&&R0(b)&&(a=b)}if(!t&&a&&R0(a))return{token:a.token};let v,g=!1;if(yT()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ef(Dy(e,yield vT()),n.heartbeatServiceProvider).then(A=>(i.exchangeTokenPromise=void 0,A)),g=!0);const b=yield i.exchangeTokenPromise;return yield _T(e,b),P(e,Object.assign(Object.assign({},i),{token:b})),{token:b.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(b=>(i.exchangeTokenPromise=void 0,b)),g=!0),a=yield i.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Ay.warn(b.message):Ay.error(b),c=b}return a?(v={token:a.token},P(e,Object.assign(Object.assign({},i),{token:a})),yield _T(e,a)):v=cS(c),g&&ET(e,v),v})).apply(this,arguments)}function eI(n,t){const e=S(n),i=e.tokenObservers.filter(a=>a.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),P(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function CT(n){const{app:t}=n,e=S(t);let i=e.tokenRefresher;i||(i=function uS(n){const{app:t}=n;return new Te((0,xr.Z)(function*(){let i;if(i=S(t).token?yield M0(n,!0):yield M0(n),i.error)throw i.error}),()=>!0,()=>{const e=S(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),P(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function ET(n,t){const e=S(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function R0(n){return n.expireTimeMillis-Date.now()>0}function cS(n){return{token:lS(aS),error:n}}class dS{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=S(this.app);for(const e of t)eI(this.app,e.next);return Promise.resolve()}}const MT="app-check-internal";!function IS(){(0,Nr._registerComponent)(new Ws.wA("app-check",n=>function hS(n,t){return new dS(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(MT).initialize()})),(0,Nr._registerComponent)(new Ws.wA(MT,n=>function fS(n){return{getToken:t=>M0(n,t),addTokenListener:t=>function XD(n,t,e,i){const{app:a}=n,c=S(a),g={next:e,error:i,type:t};if(P(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,g]})),c.token&&R0(c.token)){const v=c.token;Promise.resolve().then(()=>{e({token:v.token}),CT(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>CT(n))}(n,"INTERNAL",t),removeTokenListener:t=>eI(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Nr.registerVersion)("@firebase/app-check","0.5.12")}();class x0{constructor(){return(0,Ut.vb)("app-check")}}typeof window<"u"&&window;var PT=O(127);const xT=new u.OlP("angularfire2.auth.use-emulator"),NT=new u.OlP("angularfire2.auth.settings"),OT=new u.OlP("angularfire2.auth.tenant-id"),kT=new u.OlP("angularfire2.auth.langugage-code"),FT=new u.OlP("angularfire2.auth.use-device-language"),LT=new u.OlP("angularfire.auth.persistence"),UT=(n,t,e,i,a,c,g,v)=>(0,Gn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),i&&(b.tenantId=i),b.languageCode=a,c&&b.useDeviceLanguage(),g)for(const[A,F]of Object.entries(g))b.settings[A]=F;return v&&b.setPersistence(v),b},[e,i,a,c,g,v]);let VT=(()=>{class n{constructor(e,i,a,c,g,v,b,A,F,k,z,te){const me=new Gt.x,je=Be(void 0).pipe((0,Cy.Q)(g.outsideAngular),vn(()=>c.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2274)))),(0,Je.U)(()=>(0,Gn.on)(e,c,i)),(0,Je.U)(qe=>UT(qe,c,v,A,F,k,b,z)),D0({bufferSize:1,refCount:!1}));if(function Dr(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Be(null);else{je.pipe(Wt()).subscribe();const mt=je.pipe(vn(Dt=>Dt.getRedirectResult().then(vr=>vr,()=>null)),Ut.iC,D0({bufferSize:1,refCount:!1})),Rt=je.pipe(vn(Dt=>new Hn.y(vr=>({unsubscribe:c.runOutsideAngular(()=>Dt.onAuthStateChanged(ys=>vr.next(ys),ys=>vr.error(ys),()=>vr.complete()))})))),jt=je.pipe(vn(Dt=>new Hn.y(vr=>({unsubscribe:c.runOutsideAngular(()=>Dt.onIdTokenChanged(ys=>vr.next(ys),ys=>vr.error(ys),()=>vr.complete()))}))));this.authState=mt.pipe(I0(Rt),(0,T0.R)(g.outsideAngular),(0,Cy.Q)(g.insideAngular)),this.user=mt.pipe(I0(jt),(0,T0.R)(g.outsideAngular),(0,Cy.Q)(g.insideAngular)),this.idToken=this.user.pipe(vn(Dt=>Dt?(0,qt.D)(Dt.getIdToken()):Be(null))),this.idTokenResult=this.user.pipe(vn(Dt=>Dt?(0,qt.D)(Dt.getIdTokenResult()):Be(null))),this.credential=(0,Su.T)(mt,me,this.authState.pipe(bi(Dt=>!Dt))).pipe((0,Je.U)(Dt=>Dt?.user?Dt:null),(0,T0.R)(g.outsideAngular),(0,Cy.Q)(g.insideAngular))}return(0,Gn.pX)(this,je,c,{spy:{apply:(qe,mt,Rt)=>{(qe.startsWith("signIn")||qe.startsWith("createUser"))&&Rt.then(jt=>me.next(jt))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Gn.Dh),u.LFG(Gn.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ut.HU),u.LFG(xT,8),u.LFG(NT,8),u.LFG(OT,8),u.LFG(kT,8),u.LFG(FT,8),u.LFG(LT,8),u.LFG(x0,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function BT(n){return null==n}function jT(n){return"function"==typeof n.set}function HT(n,t){return jT(t)?t:n.ref(t)}function $T(n,t){if(function PS(n){return"string"==typeof n}(n))return t.stringCase();if(jT(n))return t.firebaseCase();if(function xS(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Sy(n,t,e="on",i=iw.z){return new Hn.y(a=>{let c=null;return c=n[e](t,(g,v)=>{i.schedule(()=>{a.next({snapshot:g,prevKey:v})}),"once"===e&&i.schedule(()=>a.complete())},g=>{i.schedule(()=>a.error(g))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,Je.U)(a=>{const{snapshot:c,prevKey:g}=a;let v=null;return c.exists()&&(v=c.key),{type:t,payload:c,prevKey:g,key:v}}),(0,cC.B)())}function GT(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function kS(n,t){const{payload:e,prevKey:i,key:a}=t,c=GT(n,a),g=function OS(n,t){if(BT(t))return 0;{const e=GT(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let v=null;t.payload.forEach(b=>{const A={payload:b,type:"value",prevKey:v,key:b.key};return v=b.key,n=[...n,A],!1})}return n;case"child_added":if(c>-1){const v=n[c-1];(v&&v.key||null)!==i&&(n=n.filter(b=>b.payload.key!==e.key)).splice(g,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(g,0,t)}return n;case"child_removed":return n.filter(v=>v.payload.key!==e.key);case"child_changed":return n.map(v=>v.payload.key===a?t:v);case"child_moved":if(c>-1){const v=n.splice(c,1)[0];return(n=n.slice()).splice(g,0,v),n}return n;default:return n}}function WT(n){return(BT(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function ZT(n,t,e){return function NS(n,t,e){return Sy(n,"value","once",e).pipe(vn(i=>{const a=[Be(i)];return t.forEach(c=>a.push(Sy(n,c,"on",e))),(0,Su.T)(...a).pipe($n(kS,[]))}),function sw(n,t=Ar.y){return n=n??Sm,(0,it.e)((e,i)=>{let a,c=!0;e.subscribe((0,Kt.x)(i,g=>{const v=t(g);(c||!n(a,v))&&(c=!1,a=v,i.next(g))}))})}())}(n,t=WT(t),e)}function zT(n,t,e){const i=(t=WT(t)).map(a=>Sy(n,a,"on",e));return(0,Su.T)(...i)}function qT(n,t){return function(i,a){return $T(i,{stringCase:()=>n.child(i)[t](a),firebaseCase:()=>i[t](a),snapshotCase:()=>i.ref[t](a)})}}function VS(n){return function(e){return e?$T(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function KT(n,t){return function(){return Sy(n,"value","on",t)}}const HS=new u.OlP("angularfire2.realtimeDatabaseURL"),$S=new u.OlP("angularfire2.database.use-emulator");let YT=(()=>{class n{constructor(e,i,a,c,g,v,b,A,F,k,z,te,me,je,qe){this.schedulers=v;const mt=b,Rt=(0,Gn.on)(e,g,i);A&&UT(Rt,g,F,z,te,me,k,je),this.database=(0,Gn.cc)(`${Rt.name}.database.${a}`,"AngularFireDatabase",Rt.name,()=>{const jt=g.runOutsideAngular(()=>Rt.database(a||void 0));return mt&&jt.useEmulator(...mt),jt},[mt])}list(e,i){const a=this.schedulers.ngZone.runOutsideAngular(()=>HT(this.database,e));let c=a;return i&&(c=i(a)),function BS(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:qT(i,"update"),set:qT(i,"set"),push:a=>i.push(a),remove:VS(i),snapshotChanges:a=>ZT(n,a,e).pipe(Ut.iC),stateChanges:a=>zT(n,a,e).pipe(Ut.iC),auditTrail:a=>function FS(n,t,e){return function US(n,t,e){return function LS(n,t){return Sy(n,"value","on",t).pipe((0,Je.U)(e=>{let i;return e.payload.forEach(a=>(i=a.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function xo(...n){const t=(0,Br.jO)(n);return(0,it.e)((e,i)=>{const a=n.length,c=new Array(a);let g=n.map(()=>!1),v=!1;for(let b=0;b<a;b++)(0,ri.Xf)(n[b]).subscribe((0,Kt.x)(i,A=>{c[b]=A,!v&&!g[b]&&(g[b]=!0,(v=g.every(Ar.y))&&(g=null))},ow.Z));e.subscribe((0,Kt.x)(i,b=>{if(v){const A=[b,...c];i.next(t?t(...A):A)}}))})}(t),(0,Je.U)(([a,c])=>{const g=a.lastKeyToLoad,v=c.map(b=>b.key);return{actions:c,lastKeyToLoad:g,loadedKeys:v}}),function Ah(n){return(0,it.e)((t,e)=>{let i=!1,a=0;t.subscribe((0,Kt.x)(e,c=>(i||(i=!n(c,a++)))&&e.next(c)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Je.U)(a=>a.actions))}(n,zT(n,t).pipe($n((a,c)=>[...a,c],[])),e)}(n,a,e).pipe(Ut.iC),valueChanges:(a,c)=>ZT(n,a,e).pipe((0,Je.U)(v=>v.map(b=>c&&c.idField?Object.assign(Object.assign({},b.payload.val()),{[c.idField]:b.key}):b.payload.val())),Ut.iC)}}(c,this)}object(e){return function jS(n,t){return{query:n,snapshotChanges:()=>KT(n,t.schedulers.outsideAngular)().pipe(Ut.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>KT(n,t.schedulers.outsideAngular)().pipe(Ut.iC,(0,Je.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>HT(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Gn.Dh),u.LFG(Gn.xv,8),u.LFG(HS,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ut.HU),u.LFG($S,8),u.LFG(VT,8),u.LFG(xT,8),u.LFG(NT,8),u.LFG(OT,8),u.LFG(kT,8),u.LFG(FT,8),u.LFG(LT,8),u.LFG(x0,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),GS=(()=>{class n{constructor(){PT.Z.registerVersion("angularfire",Ut.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[YT]}),n})();const QT="firebasestorage.googleapis.com",JT="storageBucket";class Yn extends N.ZR{constructor(t,e){super(sI(t),`Firebase Storage: ${e} (${sI(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yn.prototype)}_codeEquals(t){return sI(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function sI(n){return"storage/"+n}function oI(){return new Yn("unknown","An unknown error occurred, please check the error payload for server response.")}function XT(){return new Yn("canceled","User canceled the upload/download.")}function eA(){return new Yn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function tg(n){return new Yn("invalid-argument",n)}function tA(){return new Yn("app-deleted","The Firebase app was deleted.")}function nA(n){return new Yn("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function My(n,t){return new Yn("invalid-format","String does not match format '"+n+"': "+t)}function Ry(n){throw new Yn("internal-error","Internal error: "+n)}class hi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=hi.makeFromUrl(t,e)}catch{return new hi(t,"")}if(""===i.path)return i;throw function tM(n){return new Yn("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const a="([A-Za-z0-9.\\-_]+)",v=new RegExp("^gs://"+a+"(/(.*))?$","i");function A(Dt){Dt.path_=decodeURIComponent(Dt.path)}const k=e.replace(/[.]/g,"\\."),jt=[{regex:v,indices:{bucket:1,path:3},postModify:function c(Dt){"/"===Dt.path.charAt(Dt.path.length-1)&&(Dt.path_=Dt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${k}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:A},{regex:new RegExp(`^https?://${e===QT?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:A}];for(let Dt=0;Dt<jt.length;Dt++){const vr=jt[Dt],ys=vr.regex.exec(t);if(ys){let Ny=ys[vr.indices.path];Ny||(Ny=""),i=new hi(ys[vr.indices.bucket],Ny),vr.postModify(i);break}}if(null==i)throw function eM(n){return new Yn("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class sM{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function N0(n){return"string"==typeof n||n instanceof String}function rA(n){return aI()&&n instanceof Blob}function aI(){return typeof Blob<"u"}function lI(n,t,e,i){if(i<t)throw tg(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw tg(`Invalid value for '${n}'. Expected ${e} or less.`)}function Zu(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function iA(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Id=(()=>{return(n=Id||(Id={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Id;var n})();class dM{constructor(t,e,i,a,c,g,v,b,A,F,k){this.url_=t,this.method_=e,this.headers_=i,this.body_=a,this.successCodes_=c,this.additionalRetryCodes_=g,this.callback_=v,this.errorCallback_=b,this.timeout_=A,this.progressCallback_=F,this.connectionFactory_=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,te)=>{this.resolve_=z,this.reject_=te,this.start_()})}start_(){const e=(i,a)=>{const c=this.resolve_,g=this.reject_,v=a.connection;if(a.wasSuccessCode)try{const b=this.callback_(v,v.getResponse());!function lM(n){return void 0!==n}(b)?c():c(b)}catch(b){g(b)}else if(null!==v){const b=oI();b.serverResponse=v.getErrorText(),g(this.errorCallback_?this.errorCallback_(v,b):b)}else g(a.canceled?this.appDelete_?tA():XT():function XS(){return new Yn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new O0(!1,null,!0)):this.backoffId_=function oM(n,t,e){let i=1,a=null,c=null,g=!1,v=0;function b(){return 2===v}let A=!1;function F(...qe){A||(A=!0,t.apply(null,qe))}function k(qe){a=setTimeout(()=>{a=null,n(te,b())},qe)}function z(){c&&clearTimeout(c)}function te(qe,...mt){if(A)return void z();if(qe)return z(),void F.call(null,qe,...mt);if(b()||g)return z(),void F.call(null,qe,...mt);let jt;i<64&&(i*=2),1===v?(v=2,jt=0):jt=1e3*(i+Math.random()),k(jt)}let me=!1;function je(qe){me||(me=!0,z(),!A&&(null!==a?(qe||(v=2),clearTimeout(a),k(0)):qe||(v=1)))}return k(0),c=setTimeout(()=>{g=!0,je(!0)},e),je}((i,a)=>{if(a)return void i(!1,new O0(!1,null,!0));const c=this.connectionFactory_();this.pendingConnection_=c;const g=v=>{null!==this.progressCallback_&&this.progressCallback_(v.loaded,v.lengthComputable?v.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(g),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(g),this.pendingConnection_=null;const v=c.getErrorCode()===Id.NO_ERROR,b=c.getStatus();if(!v||this.isRetryStatusCode_(b)){const F=c.getErrorCode()===Id.ABORT;return void i(!1,new O0(!1,null,F))}const A=-1!==this.successCodes_.indexOf(b);i(!0,new O0(A,c))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function aM(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,a=-1!==[408,429].indexOf(t),c=-1!==this.additionalRetryCodes_.indexOf(t);return e||a||c}}class O0{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function yM(...n){const t=function _M(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(aI())return new Blob(n);throw new Yn("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Js={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class uI{constructor(t,e){this.data=t,this.contentType=e||null}}function cI(n,t){switch(n){case Js.RAW:return new uI(sA(t));case Js.BASE64:case Js.BASE64URL:return new uI(oA(n,t));case Js.DATA_URL:return new uI(function bM(n){const t=new aA(n);return t.base64?oA(Js.BASE64,t.rest):function EM(n){let t;try{t=decodeURIComponent(n)}catch{throw My(Js.DATA_URL,"Malformed data URL.")}return sA(t)}(t.rest)}(t),function wM(n){return new aA(n).contentType}(t))}throw oI()}function sA(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function oA(n,t){switch(n){case Js.BASE64:{const a=-1!==t.indexOf("-"),c=-1!==t.indexOf("_");if(a||c)throw My(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Js.BASE64URL:{const a=-1!==t.indexOf("+"),c=-1!==t.indexOf("/");if(a||c)throw My(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function CM(n){return atob(n)}(t)}catch{throw My(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}class aA{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw My(Js.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function DM(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Rl{constructor(t,e){let i=0,a="";rA(t)?(this.data_=t,i=t.size,a=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,e){if(rA(this.data_)){const a=function vM(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===a?null:new Rl(a)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Rl(i,!0)}}static getBlob(...t){if(aI()){const e=t.map(i=>i instanceof Rl?i.data_:i);return new Rl(yM.apply(null,e))}{const e=t.map(g=>N0(g)?cI(Js.RAW,g).data:g.data_);let i=0;e.forEach(g=>{i+=g.byteLength});const a=new Uint8Array(i);let c=0;return e.forEach(g=>{for(let v=0;v<g.length;v++)a[c++]=g[v]}),new Rl(a,!0)}}uploadData(){return this.data_}}function dI(n){let t;try{t=JSON.parse(n)}catch{return null}return function cM(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function lA(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function AM(n,t){return t}class Oi{constructor(t,e,i,a){this.server=t,this.local=e||t,this.writable=!!i,this.xform=a||AM}}let k0=null;function Py(){if(k0)return k0;const n=[];n.push(new Oi("bucket")),n.push(new Oi("generation")),n.push(new Oi("metageneration")),n.push(new Oi("name","fullPath",!0));const e=new Oi("name");e.xform=function t(c,g){return function SM(n){return!N0(n)||n.length<2?n:lA(n)}(g)},n.push(e);const a=new Oi("size");return a.xform=function i(c,g){return void 0!==g?Number(g):g},n.push(a),n.push(new Oi("timeCreated")),n.push(new Oi("updated")),n.push(new Oi("md5Hash",null,!0)),n.push(new Oi("cacheControl",null,!0)),n.push(new Oi("contentDisposition",null,!0)),n.push(new Oi("contentEncoding",null,!0)),n.push(new Oi("contentLanguage",null,!0)),n.push(new Oi("contentType",null,!0)),n.push(new Oi("metadata","customMetadata",!0)),k0=n,k0}function uA(n,t,e){const i=dI(t);return null===i?null:function RM(n,t,e){const i={type:"file"},a=e.length;for(let c=0;c<a;c++){const g=e[c];i[g.local]=g.xform(i,t[g.server])}return function MM(n,t){Object.defineProperty(n,"ref",{get:function e(){const c=new hi(n.bucket,n.fullPath);return t._makeStorageReference(c)}})}(i,n),i}(n,i,e)}function hI(n,t){const e={},i=t.length;for(let a=0;a<i;a++){const c=t[a];c.writable&&(e[c.server]=n[c.local])}return JSON.stringify(e)}const cA="prefixes";class Pl{constructor(t,e,i,a){this.url=t,this.method=e,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function xl(n){if(!n)throw oI()}function F0(n,t){return function e(i,a){const c=uA(n,a,t);return xl(null!==c),c}}function ng(n){return function t(e,i){let a;return a=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function QS(){return new Yn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function YS(){return new Yn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function KS(n){return new Yn("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function JS(n){return new Yn("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,a.serverResponse=i.serverResponse,a}}function xy(n){const t=ng(n);return function e(i,a){let c=t(i,a);return 404===i.getStatus()&&(c=function qS(n){return new Yn("object-not-found","Object '"+n+"' does not exist.")}(n.path)),c.serverResponse=a.serverResponse,c}}function hA(n,t,e){const a=Zu(t.fullServerUrl(),n.host,n._protocol),g=n.maxOperationRetryTime,v=new Pl(a,"GET",F0(n,e),g);return v.errorHandler=xy(t),v}function FM(n,t,e,i,a){const c={};c.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(c.delimiter=e),i&&(c.pageToken=i),a&&(c.maxResults=a);const v=Zu(t.bucketOnlyServerUrl(),n.host,n._protocol),A=n.maxOperationRetryTime,F=new Pl(v,"GET",function OM(n,t){return function e(i,a){const c=function NM(n,t,e){const i=dI(e);return null===i?null:function xM(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[cA])for(const a of e[cA]){const c=a.replace(/\/$/,""),g=n._makeStorageReference(new hi(t,c));i.prefixes.push(g)}if(e.items)for(const a of e.items){const c=n._makeStorageReference(new hi(t,a.name));i.items.push(c)}return i}(n,t,i)}(n,t,a);return xl(null!==c),c}}(n,t.bucket),A);return F.urlParams=c,F.errorHandler=ng(t),F}function pA(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function BM(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class L0{constructor(t,e,i,a){this.current=t,this.total=e,this.finalized=!!i,this.metadata=a||null}}function fI(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{xl(!1)}return xl(!!e&&-1!==(t||["active"]).indexOf(e)),e}const GM={STATE_CHANGED:"state_changed"},ki={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pI(n){switch(n){case"running":case"pausing":case"canceling":return ki.RUNNING;case"paused":return ki.PAUSED;case"success":return ki.SUCCESS;case"canceled":return ki.CANCELED;default:return ki.ERROR}}class WM{constructor(t,e,i){if(function uM(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const c=t;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function rg(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class zM extends class ZM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Id.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Id.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Id.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,a){if(this.sent_)throw Ry("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==a)for(const c in a)a.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,a[c].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ry("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ry("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ry("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ry("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Na(){return new zM}class yA{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Py(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,c)=>{this._resolve=a,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function jM(n,t,e,i,a){const c=t.bucketOnlyServerUrl(),g=pA(t,i,a),v={name:g.fullPath},b=Zu(c,n.host,n._protocol),F={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":g.contentType,"Content-Type":"application/json; charset=utf-8"},k=hI(g,e),me=new Pl(b,"POST",function te(je){let qe;fI(je);try{qe=je.getResponseHeader("X-Goog-Upload-URL")}catch{xl(!1)}return xl(N0(qe)),qe},n.maxUploadRetryTime);return me.urlParams=v,me.headers=F,me.body=k,me.errorHandler=ng(t),me}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Na,t,e);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const a=function HM(n,t,e,i){const b=new Pl(e,"POST",function c(A){const F=fI(A,["active","final"]);let k=null;try{k=A.getResponseHeader("X-Goog-Upload-Size-Received")}catch{xl(!1)}k||xl(!1);const z=Number(k);return xl(!isNaN(z)),new L0(z,i.size(),"final"===F)},n.maxUploadRetryTime);return b.headers={"X-Goog-Upload-Command":"query"},b.errorHandler=ng(t),b}(this._ref.storage,this._ref._location,t,this._blob),c=this._ref.storage._makeRequest(a,Na,e,i);this._request=c,c.getPromise().then(g=>{this._request=void 0,this._updateProgress(g.current),this._needToFetchStatus=!1,g.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new L0(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,c)=>{let g;try{g=function $M(n,t,e,i,a,c,g,v){const b=new L0(0,0);if(g?(b.current=g.current,b.total=g.total):(b.current=0,b.total=i.size()),i.size()!==b.total)throw function rM(){return new Yn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const A=b.total-b.current;let F=A;a>0&&(F=Math.min(F,a));const k=b.current,me={"X-Goog-Upload-Command":F===A?"upload, finalize":"upload","X-Goog-Upload-Offset":`${b.current}`},je=i.slice(k,k+F);if(null===je)throw eA();const jt=new Pl(e,"POST",function qe(Dt,vr){const ys=fI(Dt,["active","final"]),yI=b.current+F,Ny=i.size();let vI;return vI="final"===ys?F0(t,c)(Dt,vr):null,new L0(yI,Ny,"final"===ys,vI)},t.maxUploadRetryTime);return jt.headers=me,jt.body=je.uploadData(),jt.progressCallback=v||null,jt.errorHandler=ng(n),jt}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(b){return this._error=b,void this._transition("error")}const v=this._ref.storage._makeRequest(g,Na,a,c);this._request=v,v.getPromise().then(b=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(b.current),b.finalized?(this._metadata=b.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=hA(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,Na,t,e);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function gA(n,t,e,i,a){const c=t.bucketOnlyServerUrl(),g={"X-Goog-Upload-Protocol":"multipart"},b=function v(){let jt="";for(let Dt=0;Dt<2;Dt++)jt+=Math.random().toString().slice(2);return jt}();g["Content-Type"]="multipart/related; boundary="+b;const A=pA(t,i,a),F=hI(A,e),te=Rl.getBlob("--"+b+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+F+"\r\n--"+b+"\r\nContent-Type: "+A.contentType+"\r\n\r\n",i,"\r\n--"+b+"--");if(null===te)throw eA();const me={name:A.fullPath},je=Zu(c,n.host,n._protocol),mt=n.maxUploadRetryTime,Rt=new Pl(je,"POST",F0(n,e),mt);return Rt.urlParams=me,Rt.headers=g,Rt.body=te.uploadData(),Rt.errorHandler=ng(t),Rt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Na,t,e);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=XT(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=pI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,a){const c=new WM(e||void 0,i||void 0,a||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(pI(this._state)){case ki.SUCCESS:rg(this._resolve.bind(null,this.snapshot))();break;case ki.CANCELED:case ki.ERROR:rg(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(pI(this._state)){case ki.RUNNING:case ki.PAUSED:t.next&&rg(t.next.bind(t,this.snapshot))();break;case ki.SUCCESS:t.complete&&rg(t.complete.bind(t))();break;default:t.error&&rg(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class nf{constructor(t,e){this._service=t,this._location=e instanceof hi?e:hi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new nf(t,e)}get root(){const t=new hi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lA(this._location.path)}get storage(){return this._service}get parent(){const t=function IM(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new hi(this._location.bucket,t);return new nf(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw nA(t)}}function CA(n,t,e){return gI.apply(this,arguments)}function gI(){return(gI=(0,xr.Z)(function*(n,t,e){const a=yield EA(n,{pageToken:e});t.prefixes.push(...a.prefixes),t.items.push(...a.items),null!=a.nextPageToken&&(yield CA(n,t,a.nextPageToken))})).apply(this,arguments)}function EA(n,t){null!=t&&"number"==typeof t.maxResults&&lI("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=FM(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Na)}function sR(n){n._throwIfRoot("getDownloadURL");const t=function LM(n,t,e){const a=Zu(t.fullServerUrl(),n.host,n._protocol),g=n.maxOperationRetryTime,v=new Pl(a,"GET",function kM(n,t){return function e(i,a){const c=uA(n,a,t);return xl(null!==c),function PM(n,t,e,i){const a=dI(t);if(null===a||!N0(a.downloadTokens))return null;const c=a.downloadTokens;if(0===c.length)return null;const g=encodeURIComponent;return c.split(",").map(A=>{const k=n.fullPath;return Zu("/b/"+g(n.bucket)+"/o/"+g(k),e,i)+iA({alt:"media",token:A})})[0]}(c,a,n.host,n._protocol)}}(n,e),g);return v.errorHandler=xy(t),v}(n.storage,n._location,Py());return n.storage.makeRequestWithTokens(t,Na).then(e=>{if(null===e)throw function iM(){return new Yn("no-download-url","The given file does not have any download URLs.")}();return e})}function bA(n,t){const e=function TM(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new hi(n._location.bucket,e);return new nf(n.storage,i)}function wA(n,t){if(n instanceof mI){const e=n;if(null==e._bucket)throw function nM(){return new Yn("no-default-bucket","No default bucket found. Did you set the '"+JT+"' property when initializing the app?")}();const i=new nf(e,e._bucket);return null!=t?wA(i,t):i}return void 0!==t?bA(n,t):n}function uR(n,t){if(t&&function aR(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof mI)return function lR(n,t){return new nf(n,t)}(n,t);throw tg("To use ref(service, url), the first argument must be a Storage instance.")}return wA(n,t)}function DA(n,t){const e=t?.[JT];return null==e?null:hi.makeFromBucketSpec(e,n)}class mI{constructor(t,e,i,a,c){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=a,this._firebaseVersion=c,this._bucket=null,this._host=QT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?hi.makeFromBucketSpec(a,this._host):DA(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?hi.makeFromBucketSpec(this._url,t):DA(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){lI("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){lI("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,xr.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,xr.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new nf(this,t)}_makeRequest(t,e,i,a){if(this._deleted)return new sM(tA());{const c=function mM(n,t,e,i,a,c){const g=iA(n.urlParams),v=n.url+g,b=Object.assign({},n.headers);return function pM(n,t){t&&(n["X-Firebase-GMPID"]=t)}(b,t),function hM(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(b,e),function fM(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(b,c),function gM(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(b,i),new dM(v,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a)}(t,this._appId,i,a,e,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(t,e){var i=this;return(0,xr.Z)(function*(){const[a,c]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,a,c).getPromise()})()}}const IA="@firebase/storage";function SA(n,t){return uR(n=(0,N.m9)(n),t)}function CR(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new mI(e,i,a,t,Nr.SDK_VERSION)}!function ER(){(0,Nr._registerComponent)(new Ws.wA("storage",CR,"PUBLIC").setMultipleInstances(!0)),(0,Nr.registerVersion)(IA,"0.9.9",""),(0,Nr.registerVersion)(IA,"0.9.9","esm2017")}();class U0{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class MA{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new U0(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new U0(i,this,this._ref))},e)}on(t,e,i,a){let c;return e&&(c="function"==typeof e?g=>e(new U0(g,this,this._ref)):{next:e.next?g=>e.next(new U0(g,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,c,i||void 0,a||void 0)}}class RA{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new zu(t,this._service))}get items(){return this._delegate.items.map(t=>new zu(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class zu{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function yR(n,t){return bA(n,t)}(this._delegate,t);return new zu(e,this.storage)}get root(){return new zu(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new zu(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new MA(function dR(n,t,e){return function eR(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new yA(n,new Rl(t),e)}(n=(0,N.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Js.RAW,i){this._throwIfRoot("putString");const a=cI(e,t),c=Object.assign({},i);return null==c.contentType&&null!=a.contentType&&(c.contentType=a.contentType),new MA(new yA(this._delegate,new Rl(a.data,!0),c),this)}listAll(){return function gR(n){return function nR(n){const t={prefixes:[],items:[]};return CA(n,t).then(()=>t)}(n=(0,N.m9)(n))}(this._delegate).then(t=>new RA(t,this.storage))}list(t){return function pR(n,t){return EA(n=(0,N.m9)(n),t)}(this._delegate,t||void 0).then(e=>new RA(e,this.storage))}getMetadata(){return function hR(n){return function rR(n){n._throwIfRoot("getMetadata");const t=hA(n.storage,n._location,Py());return n.storage.makeRequestWithTokens(t,Na)}(n=(0,N.m9)(n))}(this._delegate)}updateMetadata(t){return function fR(n,t){return function iR(n,t){n._throwIfRoot("updateMetadata");const e=function UM(n,t,e,i){const c=Zu(t.fullServerUrl(),n.host,n._protocol),v=hI(e,i),A=n.maxOperationRetryTime,F=new Pl(c,"PATCH",F0(n,i),A);return F.headers={"Content-Type":"application/json; charset=utf-8"},F.body=v,F.errorHandler=xy(t),F}(n.storage,n._location,t,Py());return n.storage.makeRequestWithTokens(e,Na)}(n=(0,N.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function mR(n){return sR(n=(0,N.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function _R(n){return function oR(n){n._throwIfRoot("deleteObject");const t=function VM(n,t){const i=Zu(t.fullServerUrl(),n.host,n._protocol),v=new Pl(i,"DELETE",function g(b,A){},n.maxOperationRetryTime);return v.successCodes=[200,204],v.errorHandler=xy(t),v}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Na)}(n=(0,N.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw nA(t)}}class PA{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(xA(t))throw tg("ref() expected a child path but got a URL, use refFromURL instead.");return new zu(SA(this._delegate,t),this)}refFromURL(t){if(!xA(t))throw tg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{hi.makeFromUrl(t,this._delegate.host)}catch{throw tg("refFromUrl() expected a valid full URL but got an invalid one.")}return new zu(SA(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function vR(n,t,e,i={}){!function cR(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken="string"==typeof a?a:(0,N.Sg)(a,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function xA(n){return/^[A-Za-z]+:\/\//.test(n)}function IR(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new PA(e,i)}function NA(n){const t=function AR(n){return new Hn.y(t=>{const e=g=>t.next(g);e(n.snapshot);const c=n.on("state_changed",e);return n.then(g=>{e(g),t.complete()},g=>{e(n.snapshot),(g=>{t.error(g)})(g)}),function(){c()}}).pipe(function WS(n,t=iw.z){return(0,it.e)((e,i)=>{let a=null,c=null,g=null;const v=()=>{if(a){a.unsubscribe(),a=null;const A=c;c=null,i.next(A)}};function b(){const A=g+n,F=t.now();if(F<A)return a=this.schedule(void 0,A-F),void i.add(a);v()}e.subscribe((0,Kt.x)(i,A=>{c=A,g=t.now(),a||(a=t.schedule(b,n),i.add(a))},()=>{v(),i.complete()},void 0,()=>{c=a=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Je.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function V0(n){return{getDownloadURL:()=>Be(void 0).pipe(Ut.fc,vn(()=>n.getDownloadURL()),Ut.iC),getMetadata:()=>Be(void 0).pipe(Ut.fc,vn(()=>n.getMetadata()),Ut.iC),delete:()=>(0,qt.D)(n.delete()),child:t=>V0(n.child(t)),updateMetadata:t=>(0,qt.D)(n.updateMetadata(t)),put:(t,e)=>NA(n.put(t,e)),putString:(t,e,i)=>NA(n.putString(t,e,i)),list:t=>(0,qt.D)(n.list(t)),listAll:()=>(0,qt.D)(n.listAll())}}!function TR(n){const t={TaskState:ki,TaskEvent:GM,StringFormat:Js,Storage:PA,Reference:zu};n.INTERNAL.registerComponent(new Ws.wA("storage-compat",IR,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(Si.Z);const SR=new u.OlP("angularfire2.storageBucket"),MR=new u.OlP("angularfire2.storage.maxUploadRetryTime"),RR=new u.OlP("angularfire2.storage.maxOperationRetryTime"),PR=new u.OlP("angularfire2.storage.use-emulator");let OA=(()=>{class n{constructor(e,i,a,c,g,v,b,A,F,k){const z=(0,Gn.on)(e,g,i);this.storage=(0,Gn.cc)(`${z.name}.storage.${a}`,"AngularFireStorage",z.name,()=>{const te=g.runOutsideAngular(()=>z.storage(a||void 0)),me=F;return me&&te.useEmulator(...me),b&&te.setMaxUploadRetryTime(b),A&&te.setMaxOperationRetryTime(A),te},[b,A])}ref(e){return V0(this.storage.ref(e))}refFromURL(e){return V0(this.storage.refFromURL(e))}upload(e,i,a){return V0(this.storage.ref(e)).put(i,a)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Gn.Dh),u.LFG(Gn.xv,8),u.LFG(SR,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ut.HU),u.LFG(MR,8),u.LFG(RR,8),u.LFG(PR,8),u.LFG(x0,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),xR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),NR=(()=>{class n{constructor(){PT.Z.registerVersion("angularfire",Ut.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[OA],imports:[xR]}),n})(),_I=(()=>{class n{constructor(e,i){this.db=e,this.storage=i,this.basePath="/upload",this.DbName="uploads",this.fileuploadList=new Hn.y}pushFileToStorage(e){const i=this.basePath+"/"+e.file.name,a=this.storage.ref(i),c=this.storage.upload(i,e.file);return c.snapshotChanges().pipe(Ns(()=>{a.getDownloadURL().subscribe(g=>{e.url=g,e.name=e.file.name,this.saveFileData(e)})})).subscribe(),c.percentageChanges()}saveFileData(e){this.db.list(this.DbName).push(e)}getListFiles(){return this.fileuploadList}getFiles(e){return this.db.list(this.DbName,i=>i.limitToLast(e))}deleteFile(e){this.deleteFileDatabase(e.key).then(()=>{this.deleteFileStorage(e.name)}).catch(i=>console.log(i))}deleteFileDatabase(e){return this.db.list(this.DbName).remove(e)}deleteFileStorage(e){this.storage.ref(this.basePath).child(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(YT),u.LFG(OA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OR=function(n){return{width:n}};function kR(n,t){if(1&n&&(u.TgZ(0,"div",6)(1,"div",7),u._uU(2),u.qZA()()),2&n){const e=u.oxw();u.xp6(1),u.Q6J("ngStyle",u.VKq(3,OR,e.Percentage+"%")),u.uIk("aria-valuenow",e.Percentage),u.xp6(1),u.hij(" ",e.Percentage,"% ")}}let FR=(()=>{class n{constructor(e){this.uploadService=e,this.Percentage=0}ngOnInit(){}selectFile(e){this.selectedFiles=e.target.files}upload(){if(this.selectedFiles){const e=this.selectedFiles.item(0);this.selectedFiles=void 0,e&&(this.currentFileUpload=new Au(e),this.uploadService.pushFileToStorage(this.currentFileUpload).subscribe(i=>{this.Percentage=Math.round(i||0)},i=>{console.log(i)}))}}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(_I))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-upload-form"]],decls:8,vars:2,consts:[[1,"row"],[1,"col-8"],["type","file",1,"text-nowrap","text-truncate",3,"change"],[1,"col-4"],[1,"btn","btn-success","btn-sm",3,"disabled","click"],["class","progress mt-2",4,"ngIf"],[1,"progress","mt-2"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info",3,"ngStyle"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"label")(3,"input",2),u.NdJ("change",function(c){return i.selectFile(c)}),u.qZA()()(),u.TgZ(4,"div",3)(5,"button",4),u.NdJ("click",function(){return i.upload()}),u._uU(6," Upload "),u.qZA()()(),u.YNc(7,kR,3,5,"div",5)),2&e&&(u.xp6(5),u.Q6J("disabled",!i.selectedFiles),u.xp6(2),u.Q6J("ngIf",i.currentFileUpload))},dependencies:[wn,Ad]}),n})(),LR=(()=>{class n{constructor(e){this.uploadService=e}ngOnInit(){}deleteFileUpload(e){this.uploadService.deleteFile(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(_I))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-upload-details"]],inputs:{fileUploads:"fileUploads"},decls:4,vars:2,consts:[[3,"href"],[1,"btn","btn-danger","btn-sm",2,"float","right",3,"click"]],template:function(e,i){1&e&&(u.TgZ(0,"a",0),u._uU(1),u.qZA(),u.TgZ(2,"button",1),u.NdJ("click",function(){return i.deleteFileUpload(i.fileUploads)}),u._uU(3," Delete\n"),u.qZA()),2&e&&(u.s9C("href",i.fileUploads.url,u.LSH),u.xp6(1),u.Oqu(i.fileUploads.name))}}),n})();function UR(n,t){if(1&n&&(u.TgZ(0,"ul",3)(1,"li",4),u._UZ(2,"app-upload-details",5),u.qZA()()),2&n){const e=t.$implicit;u.xp6(2),u.Q6J("fileUpload",e)}}let VR=(()=>{class n{constructor(e){this.uploadService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(_I))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-upload-list"]],decls:4,vars:1,consts:[[1,"card"],[1,"card-header"],["class","list-group list-group-flush",4,"ngFor","ngForOf"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[3,"fileUpload"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u._uU(2,"List of Files"),u.qZA(),u.YNc(3,UR,3,1,"ul",2),u.qZA()),2&e&&(u.xp6(3),u.Q6J("ngForOf",i.fileUploads))},dependencies:[Qr,LR]}),n})();function BR(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"button",38),u.NdJ("click",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.postProductDetails())}),u._uU(1,"Add"),u.qZA()}}function jR(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"button",38),u.NdJ("click",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.updateProductDetails())}),u._uU(1,"Update"),u.qZA()}}function HR(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td")(12,"button",39),u.NdJ("click",function(){const c=u.CHM(e).$implicit,g=u.oxw();return u.KtG(g.onEdit(c))}),u._uU(13,"Edit"),u.qZA(),u.TgZ(14,"button",40),u.NdJ("click",function(){const c=u.CHM(e).$implicit,g=u.oxw();return u.KtG(g.deleteEmployee(c))}),u._uU(15,"Delete"),u.qZA()()()}if(2&n){const e=t.$implicit;u.xp6(2),u.Oqu(e.id),u.xp6(2),u.Oqu(e.productName),u.xp6(2),u.Oqu(e.productPrice),u.xp6(2),u.Oqu(e.productType),u.xp6(2),u.Oqu(e.productQty)}}let $R=(()=>{class n{constructor(e,i,a){this.auth=e,this.formbuilder=i,this.api=a,this.productModelObj=new dv,this.user={localId:"defaultID",userName:"Admin"}}ngOnInit(){this.auth.canAccess(),this.auth.isAuthenticated()&&(this.auth.details().subscribe({next:e=>{this.user.localId=e.users[0].localId,this.user.userName=e.users[0].displayName}}),this.formvalue=this.formbuilder.group({productName:[""],productPrice:[""],productType:[""],productQty:[""]}),this.getEmployeeAll())}clickAddProduct(){this.formvalue.reset(),this.showAdd=!0,this.showUpdate=!1}postProductDetails(){this.productModelObj.productName=this.formvalue.value.productName,this.productModelObj.productPrice=this.formvalue.value.productPrice,this.productModelObj.productQty=this.formvalue.value.productQty,this.productModelObj.productType=this.formvalue.value.productType,this.api.postEmployee(this.productModelObj).subscribe({next:e=>{console.log(e),alert("Successfully Added..."),this.formvalue.reset(),this.getEmployeeAll()},error:e=>{console.log(e.error.error.errorMessage),alert("Something went wrong!!")}})}getEmployeeAll(){this.api.GetEmployee().subscribe(e=>{this.productDataObj=e})}deleteEmployee(e){this.api.deleteEmployee(e.id).subscribe(i=>{alert("Row Deleted successfully"),this.getEmployeeAll()})}onEdit(e){this.showAdd=!1,this.showUpdate=!0,this.productModelObj.id=e.id,this.formvalue.controls.productName.setValue(e.productName),this.formvalue.controls.productPrice.setValue(e.productPrice),this.formvalue.controls.productType.setValue(e.productType),this.formvalue.controls.productQty.setValue(e.productQty)}updateProductDetails(){this.productModelObj.productName=this.formvalue.value.productName,this.productModelObj.productPrice=this.formvalue.value.productPrice,this.productModelObj.productQty=this.formvalue.value.productQty,this.productModelObj.productType=this.formvalue.value.productType,this.api.UpdateEmployee(this.productModelObj,this.productModelObj.id).subscribe(e=>{alert("updated successfully"),this.getEmployeeAll(),this.formvalue.reset()})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(ch),u.Y36(Xb),u.Y36(ew))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dashboard"]],decls:77,vars:5,consts:[["role","main",1,"container","mt-5"],[1,"container"],[1,"text-center","mt-5"],[1,"text-bold",3,"innerText"],[1,"container-fluid"],[1,"d-flex"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-success",3,"click"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","txtProductName",1,"form-label"],["type","text","formControlName","productName","id","txtProductName","placeholder","Product Name",1,"form-control"],["for","txtproductPrice",1,"form-label"],["type","text","formControlName","productPrice","id","txtproductPrice","placeholder","Product Price",1,"form-control"],[1,"mb-4"],["for","txtproductType",1,"form-label"],["type","text","formControlName","productType","id","txtproductType","placeholder","Product Type",1,"form-control"],["for","txtproductQty",1,"form-label"],["type","text","formControlName","productQty","id","txtproductQty","placeholder","Product Qty",1,"form-control"],["for","txtuploadPath",1,"form-label"],["type","text","formControlName","imagePath","id","txtuploadPath","placeholder","",1,"form-control"],[1,"modal-footer"],["type","button","id","cancel","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","id","upload","data-bs-toggle","modal","data-bs-target","#uploadModal",1,"btn","btn-info"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["id","uploadModal","tabindex","-1","aria-labelledby","uploadModalLabel","aria-hidden","true",1,"modal","fade"],["id","uploadModalLabel",1,"modal-title"],[1,"my-3"],[1,"my-2"],["type","button",1,"btn","btn-primary",3,"click"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-info",2,"color","aliceblue",3,"click"],[1,"btn","btn-danger","mx-3",3,"click"]],template:function(e,i){1&e&&(u._UZ(0,"app-navbar")(1,"app-upload-dialog"),u.TgZ(2,"main",0)(3,"div",1)(4,"div",2)(5,"h3"),u._uU(6,"Dashboard Page"),u.qZA(),u._UZ(7,"p",3),u.qZA(),u.TgZ(8,"div",4)(9,"div",5)(10,"button",6),u.NdJ("click",function(){return i.clickAddProduct()}),u._uU(11,"Add Product"),u.qZA()(),u.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10)(16,"h5",11),u._uU(17,"Product Details"),u.qZA(),u._UZ(18,"button",12),u.qZA(),u.TgZ(19,"div",13)(20,"form",14)(21,"div",15)(22,"label",16),u._uU(23,"Product Name"),u.qZA(),u._UZ(24,"input",17),u.qZA(),u.TgZ(25,"div",15)(26,"label",18),u._uU(27,"Product Price"),u.qZA(),u._UZ(28,"input",19),u.qZA(),u.TgZ(29,"div",20)(30,"label",21),u._uU(31,"Product Type"),u.qZA(),u._UZ(32,"input",22),u.qZA(),u.TgZ(33,"div",20)(34,"label",23),u._uU(35,"Product Qty"),u.qZA(),u._UZ(36,"input",24),u.qZA(),u.TgZ(37,"div",20)(38,"label",25),u._uU(39,"Upload Image"),u.qZA(),u._UZ(40,"input",26),u.qZA()()(),u.TgZ(41,"div",27)(42,"button",28),u._uU(43,"Close"),u.qZA(),u.TgZ(44,"button",29),u._uU(45,"Upload"),u.qZA(),u.YNc(46,BR,2,0,"button",30),u.YNc(47,jR,2,0,"button",30),u.qZA()()()()(),u.TgZ(48,"table",31)(49,"thead")(50,"tr")(51,"th",32),u._uU(52,"Product ID"),u.qZA(),u.TgZ(53,"th",32),u._uU(54,"Product Name"),u.qZA(),u.TgZ(55,"th",32),u._uU(56,"Product Price"),u.qZA(),u.TgZ(57,"th",32),u._uU(58,"Product Type"),u.qZA(),u.TgZ(59,"th",32),u._uU(60,"Product Qty"),u.qZA(),u.TgZ(61,"th",32),u._uU(62,"Action Name"),u.qZA()()(),u.TgZ(63,"tbody"),u.YNc(64,HR,16,5,"tr",33),u.qZA()(),u.TgZ(65,"div",34)(66,"div",8)(67,"div",9)(68,"div",10)(69,"h5",35),u._uU(70,"Image Upload"),u.qZA(),u._UZ(71,"button",12),u.qZA(),u.TgZ(72,"div",13)(73,"div",36),u._UZ(74,"app-upload-form"),u.qZA(),u.TgZ(75,"div",37),u._UZ(76,"app-upload-list"),u.qZA()()()()()()()),2&e&&(u.xp6(7),u.Q6J("innerText","Hi "+i.user.userName+" user, Your FireBase tokenID is "+i.user.localId),u.xp6(13),u.Q6J("formGroup",i.formvalue),u.xp6(26),u.Q6J("ngIf",i.showAdd),u.xp6(1),u.Q6J("ngIf",i.showUpdate),u.xp6(17),u.Q6J("ngForOf",i.productDataObj))},dependencies:[Qr,wn,Qc,gu,Zc,as,Jc,vm,Tu,FR,VR]}),n})(),GR=(()=>{class n{constructor(e){this.http=e}GetAllProducts(){return this.http.get("https://lemellos-product-api.herokuapp.com/lemellows_product").pipe((0,Je.U)(e=>e))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ol))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WR=(()=>{class n{constructor(e){this.api=e}ngOnInit(){this.getAllProduct()}getAllProduct(){this.api.GetAllProducts().subscribe(e=>{this.lemellowsDataObj=e})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(GR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:178,vars:0,consts:[[1,"container"],[1,"text-center","mt-5"],[1,"row"],[1,"col-custom","col-lg-3","col-sm-6","col-12"],[1,"card","card-product-grid"],["href","#",1,"img-wrap"],["src","https://firebasestorage.googleapis.com/v0/b/lemellowauthentication.appspot.com/o/upload%2F71b4g%2BQ45LL._SL1500_.jpg?alt=media&token=e94a4ef9-1ec7-4c6c-ae1f-e4752a79ece1","width","300","height","300"],[1,"topbar"],[1,"badge","bg-success"],[1,"info-wrap","border-top"],["href","#",1,"float-end","btn","btn-light","btn-icon"],[1,"fa","fa-heart"],["href","#",1,"float-end","btn","btn-primary","btn-icon"],[1,"fa","fa-shopping-cart"],["href","#",1,"title","text-truncate"],[1,"text-muted"],[1,"price-wrap"],[1,"price"],["src","https://firebasestorage.googleapis.com/v0/b/lemellowauthentication.appspot.com/o/upload%2F1634258567-414O01rJlyL._SL500_.jpg?alt=media&token=d2899f3b-d4d0-40bf-8e47-83e274be3eeb","width","300","height","300"],["src","https://firebasestorage.googleapis.com/v0/b/lemellowauthentication.appspot.com/o/upload%2F71XgfHJTzoL._SY550_.jpg?alt=media&token=d2cd95c5-341a-4df0-9429-23f3ec4d85e2","width","300","height","300"],["src","https://firebasestorage.googleapis.com/v0/b/lemellowauthentication.appspot.com/o/upload%2Fbento-500x500.jpg?alt=media&token=adbe83fe-72d1-4cf1-9393-641a7ac28263","width","300","height","300"],["src","https://firebasestorage.googleapis.com/v0/b/lemellowauthentication.appspot.com/o/upload%2Feducational-toys-500x500.jpg?alt=media&token=26a178fd-cdeb-4df0-9b09-2a6f8e2c741f","width","300","height","300"]],template:function(e,i){1&e&&(u._UZ(0,"app-navbar"),u.TgZ(1,"div",0)(2,"div",1)(3,"h2")(4,"b"),u._uU(5,"Welcome to our Lemellows World!!"),u.qZA()()(),u.TgZ(6,"div",2)(7,"div",3)(8,"div",4)(9,"a",5),u._UZ(10,"img",6),u.TgZ(11,"span",7)(12,"span",8),u._uU(13," Offer "),u.qZA()()(),u.TgZ(14,"div",9)(15,"a",10),u._UZ(16,"i",11),u.qZA(),u.TgZ(17,"a",12),u._UZ(18,"i",13),u.qZA(),u.TgZ(19,"a",14),u._uU(20,"Modern T-shirt for men"),u.qZA(),u.TgZ(21,"small",15),u._uU(22,"Sizes: S, M, XL"),u.qZA(),u.TgZ(23,"div",16)(24,"strong",17),u._uU(25,"$75.50"),u.qZA()()()()(),u.TgZ(26,"div",3)(27,"div",4)(28,"a",5),u._UZ(29,"img",18),u.TgZ(30,"span",7)(31,"span",8),u._uU(32," Offer "),u.qZA()()(),u.TgZ(33,"div",9)(34,"a",10),u._UZ(35,"i",11),u.qZA(),u.TgZ(36,"a",12),u._UZ(37,"i",13),u.qZA(),u.TgZ(38,"a",14),u._uU(39,"Modern T-shirt for men"),u.qZA(),u.TgZ(40,"small",15),u._uU(41,"Sizes: S, M, XL"),u.qZA(),u.TgZ(42,"div",16)(43,"strong",17),u._uU(44,"$75.50"),u.qZA()()()()(),u.TgZ(45,"div",3)(46,"div",4)(47,"a",5),u._UZ(48,"img",19),u.TgZ(49,"span",7)(50,"span",8),u._uU(51," Offer "),u.qZA()()(),u.TgZ(52,"div",9)(53,"a",10),u._UZ(54,"i",11),u.qZA(),u.TgZ(55,"a",12),u._UZ(56,"i",13),u.qZA(),u.TgZ(57,"a",14),u._uU(58,"Modern T-shirt for men"),u.qZA(),u.TgZ(59,"small",15),u._uU(60,"Sizes: S, M, XL"),u.qZA(),u.TgZ(61,"div",16)(62,"strong",17),u._uU(63,"$75.50"),u.qZA()()()()(),u.TgZ(64,"div",3)(65,"div",4)(66,"a",5),u._UZ(67,"img",20),u.TgZ(68,"span",7)(69,"span",8),u._uU(70," Offer "),u.qZA()()(),u.TgZ(71,"div",9)(72,"a",10),u._UZ(73,"i",11),u.qZA(),u.TgZ(74,"a",12),u._UZ(75,"i",13),u.qZA(),u.TgZ(76,"a",14),u._uU(77,"Modern T-shirt for men"),u.qZA(),u.TgZ(78,"small",15),u._uU(79,"Sizes: S, M, XL"),u.qZA(),u.TgZ(80,"div",16)(81,"strong",17),u._uU(82,"$75.50"),u.qZA()()()()(),u.TgZ(83,"div",3)(84,"div",4)(85,"a",5),u._UZ(86,"img",21),u.TgZ(87,"span",7)(88,"span",8),u._uU(89," Offer "),u.qZA()()(),u.TgZ(90,"div",9)(91,"a",10),u._UZ(92,"i",11),u.qZA(),u.TgZ(93,"a",12),u._UZ(94,"i",13),u.qZA(),u.TgZ(95,"a",14),u._uU(96,"Modern T-shirt for men"),u.qZA(),u.TgZ(97,"small",15),u._uU(98,"Sizes: S, M, XL"),u.qZA(),u.TgZ(99,"div",16)(100,"strong",17),u._uU(101,"$75.50"),u.qZA()()()()(),u.TgZ(102,"div",3)(103,"div",4)(104,"a",5),u._UZ(105,"img",6),u.TgZ(106,"span",7)(107,"span",8),u._uU(108," Offer "),u.qZA()()(),u.TgZ(109,"div",9)(110,"a",10),u._UZ(111,"i",11),u.qZA(),u.TgZ(112,"a",12),u._UZ(113,"i",13),u.qZA(),u.TgZ(114,"a",14),u._uU(115,"Modern T-shirt for men"),u.qZA(),u.TgZ(116,"small",15),u._uU(117,"Sizes: S, M, XL"),u.qZA(),u.TgZ(118,"div",16)(119,"strong",17),u._uU(120,"$75.50"),u.qZA()()()()(),u.TgZ(121,"div",3)(122,"div",4)(123,"a",5),u._UZ(124,"img",20),u.TgZ(125,"span",7)(126,"span",8),u._uU(127," Offer "),u.qZA()()(),u.TgZ(128,"div",9)(129,"a",10),u._UZ(130,"i",11),u.qZA(),u.TgZ(131,"a",12),u._UZ(132,"i",13),u.qZA(),u.TgZ(133,"a",14),u._uU(134,"Modern T-shirt for men"),u.qZA(),u.TgZ(135,"small",15),u._uU(136,"Sizes: S, M, XL"),u.qZA(),u.TgZ(137,"div",16)(138,"strong",17),u._uU(139,"$75.50"),u.qZA()()()()(),u.TgZ(140,"div",3)(141,"div",4)(142,"a",5),u._UZ(143,"img",21),u.TgZ(144,"span",7)(145,"span",8),u._uU(146," Offer "),u.qZA()()(),u.TgZ(147,"div",9)(148,"a",10),u._UZ(149,"i",11),u.qZA(),u.TgZ(150,"a",12),u._UZ(151,"i",13),u.qZA(),u.TgZ(152,"a",14),u._uU(153,"Modern T-shirt for men"),u.qZA(),u.TgZ(154,"small",15),u._uU(155,"Sizes: S, M, XL"),u.qZA(),u.TgZ(156,"div",16)(157,"strong",17),u._uU(158,"$75.50"),u.qZA()()()()(),u.TgZ(159,"div",3)(160,"div",4)(161,"a",5),u._UZ(162,"img",6),u.TgZ(163,"span",7)(164,"span",8),u._uU(165," Offer "),u.qZA()()(),u.TgZ(166,"div",9)(167,"a",10),u._UZ(168,"i",11),u.qZA(),u.TgZ(169,"a",12),u._UZ(170,"i",13),u.qZA(),u.TgZ(171,"a",14),u._uU(172,"Modern T-shirt for men"),u.qZA(),u.TgZ(173,"small",15),u._uU(174,"Sizes: S, M, XL"),u.qZA(),u.TgZ(175,"div",16)(176,"strong",17),u._uU(177,"$75.50"),u.qZA()()()()()()())},dependencies:[Tu],styles:[".float-end[_ngcontent-%COMP%]{margin:4px}.col-custom[_ngcontent-%COMP%]{margin-bottom:10px}"]}),n})();function ZR(n,t){1&n&&(u.TgZ(0,"span",38),u._uU(1," Email address is required. "),u.qZA())}function zR(n,t){1&n&&(u.TgZ(0,"span",38),u._uU(1," Password is required. "),u.qZA())}function qR(n,t){1&n&&(u.TgZ(0,"span",38),u._uU(1," Minimum length of password is 8 characters "),u.qZA())}function KR(n,t){if(1&n&&(u.TgZ(0,"span",38),u._UZ(1,"p",39),u.qZA()),2&n){const e=u.oxw();u.xp6(1),u.Q6J("innerText",e.errorMessage)}}function YR(n,t){1&n&&(u.TgZ(0,"div",40)(1,"div",41)(2,"span",42),u._uU(3,"Loading..."),u.qZA()()())}function JR(n,t){1&n&&(u.TgZ(0,"span",35),u._uU(1," First Name is required. "),u.qZA())}function XR(n,t){1&n&&(u.TgZ(0,"span",35),u._uU(1," Email address is required. "),u.qZA())}function eP(n,t){1&n&&(u.TgZ(0,"span",35),u._uU(1," Password is required. "),u.qZA())}function tP(n,t){1&n&&(u.TgZ(0,"span",35),u._uU(1," Minimum length of password is 8 characters "),u.qZA())}function nP(n,t){if(1&n&&(u.TgZ(0,"span",35),u._UZ(1,"p",36),u.qZA()),2&n){const e=u.oxw();u.xp6(1),u.Q6J("innerText",e.errorMessage)}}function rP(n,t){1&n&&(u.TgZ(0,"div",37)(1,"div",38)(2,"span",39),u._uU(3,"Loading..."),u.qZA()()())}const iP=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(e){this.auth=e,this.formdata={name:"",email:"",password:""},this.submit=!1,this.errorMessage="",this.loading=!1,this.imageSrc="assets/img/logoLemmel.png"}ngOnInit(){this.auth.canAuthenticate()}onSubmit(){console.log(this.formdata),this.loading=!0,this.auth.login(this.formdata.email,this.formdata.password).subscribe({next:e=>{this.auth.storeToken(e.idToken),console.log("Login idToken is"+e.idToken),this.auth.canAuthenticate()},error:e=>{this.errorMessage="INVALID_EMAIL"==e.error.error.message||"INVALID_PASSWORD"==e.error.error.message?"Invalid the Credentials!":"Unknown error message occured while creating this account!!!"}}).add(()=>{this.loading=!1,console.log("Login Successfully")})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(ch))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:56,vars:9,consts:[[1,"vh-100"],[1,"container-fluid","h-custom"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-md-9","col-lg-6","col-xl-5"],["alt","Sample image",1,"img-fluid",3,"src"],[1,"col-md-8","col-lg-6","col-xl-4","offset-xl-1"],["action","","novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"d-flex","flex-row","align-items-center","justify-content-center","justify-content-lg-start"],[1,"lead","fw-normal","mb-0","me-3"],["type","button",1,"btn","btn-primary","btn-floating","mx-1"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"divider","d-flex","align-items-center","my-4"],[1,"text-center","fw-bold","mx-3","mb-0"],[1,"form-outline","mb-4"],["type","email","id","txtemail","placeholder","Enter a valid email address","name","email","required","",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["email","ngModel"],["class","text-danger",4,"ngIf"],[1,"form-outline","mb-3"],["type","password","id","txtpassword","placeholder","Enter password","name","password","required","","minlength","8",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["password","ngModel"],[1,"d-flex","justify-content-between","align-items-center"],[1,"form-check","mb-0"],["type","checkbox","value","","id","form2Example3",1,"form-check-input","me-2"],["for","form2Example3",1,"form-check-label"],["href","#!",1,"text-body"],["class","text-center",4,"ngIf"],[1,"text-center","text-lg-start","mt-4","pt-2"],[1,"btn","btn-primary","btn-lg",2,"padding-left","2.5rem","padding-right","2.5rem",3,"disabled","click"],[1,"small","fw-bold","mt-2","pt-1","mb-0"],["href","#!","routerLink","/signup",1,"link-danger"],[1,"d-flex","flex-column","flex-md-row","text-center","text-md-start","justify-content-between","py-4","px-4","px-xl-5","bg-primary"],[1,"text-white","mb-3","mb-md-0"],["href","#!",1,"text-white","me-4"],[1,"fab","fa-google"],["href","#!",1,"text-white"],[1,"fab","fa-linkedin-in"],[1,"text-danger"],[3,"innerText"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,i){if(1&e){const a=u.EpF();u._UZ(0,"app-navbar"),u.TgZ(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3),u._UZ(5,"img",4),u.qZA(),u.TgZ(6,"div",5)(7,"form",6,7),u.NdJ("ngSubmit",function(){u.CHM(a);const g=u.MAs(8);return u.KtG(g.form.valid&&i.onSubmit())}),u.TgZ(9,"div",8)(10,"p",9),u._uU(11,"Sign in with"),u.qZA(),u.TgZ(12,"button",10),u._UZ(13,"i",11),u.qZA(),u.TgZ(14,"button",10),u._UZ(15,"i",12),u.qZA()(),u.TgZ(16,"div",13)(17,"p",14),u._uU(18,"Or"),u.qZA()(),u.TgZ(19,"div",15)(20,"input",16,17),u.NdJ("ngModelChange",function(g){return i.formdata.email=g}),u.qZA(),u.YNc(22,ZR,2,0,"span",18),u.qZA(),u.TgZ(23,"div",19)(24,"input",20,21),u.NdJ("ngModelChange",function(g){return i.formdata.password=g}),u.qZA(),u.YNc(26,zR,2,0,"span",18),u.YNc(27,qR,2,0,"span",18),u.qZA(),u.TgZ(28,"div",22)(29,"div",23),u._UZ(30,"input",24),u.TgZ(31,"label",25),u._uU(32," Remember me "),u.qZA()(),u.TgZ(33,"a",26),u._uU(34,"Forgot password?"),u.qZA()(),u.YNc(35,KR,2,1,"span",18),u.YNc(36,YR,4,0,"div",27),u.TgZ(37,"div",28)(38,"button",29),u.NdJ("click",function(){return i.submit=!0}),u._uU(39,"Login"),u.qZA(),u.TgZ(40,"p",30),u._uU(41,"Don't have an account? "),u.TgZ(42,"a",31),u._uU(43,"Register"),u.qZA()()()()()()(),u.TgZ(44,"div",32)(45,"div",33),u._uU(46," Copyright \xa9 2020. All rights reserved. "),u.qZA(),u.TgZ(47,"div")(48,"a",34),u._UZ(49,"i",11),u.qZA(),u.TgZ(50,"a",34),u._UZ(51,"i",12),u.qZA(),u.TgZ(52,"a",34),u._UZ(53,"i",35),u.qZA(),u.TgZ(54,"a",36),u._UZ(55,"i",37),u.qZA()()()()}if(2&e){const a=u.MAs(21),c=u.MAs(25);u.xp6(5),u.s9C("src",i.imageSrc,u.LSH),u.xp6(15),u.Q6J("ngModel",i.formdata.email),u.xp6(2),u.Q6J("ngIf",i.submit&&(null==a.errors?null:a.errors.required)),u.xp6(2),u.Q6J("ngModel",i.formdata.password),u.xp6(2),u.Q6J("ngIf",i.submit&&(null==c.errors?null:c.errors.required)),u.xp6(1),u.Q6J("ngIf",i.submit&&(null==c.errors?null:c.errors.minlength)),u.xp6(8),u.Q6J("ngIf",i.errorMessage),u.xp6(1),u.Q6J("ngIf",i.loading),u.xp6(2),u.Q6J("disabled",i.loading)}},dependencies:[wn,Bc,Qc,gu,Zc,as,dl,Ih,Zf,Du,Tu],styles:['.divider[_ngcontent-%COMP%]:after, .divider[_ngcontent-%COMP%]:before{content:"";flex:1;height:1px;background:#eee}.h-custom[_ngcontent-%COMP%]{height:calc(100% - 73px)}.img-fluid[_ngcontent-%COMP%]{width:500px}@media (max-width: 450px){.h-custom[_ngcontent-%COMP%]{height:100%}}']}),n})()},{path:"signup",component:(()=>{class n{constructor(e){this.auth=e,this.formdata={name:"",email:"",password:""},this.submit=!1,this.errorMessage="",this.loading=!1,this.imageSrc="assets/img/logoLemmel.png"}ngOnInit(){this.auth.canAuthenticate()}onSubmit(){console.log(this.formdata),this.loading=!0,this.auth.register(this.formdata.name,this.formdata.email,this.formdata.password).subscribe({next:e=>{this.auth.storeToken(e.idToken),console.log("Registerd idToken is"+e.idToken),this.auth.canAuthenticate()},error:e=>{this.errorMessage="INVALID_EMAIL"==e.error.error.message?"Invalid Mail address":"EMAIL_EXISTS"==e.error.error.message?"Email already exists!!":"Unknown error message occured while creating this account!!!"}}).add(()=>{this.loading=!1,console.log("Registered process Completed!")})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(ch))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-signup"]],decls:52,vars:11,consts:[[1,"vh-100"],[1,"container-fluid","h-custom"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-md-9","col-lg-6","col-xl-5"],["alt","Sample image",1,"img-fluid",3,"src"],[1,"col-md-8","col-lg-6","col-xl-4","offset-xl-1"],["action","","novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"d-flex","flex-row","align-items-center","justify-content-center","justify-content-lg-start"],[1,"lead","fw-normal","mb-0","me-3"],["type","button",1,"btn","btn-primary","btn-floating","mx-1"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"divider","d-flex","align-items-center","my-4"],[1,"text-center","fw-bold","mx-3","mb-0"],[1,"form-outline","mb-3"],["id","txtFirstName","placeholder","Enter First Name","name","name","required","",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["name","ngModel"],["class","text-danger",4,"ngIf"],[1,"form-outline","mb-4"],["type","email","id","txtemail","placeholder","Enter a valid email address","name","email","required","",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["email","ngModel"],["type","password","id","txtpassword","placeholder","Enter password","name","password","required","","minlength","8",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["password","ngModel"],["class","text-center",4,"ngIf"],[1,"text-center","text-lg-start","mt-4","pt-2"],["type","submit","value","Register",1,"btn","btn-primary","btn-lg",3,"disabled","click"],[1,"small","fw-bold","mt-2","pt-1","mb-0"],["href","#!","routerLink","/login",1,"link-danger"],[1,"d-flex","flex-column","flex-md-row","text-center","text-md-start","justify-content-between","py-4","px-4","px-xl-5","bg-primary"],[1,"text-white","mb-3","mb-md-0"],["href","#!",1,"text-white","me-4"],[1,"fab","fa-google"],["href","#!",1,"text-white"],[1,"fab","fa-linkedin-in"],[1,"text-danger"],[3,"innerText"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(e,i){if(1&e){const a=u.EpF();u._UZ(0,"app-navbar"),u.TgZ(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3),u._UZ(5,"img",4),u.qZA(),u.TgZ(6,"div",5)(7,"form",6,7),u.NdJ("ngSubmit",function(){u.CHM(a);const g=u.MAs(8);return u.KtG(g.form.valid&&i.onSubmit())}),u.TgZ(9,"div",8)(10,"p",9),u._uU(11,"Sign up with"),u.qZA(),u.TgZ(12,"button",10),u._UZ(13,"i",11),u.qZA(),u.TgZ(14,"button",10),u._UZ(15,"i",12),u.qZA()(),u.TgZ(16,"div",13)(17,"p",14),u._uU(18,"Or"),u.qZA()(),u.TgZ(19,"div",15)(20,"input",16,17),u.NdJ("ngModelChange",function(g){return i.formdata.name=g}),u.qZA(),u.YNc(22,JR,2,0,"span",18),u.qZA(),u.TgZ(23,"div",19)(24,"input",20,21),u.NdJ("ngModelChange",function(g){return i.formdata.email=g}),u.qZA(),u.YNc(26,XR,2,0,"span",18),u.qZA(),u.TgZ(27,"div",15)(28,"input",22,23),u.NdJ("ngModelChange",function(g){return i.formdata.password=g}),u.qZA(),u.YNc(30,eP,2,0,"span",18),u.YNc(31,tP,2,0,"span",18),u.qZA(),u.YNc(32,nP,2,1,"span",18),u.YNc(33,rP,4,0,"div",24),u.TgZ(34,"div",25)(35,"input",26),u.NdJ("click",function(){return i.submit=!0}),u.qZA(),u.TgZ(36,"p",27),u._uU(37,"Don't have an account? "),u.TgZ(38,"a",28),u._uU(39,"Already Registered? Click to Login"),u.qZA()()()()()()(),u.TgZ(40,"div",29)(41,"div",30),u._uU(42," Copyright \xa9 2020. All rights reserved. "),u.qZA(),u.TgZ(43,"div")(44,"a",31),u._UZ(45,"i",11),u.qZA(),u.TgZ(46,"a",31),u._UZ(47,"i",12),u.qZA(),u.TgZ(48,"a",31),u._UZ(49,"i",32),u.qZA(),u.TgZ(50,"a",33),u._UZ(51,"i",34),u.qZA()()()()}if(2&e){const a=u.MAs(21),c=u.MAs(25),g=u.MAs(29);u.xp6(5),u.s9C("src",i.imageSrc,u.LSH),u.xp6(15),u.Q6J("ngModel",i.formdata.name),u.xp6(2),u.Q6J("ngIf",i.submit&&(null==a.errors?null:a.errors.required)),u.xp6(2),u.Q6J("ngModel",i.formdata.email),u.xp6(2),u.Q6J("ngIf",i.submit&&(null==c.errors?null:c.errors.required)),u.xp6(2),u.Q6J("ngModel",i.formdata.password),u.xp6(2),u.Q6J("ngIf",i.submit&&(null==g.errors?null:g.errors.required)),u.xp6(1),u.Q6J("ngIf",i.submit&&(null==g.errors?null:g.errors.minlength)),u.xp6(1),u.Q6J("ngIf",i.errorMessage),u.xp6(1),u.Q6J("ngIf",i.loading),u.xp6(2),u.Q6J("disabled",i.loading)}},dependencies:[wn,Bc,Qc,gu,Zc,as,dl,Ih,Zf,Du,Tu],styles:['.divider[_ngcontent-%COMP%]:after, .divider[_ngcontent-%COMP%]:before{content:"";flex:1;height:1px;background:#eee}.h-custom[_ngcontent-%COMP%]{height:calc(100% - 73px)}.img-fluid[_ngcontent-%COMP%]{width:500px}@media (max-width: 450px){.h-custom[_ngcontent-%COMP%]{height:100%}}']}),n})()},{path:"dashboard",component:$R},{path:"home",component:WR}];let sP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[av.forRoot(iP),av]}),n})(),oP=(()=>{class n{constructor(){this.title="angular-firebase-hosting"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&u._UZ(0,"router-outlet")},dependencies:[xc],styles:["section[_ngcontent-%COMP%]{display:table}.example-label[_ngcontent-%COMP%]{display:table-cell;font-size:14px;margin-left:8px;min-width:120px}.example-button-row[_ngcontent-%COMP%]{display:table-cell;width:490px}.example-button-row[_ngcontent-%COMP%]   .mat-button-base[_ngcontent-%COMP%]{margin:8px 8px 8px 0}.example-flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:120px}.container[_ngcontent-%COMP%]{width:600px;margin:20px auto}.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:xx-large}.container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:x-large}"]}),n})();const kA_firebase={apiKey:"AIzaSyDOt2qnfUHdg6VDHg55aYTsb9XlfR9CQAs",authDomain:"lemellowauthentication.firebaseapp.com",databaseURL:"https://testDB.firebaseio.com",projectId:"lemellowauthentication",storageBucket:"lemellowauthentication.appspot.com",messagingSenderId:"277001891658",appId:"1:277001891658:web:14e129ec967d9c11835bb3",measurementId:"G-B9GTXCMKS9"};let aP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[oP]}),n.\u0275inj=u.cJS({imports:[lo,un,sP,Qb,yt,aC,Gn.hO.initializeApp(kA_firebase),GS,NR]}),n})();(0,u.G48)(),Rd().bootstrapModule(aP).catch(n=>console.error(n))},5867:(Qe,be,O)=>{O.d(be,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=O(9681);(0,u.registerVersion)("firebase","9.9.4","app")},127:(Qe,be,O)=>{O.d(be,{Z:()=>u.Z});var u=O(3942);u.Z.registerVersion("firebase","9.9.4","app-compat")},2274:(Qe,be,O)=>{O.r(be);var u=O(5861),ee=O(3942),x=O(2090),oe=O(9681),ie=O(655),ue=O(1877),le=O(4859);const _e=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},We=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new ue.Yd("@firebase/auth");function Ke(m,...h){He.logLevel<=ue.in.ERROR&&He.error(`Auth (${oe.SDK_VERSION}): ${m}`,...h)}function De(m,...h){throw ke(m,...h)}function ge(m,...h){return ke(m,...h)}function ve(m,h,p){const y=Object.assign(Object.assign({},We()),{[h]:p});return new x.LL("auth","Firebase",y).create(h,{appName:m.name})}function Ne(m,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&De(m,"argument-error"),ve(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ke(m,...h){if("string"!=typeof m){const p=h[0],y=[...h.slice(1)];return y[0]&&(y[0].appName=m.name),m._errorFactory.create(p,...y)}return pe.create(m,...h)}function V(m,h,...p){if(!m)throw ke(h,...p)}function fe(m){const h="INTERNAL ASSERTION FAILED: "+m;throw Ke(h),new Error(h)}function K(m,h){m||fe(h)}const J=new Map;function se(m){K(m instanceof Function,"Expected a class definition");let h=J.get(m);return h?(K(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,J.set(m,h),h)}function Ae(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function tt(){return"http:"===Pt()||"https:"===Pt()}function Pt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Ht{constructor(h,p){this.shortDelay=h,this.longDelay=p,K(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function It(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(tt()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pn(m,h){K(m.emulator,"Emulator should always be set here");const{url:p}=m.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Nt{static initialize(h,p,y){this.fetchImpl=h,p&&(this.headersImpl=p),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ot={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Xn=new Ht(3e4,6e4);function _t(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function $t(m,h,p,y){return vs.apply(this,arguments)}function vs(){return(vs=(0,u.Z)(function*(m,h,p,y,T={}){return Cr(m,T,(0,u.Z)(function*(){let R={},Z={};y&&("GET"===h?Z=y:R={body:JSON.stringify(y)});const ae=(0,x.xO)(Object.assign({key:m.config.apiKey},Z)).slice(1),Re=yield m._getAdditionalHeaders();return Re["Content-Type"]="application/json",m.languageCode&&(Re["X-Firebase-Locale"]=m.languageCode),Nt.fetch()(fi(m,m.config.apiHost,p,ae),Object.assign({method:h,headers:Re,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Cr(m,h,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,u.Z)(function*(m,h,p){m._canInitEmulator=!1;const y=Object.assign(Object.assign({},Ot),h);try{const T=new Er(m),R=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const Z=yield R.json();if("needConfirmation"in Z)throw kr(m,"account-exists-with-different-credential",Z);if(R.ok&&!("errorMessage"in Z))return Z;{const ae=R.ok?Z.errorMessage:Z.error.message,[Re,$e]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw kr(m,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Re)throw kr(m,"email-already-in-use",Z);if("USER_DISABLED"===Re)throw kr(m,"user-disabled",Z);const ot=y[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if($e)throw ve(m,ot,$e);De(m,ot)}}catch(T){if(T instanceof x.ZR)throw T;De(m,"network-request-failed")}})).apply(this,arguments)}function er(m,h,p,y){return zr.apply(this,arguments)}function zr(){return(zr=(0,u.Z)(function*(m,h,p,y,T={}){const R=yield $t(m,h,p,y,T);return"mfaPendingCredential"in R&&De(m,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function fi(m,h,p,y){const T=`${h}${p}?${y}`;return m.config.emulator?pn(m.config,T):`${m.config.apiScheme}://${T}`}class Er{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,y)=>{this.timer=setTimeout(()=>y(ge(this.auth,"network-request-failed")),Xn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kr(m,h,p){const y={appName:m.name};p.email&&(y.email=p.email),p.phoneNumber&&(y.phoneNumber=p.phoneNumber);const T=ge(m,h,y);return T.customData._tokenResponse=p,T}function Qt(){return(Qt=(0,u.Z)(function*(m,h){return $t(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Fr(m,h){return gn.apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(m,h){return $t(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function qr(m,h){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,u.Z)(function*(m,h){return $t(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function dn(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Jt(){return(Jt=(0,u.Z)(function*(m,h=!1){const p=(0,x.m9)(m),y=yield p.getIdToken(h),T=Ve(y);V(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,Z=R?.sign_in_provider;return{claims:T,token:y,authTime:dn(Ze(T.auth_time)),issuedAtTime:dn(Ze(T.iat)),expirationTime:dn(Ze(T.exp)),signInProvider:Z||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Ze(m){return 1e3*Number(m)}function Ve(m){var h;const[p,y,T]=m.split(".");if(void 0===p||void 0===y||void 0===T)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,x.tV)(y);return R?JSON.parse(R):(Ke("Failed to decode base64 JWT payload"),null)}catch(R){return Ke("Caught error parsing JWT payload as JSON",null===(h=R)||void 0===h?void 0:h.toString()),null}}function Fn(m,h){return en.apply(this,arguments)}function en(){return(en=(0,u.Z)(function*(m,h,p=!1){if(p)return h;try{return yield h}catch(y){throw y instanceof x.ZR&&vt(y)&&m.auth.currentUser===m&&(yield m.auth.signOut()),y}})).apply(this,arguments)}function vt({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class bn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const y=this.getInterval(h);this.timerId=setTimeout((0,u.Z)(function*(){yield p.iteration()}),y)}iteration(){var h=this;return(0,u.Z)(function*(){var p;try{yield h.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===(null===(p=y)||void 0===p?void 0:p.code)&&h.schedule(!0))}h.schedule()})()}}class Li{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=dn(this.lastLoginAt),this.creationTime=dn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kt(m){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(m){var h;const p=m.auth,y=yield m.getIdToken(),T=yield Fn(m,qr(p,{idToken:y}));V(T?.users.length,p,"internal-error");const R=T.users[0];m._notifyReloadListener(R);const Z=null!==(h=R.providerUserInfo)&&void 0!==h&&h.length?U(R.providerUserInfo):[],ae=H(m.providerData,Z),ot=!!m.isAnonymous&&!(m.email&&R.passwordHash||ae?.length),et={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ae,metadata:new Li(R.createdAt,R.lastLoginAt),isAnonymous:ot};Object.assign(m,et)})).apply(this,arguments)}function q(){return(q=(0,u.Z)(function*(m){const h=(0,x.m9)(m);yield kt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function H(m,h){return[...m.filter(y=>!h.some(T=>T.providerId===y.providerId)),...h]}function U(m){return m.map(h=>{var{providerId:p}=h,y=(0,ie._T)(h,["providerId"]);return{providerId:p,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function W(){return(W=(0,u.Z)(function*(m,h){const p=yield Cr(m,{},(0,u.Z)(function*(){const y=(0,x.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:R}=m.config,Z=fi(m,T,"/v1/token",`key=${R}`),ae=yield m._getAdditionalHeaders();return ae["Content-Type"]="application/x-www-form-urlencoded",Nt.fetch()(Z,{method:"POST",headers:ae,body:y})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){V(h.idToken,"internal-error"),V(typeof h.idToken<"u","internal-error"),V(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Xs(m){const h=Ve(m);return V(h,"internal-error"),V(typeof h.exp<"u","internal-error"),V(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var y=this;return(0,u.Z)(function*(){return V(!y.accessToken||y.refreshToken,h,"user-token-expired"),p||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(h,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var y=this;return(0,u.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:Z}=yield function $(m,h){return W.apply(this,arguments)}(h,p);y.updateTokensAndExpiration(T,R,Number(Z))})()}updateTokensAndExpiration(h,p,y){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(h,p){const{refreshToken:y,accessToken:T,expirationTime:R}=p,Z=new Ee;return y&&(V("string"==typeof y,"internal-error",{appName:h}),Z.refreshToken=y),T&&(V("string"==typeof T,"internal-error",{appName:h}),Z.accessToken=T),R&&(V("number"==typeof R,"internal-error",{appName:h}),Z.expirationTime=R),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ee,this.toJSON())}_performRefresh(){return fe("not implemented")}}function xe(m,h){V("string"==typeof m||typeof m>"u","internal-error",{appName:h})}class Xe{constructor(h){var{uid:p,auth:y,stsTokenManager:T}=h,R=(0,ie._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=y,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Li(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,u.Z)(function*(){const y=yield Fn(p,p.stsTokenManager.getToken(p.auth,h));return V(y,p.auth,"internal-error"),p.accessToken!==y&&(p.accessToken=y,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),y})()}getIdTokenResult(h){return function Fi(m){return Jt.apply(this,arguments)}(this,h)}reload(){return function wt(m){return q.apply(this,arguments)}(this)}_assign(h){this!==h&&(V(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Xe(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var y=this;return(0,u.Z)(function*(){let T=!1;h.idToken&&h.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(h),T=!0),p&&(yield kt(y)),yield y.auth._persistUserIfCurrent(y),T&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var h=this;return(0,u.Z)(function*(){const p=yield h.getIdToken();return yield Fn(h,function rt(m,h){return Qt.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var y,T,R,Z,ae,Re,$e,ot;const et=null!==(y=p.displayName)&&void 0!==y?y:void 0,kn=null!==(T=p.email)&&void 0!==T?T:void 0,ui=null!==(R=p.phoneNumber)&&void 0!==R?R:void 0,Mo=null!==(Z=p.photoURL)&&void 0!==Z?Z:void 0,nl=null!==(ae=p.tenantId)&&void 0!==ae?ae:void 0,rl=null!==(Re=p._redirectEventId)&&void 0!==Re?Re:void 0,il=null!==($e=p.createdAt)&&void 0!==$e?$e:void 0,sh=null!==(ot=p.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:du,emailVerified:Mg,isAnonymous:Rg,providerData:hu,stsTokenManager:Pg}=p;V(du&&Pg,h,"internal-error");const oh=Ee.fromJSON(this.name,Pg);V("string"==typeof du,h,"internal-error"),xe(et,h.name),xe(kn,h.name),V("boolean"==typeof Mg,h,"internal-error"),V("boolean"==typeof Rg,h,"internal-error"),xe(ui,h.name),xe(Mo,h.name),xe(nl,h.name),xe(rl,h.name),xe(il,h.name),xe(sh,h.name);const Df=new Xe({uid:du,auth:h,email:kn,emailVerified:Mg,displayName:et,isAnonymous:Rg,photoURL:Mo,phoneNumber:ui,tenantId:nl,stsTokenManager:oh,createdAt:il,lastLoginAt:sh});return hu&&Array.isArray(hu)&&(Df.providerData=hu.map($y=>Object.assign({},$y))),rl&&(Df._redirectEventId=rl),Df}static _fromIdTokenResponse(h,p,y=!1){return(0,u.Z)(function*(){const T=new Ee;T.updateFromServerResponse(p);const R=new Xe({uid:p.localId,auth:h,stsTokenManager:T,isAnonymous:y});return yield kt(R),R})()}}const Ft=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(p,y){var T=this;return(0,u.Z)(function*(){T.storage[p]=y})()}_get(p){var y=this;return(0,u.Z)(function*(){const T=y.storage[p];return void 0===T?null:T})()}_remove(p){var y=this;return(0,u.Z)(function*(){delete y.storage[p]})()}_addListener(p,y){}_removeListener(p,y){}}return m.type="NONE",m})();function Mn(m,h,p){return`firebase:${m}:${h}:${p}`}class ze{constructor(h,p,y){this.persistence=h,this.auth=p,this.userKey=y;const{config:T,name:R}=this.auth;this.fullUserKey=Mn(this.userKey,T.apiKey,R),this.fullPersistenceKey=Mn("persistence",T.apiKey,R),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,u.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Xe._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,u.Z)(function*(){if(p.persistence===h)return;const y=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,y?p.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,y="authUser"){return(0,u.Z)(function*(){if(!p.length)return new ze(se(Ft),h,y);const T=(yield Promise.all(p.map(function(){var $e=(0,u.Z)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return $e.apply(this,arguments)}}()))).filter($e=>$e);let R=T[0]||se(Ft);const Z=Mn(y,h.config.apiKey,h.name);let ae=null;for(const $e of p)try{const ot=yield $e._get(Z);if(ot){const et=Xe._fromJSON(h,ot);$e!==R&&(ae=et),R=$e;break}}catch{}const Re=T.filter($e=>$e._shouldAllowMigration);return R._shouldAllowMigration&&Re.length?(R=Re[0],ae&&(yield R._set(Z,ae.toJSON())),yield Promise.all(p.map(function(){var $e=(0,u.Z)(function*(ot){if(ot!==R)try{yield ot._remove(Z)}catch{}});return function(ot){return $e.apply(this,arguments)}}())),new ze(R,h,y)):new ze(R,h,y)})()}}function zt(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Le(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(tn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Vt(h))return"Blackberry";if(mn(h))return"Webos";if(Ln(h))return"Safari";if((h.includes("chrome/")||Wn(h))&&!h.includes("edge/"))return"Chrome";if(at(h))return"Android";{const y=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function tn(m=(0,x.z$)()){return/firefox\//i.test(m)}function Ln(m=(0,x.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Wn(m=(0,x.z$)()){return/crios\//i.test(m)}function Le(m=(0,x.z$)()){return/iemobile/i.test(m)}function at(m=(0,x.z$)()){return/android/i.test(m)}function Vt(m=(0,x.z$)()){return/blackberry/i.test(m)}function mn(m=(0,x.z$)()){return/webos/i.test(m)}function br(m=(0,x.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Uo(m=(0,x.z$)()){return br(m)||at(m)||mn(m)||Vt(m)||/windows phone/i.test(m)||Le(m)}function pt(m,h=[]){let p;switch(m){case"Browser":p=zt((0,x.z$)());break;case"Worker":p=`${zt((0,x.z$)())}-${m}`;break;default:p=m}const y=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${oe.SDK_VERSION}/${y}`}class Vo{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const y=R=>new Promise((Z,ae)=>{try{Z(h(R))}catch(Re){ae(Re)}});y.onAbort=p,this.queue.push(y);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,u.Z)(function*(){var y;if(p.auth.currentUser===h)return;const T=[];try{for(const R of p.queue)yield R(h),R.onAbort&&T.push(R.onAbort)}catch(R){T.reverse();for(const Z of T)try{Z()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(y=R)||void 0===y?void 0:y.message})}})()}}class eo{constructor(h,p,y){this.app=h,this.heartbeatServiceProvider=p,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vi(this),this.idTokenSubscription=new Vi(this),this.beforeStateQueue=new Vo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(h,p){var y=this;return p&&(this._popupRedirectResolver=se(p)),this._initializationPromise=this.queue((0,u.Z)(function*(){var T,R;if(!y._deleted&&(y.persistenceManager=yield ze.create(y,h),!y._deleted)){if(null!==(T=y._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(p),y.lastNotifiedUid=(null===(R=y.currentUser)||void 0===R?void 0:R.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,u.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,u.Z)(function*(){var y;const T=yield p.assertedPersistence.getCurrentUser();let R=T,Z=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ae=null===(y=p.redirectUser)||void 0===y?void 0:y._redirectEventId,Re=R?._redirectEventId,$e=yield p.tryRedirectSignIn(h);(!ae||ae===Re)&&$e?.user&&(R=$e.user,Z=!0)}if(!R)return p.directlySetCurrentUser(null);if(!R._redirectEventId){if(Z)try{yield p.beforeStateQueue.runMiddleware(R)}catch(ae){R=T,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ae))}return R?p.reloadAndSetCurrentUserOrClear(R):p.directlySetCurrentUser(null)}return V(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===R._redirectEventId?p.directlySetCurrentUser(R):p.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(h){var p=this;return(0,u.Z)(function*(){let y=null;try{y=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,u.Z)(function*(){var y;try{yield kt(h)}catch(T){if("auth/network-request-failed"!==(null===(y=T)||void 0===y?void 0:y.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Fe(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,u.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,u.Z)(function*(){const y=h?(0,x.m9)(h):null;return y&&V(y.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(y&&y._clone(p))})()}_updateCurrentUser(h,p=!1){var y=this;return(0,u.Z)(function*(){if(!y._deleted)return h&&V(y.tenantId===h.tenantId,y,"tenant-id-mismatch"),p||(yield y.beforeStateQueue.runMiddleware(h)),y.queue((0,u.Z)(function*(){yield y.directlySetCurrentUser(h),y.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,u.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,u.Z)(function*(){yield p.assertedPersistence.setPersistence(se(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new x.LL("auth","Firebase",h())}onAuthStateChanged(h,p,y){return this.registerStateListener(this.authStateSubscription,h,p,y)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,y){return this.registerStateListener(this.idTokenSubscription,h,p,y)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var y=this;return(0,u.Z)(function*(){const T=yield y.getOrInitRedirectPersistenceManager(p);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,u.Z)(function*(){if(!p.redirectPersistenceManager){const y=h&&se(h)||p._popupRedirectResolver;V(y,p,"argument-error"),p.redirectPersistenceManager=yield ze.create(p,[se(y._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,u.Z)(function*(){var y,T;return p._isInitialized&&(yield p.queue((0,u.Z)(function*(){}))),(null===(y=p._currentUser)||void 0===y?void 0:y._redirectEventId)===h?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,u.Z)(function*(){if(h===p.currentUser)return p.queue((0,u.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,y,T){if(this._deleted)return()=>{};const R="function"==typeof p?p:p.next.bind(p),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return V(Z,this,"internal-error"),Z.then(()=>R(this.currentUser)),"function"==typeof p?h.addObserver(p,y,T):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,u.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=pt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,u.Z)(function*(){var p;const y={"X-Client-Version":h.clientVersion};h.app.options.appId&&(y["X-Firebase-gmpid"]=h.app.options.appId);const T=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return T&&(y["X-Firebase-Client"]=T),y})()}}function ln(m){return(0,x.m9)(m)}class Vi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,x.ne)(p=>this.observer=p)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bi(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function tr(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class Cs{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return fe("not implemented")}_getIdTokenResponse(h){return fe("not implemented")}_linkToIdToken(h,p){return fe("not implemented")}_getReauthenticationResolver(h){return fe("not implemented")}}function Ct(m,h){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,u.Z)(function*(m,h){return $t(m,"POST","/v1/accounts:resetPassword",_t(m,h))})).apply(this,arguments)}function qu(m,h){return to.apply(this,arguments)}function to(){return(to=(0,u.Z)(function*(m,h){return $t(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Bo(m,h){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,u.Z)(function*(m,h){return $t(m,"POST","/v1/accounts:update",_t(m,h))})).apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(m,h){return er(m,"POST","/v1/accounts:signInWithPassword",_t(m,h))})).apply(this,arguments)}function _n(m,h){return jo.apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(m,h){return $t(m,"POST","/v1/accounts:sendOobCode",_t(m,h))})).apply(this,arguments)}function wn(m,h){return hr.apply(this,arguments)}function hr(){return(hr=(0,u.Z)(function*(m,h){return _n(m,h)})).apply(this,arguments)}function ro(m,h){return Es.apply(this,arguments)}function Es(){return(Es=(0,u.Z)(function*(m,h){return _n(m,h)})).apply(this,arguments)}function Ho(m,h){return wr.apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(m,h){return _n(m,h)})).apply(this,arguments)}function rf(m,h){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(m,h){return _n(m,h)})).apply(this,arguments)}function Nl(){return(Nl=(0,u.Z)(function*(m,h){return er(m,"POST","/v1/accounts:signInWithEmailLink",_t(m,h))})).apply(this,arguments)}function Ku(){return(Ku=(0,u.Z)(function*(m,h){return er(m,"POST","/v1/accounts:signInWithEmailLink",_t(m,h))})).apply(this,arguments)}class Ol extends Cs{constructor(h,p,y,T=null){super("password",y),this._email=h,this._password=p,this._tenantId=T}static _fromEmailAndPassword(h,p){return new Ol(h,p,"password")}static _fromEmailAndCode(h,p,y=null){return new Ol(h,p,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,u.Z)(function*(){switch(p.signInMethod){case"password":return function no(m,h){return Qr.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Td(m,h){return Nl.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:De(h,"internal-error")}})()}_linkToIdToken(h,p){var y=this;return(0,u.Z)(function*(){switch(y.signInMethod){case"password":return qu(h,{idToken:p,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Ad(m,h){return Ku.apply(this,arguments)}(h,{idToken:p,email:y._email,oobCode:y._password});default:De(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Rn(m,h){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,u.Z)(function*(m,h){return er(m,"POST","/v1/accounts:signInWithIdp",_t(m,h))})).apply(this,arguments)}class gi extends Cs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new gi(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):De("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:y,signInMethod:T}=p,R=(0,ie._T)(p,["providerId","signInMethod"]);if(!y||!T)return null;const Z=new gi(y,T);return Z.idToken=R.idToken||void 0,Z.accessToken=R.accessToken||void 0,Z.secret=R.secret,Z.nonce=R.nonce,Z.pendingToken=R.pendingToken||null,Z}_getIdTokenResponse(h){return Rn(h,this.buildRequest())}_linkToIdToken(h,p){const y=this.buildRequest();return y.idToken=p,Rn(h,y)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Rn(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,x.xO)(p)}return h}}function af(m,h){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,u.Z)(function*(m,h){return $t(m,"POST","/v1/accounts:sendVerificationCode",_t(m,h))})).apply(this,arguments)}function $i(){return($i=(0,u.Z)(function*(m,h){return er(m,"POST","/v1/accounts:signInWithPhoneNumber",_t(m,h))})).apply(this,arguments)}function Ju(){return(Ju=(0,u.Z)(function*(m,h){const p=yield er(m,"POST","/v1/accounts:signInWithPhoneNumber",_t(m,h));if(p.temporaryProof)throw kr(m,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const uf={USER_NOT_FOUND:"user-not-found"};function $o(){return($o=(0,u.Z)(function*(m,h){return er(m,"POST","/v1/accounts:signInWithPhoneNumber",_t(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),uf)})).apply(this,arguments)}class io extends Cs{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new io({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new io({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function kl(m,h){return $i.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function lf(m,h){return Ju.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Xu(m,h){return $o.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:y,verificationCode:T}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:y,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:y,phoneNumber:T,temporaryProof:R}=h;return y||p||T||R?new io({verificationId:p,verificationCode:y,phoneNumber:T,temporaryProof:R}):null}}class Ur{constructor(h){var p,y,T,R,Z,ae;const Re=(0,x.zd)((0,x.pd)(h)),$e=null!==(p=Re.apiKey)&&void 0!==p?p:null,ot=null!==(y=Re.oobCode)&&void 0!==y?y:null,et=function ig(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Re.mode)&&void 0!==T?T:null);V($e&&ot&&et,"argument-error"),this.apiKey=$e,this.operation=et,this.code=ot,this.continueUrl=null!==(R=Re.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(Z=Re.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ae=Re.tenantId)&&void 0!==ae?ae:null}static parseLink(h){const p=function ec(m){const h=(0,x.zd)((0,x.pd)(m)).link,p=h?(0,x.zd)((0,x.pd)(h)).deep_link_id:null,y=(0,x.zd)((0,x.pd)(m)).deep_link_id;return(y?(0,x.zd)((0,x.pd)(y)).link:null)||y||p||h||m}(h);try{return new Ur(p)}catch{return null}}}let so=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(p,y){return Ol._fromEmailAndPassword(p,y)}static credentialWithLink(p,y){const T=Ur.parseLink(y);return V(T,"argument-error"),Ol._fromEmailAndCode(p,T.code,T.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Jr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class bs extends Jr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class oo extends bs{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return V("providerId"in p&&"signInMethod"in p,"argument-error"),gi._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return V(h.idToken||h.accessToken,"argument-error"),gi._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return oo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return oo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:y,oauthTokenSecret:T,pendingToken:R,nonce:Z,providerId:ae}=h;if(!y&&!T&&!p&&!R||!ae)return null;try{return new oo(ae)._credential({idToken:p,accessToken:y,nonce:Z,pendingToken:R})}catch{return null}}}let ao=(()=>{class m extends bs{constructor(){super("facebook.com")}static credential(p){return gi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Go=(()=>{class m extends bs{constructor(){super("google.com"),this.addScope("profile")}static credential(p,y){return gi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:y})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:y,oauthAccessToken:T}=p;if(!y&&!T)return null;try{return m.credential(y,T)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),nc=(()=>{class m extends bs{constructor(){super("github.com")}static credential(p){return gi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class lo extends Cs{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Rn(h,this.buildRequest())}_linkToIdToken(h,p){const y=this.buildRequest();return y.idToken=p,Rn(h,y)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Rn(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:y,signInMethod:T,pendingToken:R}=p;return y&&T&&R&&y===T?new lo(y,R):null}static _create(h,p){return new lo(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class nr extends Jr{constructor(h){V(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return nr.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return nr.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=lo.fromJSON(h);return V(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:y}=h;if(!p||!y)return null;try{return lo._create(y,p)}catch{return null}}}let ic=(()=>{class m extends bs{constructor(){super("twitter.com")}static credential(p,y){return gi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:y})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:y,oauthTokenSecret:T}=p;if(!y||!T)return null;try{return m.credential(y,T)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function uo(m,h){return sc.apply(this,arguments)}function sc(){return(sc=(0,u.Z)(function*(m,h){return er(m,"POST","/v1/accounts:signUp",_t(m,h))})).apply(this,arguments)}class Dr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,y,T=!1){return(0,u.Z)(function*(){const R=yield Xe._fromIdTokenResponse(h,y,T),Z=yn(y);return new Dr({user:R,providerId:Z,_tokenResponse:y,operationType:p})})()}static _forOperation(h,p,y){return(0,u.Z)(function*(){yield h._updateTokensIfNecessary(y,!0);const T=yn(y);return new Dr({user:h,providerId:T,_tokenResponse:y,operationType:p})})()}}function yn(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Sd(){return(Sd=(0,u.Z)(function*(m){var h;const p=ln(m);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new Dr({user:p.currentUser,providerId:null,operationType:"signIn"});const y=yield uo(p,{returnSecureToken:!0}),T=yield Dr._fromIdTokenResponse(p,"signIn",y,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class ws extends x.ZR{constructor(h,p,y,T){var R;super(p.code,p.message),this.operationType=y,this.user=T,Object.setPrototypeOf(this,ws.prototype),this.customData={appName:h.name,tenantId:null!==(R=h.tenantId)&&void 0!==R?R:void 0,_serverResponse:p.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(h,p,y,T){return new ws(h,p,y,T)}}function fr(m,h,p,y){return("reauthenticate"===h?p._getReauthenticationResolver(m):p._getIdTokenResponse(m)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?ws._fromErrorAndOperation(m,R,h,y):R})}function mi(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function _i(){return(_i=(0,u.Z)(function*(m,h){const p=(0,x.m9)(m);yield Vr(!0,p,h);const{providerUserInfo:y}=yield Fr(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),T=mi(y||[]);return p.providerData=p.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Vn(m,h){return co.apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(m,h,p=!1){const y=yield Fn(m,h._linkToIdToken(m.auth,yield m.getIdToken()),p);return Dr._forOperation(m,"link",y)})).apply(this,arguments)}function Vr(m,h,p){return yi.apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(m,h,p){yield kt(h);const T=!1===m?"provider-already-linked":"no-such-provider";V(mi(h.providerData).has(p)===m,h.auth,T)})).apply(this,arguments)}function vi(m,h){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(m,h,p=!1){var y;const{auth:T}=m,R="reauthenticate";try{const Z=yield Fn(m,fr(T,R,h,m),p);V(Z.idToken,T,"internal-error");const ae=Ve(Z.idToken);V(ae,T,"internal-error");const{sub:Re}=ae;return V(m.uid===Re,T,"user-mismatch"),Dr._forOperation(m,R,Z)}catch(Z){throw"auth/user-not-found"===(null===(y=Z)||void 0===y?void 0:y.code)&&De(T,"user-mismatch"),Z}})).apply(this,arguments)}function ho(m,h){return lt.apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(m,h,p=!1){const y="signIn",T=yield fr(m,y,h),R=yield Dr._fromIdTokenResponse(m,y,T);return p||(yield m._updateCurrentUser(R.user)),R})).apply(this,arguments)}function hn(m,h){return ac.apply(this,arguments)}function ac(){return(ac=(0,u.Z)(function*(m,h){return ho(ln(m),h)})).apply(this,arguments)}function Fa(m,h){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,u.Z)(function*(m,h){const p=(0,x.m9)(m);return yield Vr(!1,p,h.providerId),Vn(p,h)})).apply(this,arguments)}function Ds(m,h){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,u.Z)(function*(m,h){return vi((0,x.m9)(m),h)})).apply(this,arguments)}function La(m,h){return fo.apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(m,h){return er(m,"POST","/v1/accounts:signInWithCustomToken",_t(m,h))})).apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(m,h){const p=ln(m),y=yield La(p,{token:h,returnSecureToken:!0}),T=yield Dr._fromIdTokenResponse(p,"signIn",y);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class Wi{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?po._fromServerResponse(h,p):De(h,"internal-error")}}class po extends Wi{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new po(p)}}function nn(m,h,p){var y;V((null===(y=p.url)||void 0===y?void 0:y.length)>0,m,"invalid-continue-uri"),V(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(V(p.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(V(p.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function Zi(){return(Zi=(0,u.Z)(function*(m,h,p){const y=(0,x.m9)(m),T={requestType:"PASSWORD_RESET",email:h};p&&nn(y,T,p),yield ro(y,T)})).apply(this,arguments)}function zo(){return(zo=(0,u.Z)(function*(m,h,p){yield Ct((0,x.m9)(m),{oobCode:h,newPassword:p})})).apply(this,arguments)}function go(){return(go=(0,u.Z)(function*(m,h){yield Bo((0,x.m9)(m),{oobCode:h})})).apply(this,arguments)}function Ko(m,h){return Md.apply(this,arguments)}function Md(){return(Md=(0,u.Z)(function*(m,h){const p=(0,x.m9)(m),y=yield Ct(p,{oobCode:h}),T=y.requestType;switch(V(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(y.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(y.mfaInfo,p,"internal-error");default:V(y.email,p,"internal-error")}let R=null;return y.mfaInfo&&(R=Wi._fromServerResponse(ln(p),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(m,h){const{data:p}=yield Ko((0,x.m9)(m),h);return p.email})).apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(m,h,p){const y=ln(m),T=yield uo(y,{returnSecureToken:!0,email:h,password:p}),R=yield Dr._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ll(){return(Ll=(0,u.Z)(function*(m,h,p){const y=(0,x.m9)(m),T={requestType:"EMAIL_SIGNIN",email:h};V(p.handleCodeInApp,y,"argument-error"),p&&nn(y,T,p),yield Ho(y,T)})).apply(this,arguments)}function Qo(){return(Qo=(0,u.Z)(function*(m,h,p){const y=(0,x.m9)(m),T=so.credentialWithLink(h,p||Ae());return V(T._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),hn(y,T)})).apply(this,arguments)}function Vl(m,h){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(m,h){return $t(m,"POST","/v1/accounts:createAuthUri",_t(m,h))})).apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(m,h){const y={identifier:h,continueUri:tt()?Ae():"http://localhost"},{signinMethods:T}=yield Vl((0,x.m9)(m),y);return T||[]})).apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(m,h){const p=(0,x.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&nn(p.auth,T,h);const{email:R}=yield wn(p.auth,T);R!==m.email&&(yield m.reload())})).apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(m,h,p){const y=(0,x.m9)(m),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};p&&nn(y.auth,R,p);const{email:Z}=yield rf(y.auth,R);Z!==m.email&&(yield m.reload())})).apply(this,arguments)}function ja(m,h){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,u.Z)(function*(m,h){return $t(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(m,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const y=(0,x.m9)(m),R={idToken:yield y.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},Z=yield Fn(y,ja(y.auth,R));y.displayName=Z.displayName||null,y.photoURL=Z.photoUrl||null;const ae=y.providerData.find(({providerId:Re})=>"password"===Re);ae&&(ae.displayName=y.displayName,ae.photoURL=y.photoURL),yield y._updateTokensIfNecessary(Z)})).apply(this,arguments)}function xn(m,h,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,u.Z)(function*(m,h,p){const{auth:y}=m,R={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(R.email=h),p&&(R.password=p);const Z=yield Fn(m,qu(y,R));yield m._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class Xo{constructor(h,p,y={}){this.isNewUser=h,this.providerId=p,this.profile=y}}class uc extends Xo{constructor(h,p,y,T){super(h,p,y),this.username=T}}class Pd extends Xo{constructor(h,p){super(h,"facebook.com",p)}}class jl extends uc{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class cc extends Xo{constructor(h,p){super(h,"google.com",p)}}class Hl extends uc{constructor(h,p,y){super(h,"twitter.com",p,y)}}function Wa(m){const{user:h,_tokenResponse:p}=m;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function un(m){var h,p;if(!m)return null;const{providerId:y}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},R=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!y&&m?.idToken){const Z=null===(p=null===(h=Ve(m.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(Z)return new Xo(R,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!y)return null;switch(y){case"facebook.com":return new Pd(R,T);case"github.com":return new jl(R,T);case"google.com":return new cc(R,T);case"twitter.com":return new Hl(R,T,m.screenName||null);case"custom":case"anonymous":return new Xo(R,null);default:return new Xo(R,y,T)}}(p)}class ti{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new ti("enroll",h)}static _fromMfaPendingCredential(h){return new ti("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,y;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return ti._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(y=h.multiFactorSession)&&void 0!==y&&y.idToken)return ti._fromIdtoken(h.multiFactorSession.idToken)}return null}}class ta{constructor(h,p,y){this.session=h,this.hints=p,this.signInResolver=y}static _fromError(h,p){const y=ln(h),T=p.customData._serverResponse,R=(T.mfaInfo||[]).map(ae=>Wi._fromServerResponse(y,ae));V(T.mfaPendingCredential,y,"internal-error");const Z=ti._fromMfaPendingCredential(T.mfaPendingCredential);return new ta(Z,R,function(){var ae=(0,u.Z)(function*(Re){const $e=yield Re._process(y,Z);delete T.mfaInfo,delete T.mfaPendingCredential;const ot=Object.assign(Object.assign({},T),{idToken:$e.idToken,refreshToken:$e.refreshToken});switch(p.operationType){case"signIn":const et=yield Dr._fromIdTokenResponse(y,p.operationType,ot);return yield y._updateCurrentUser(et.user),et;case"reauthenticate":return V(p.user,y,"internal-error"),Dr._forOperation(p.user,p.operationType,ot);default:De(y,"internal-error")}});return function(Re){return ae.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,u.Z)(function*(){return p.signInResolver(h)})()}}function kd(m,h){return $t(m,"POST","/v2/accounts/mfaEnrollment:start",_t(m,h))}class na{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(y=>Wi._fromServerResponse(h.auth,y)))})}static _fromUser(h){return new na(h)}getSession(){var h=this;return(0,u.Z)(function*(){return ti._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var y=this;return(0,u.Z)(function*(){const T=h,R=yield y.getSession(),Z=yield Fn(y.user,T._process(y.user.auth,R,p));return yield y.user._updateTokensIfNecessary(Z),y.user.reload()})()}unenroll(h){var p=this;return(0,u.Z)(function*(){var y;const T="string"==typeof h?h:h.uid,R=yield p.user.getIdToken(),Z=yield Fn(p.user,function ag(m,h){return $t(m,"POST","/v2/accounts/mfaEnrollment:withdraw",_t(m,h))}(p.user.auth,{idToken:R,mfaEnrollmentId:T}));p.enrolledFactors=p.enrolledFactors.filter(({uid:ae})=>ae!==T),yield p.user._updateTokensIfNecessary(Z);try{yield p.user.reload()}catch(ae){if("auth/user-token-expired"!==(null===(y=ae)||void 0===y?void 0:y.code))throw ae}})()}}const ra=new WeakMap,qi="__sak";class fc{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(qi,"1"),this.storage.removeItem(qi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const sa=(()=>{class m extends fc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,y)=>this.onStorageEvent(p,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fd(){const m=(0,x.z$)();return Ln(m)||br(m)}()&&function Ui(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Uo(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const y of Object.keys(this.listeners)){const T=this.storage.getItem(y),R=this.localCache[y];T!==R&&p(y,R,T)}}onStorageEvent(p,y=!1){if(!p.key)return void this.forAllChangedKeys((ae,Re,$e)=>{this.notifyListeners(ae,$e)});const T=p.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ae=this.storage.getItem(T);if(p.newValue!==ae)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!y)return}const R=()=>{const ae=this.storage.getItem(T);!y&&this.localCache[T]===ae||this.notifyListeners(T,ae)},Z=this.storage.getItem(T);!function an(){return(0,x.w1)()&&10===document.documentMode}()||Z===p.newValue||p.newValue===p.oldValue?R():setTimeout(R,10)}notifyListeners(p,y){this.localCache[p]=y;const T=this.listeners[p];if(T)for(const R of Array.from(T))R(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,y,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:y,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,y){var T=()=>super._set,R=this;return(0,u.Z)(function*(){yield T().call(R,p,y),R.localCache[p]=JSON.stringify(y)})()}_get(p){var y=()=>super._get,T=this;return(0,u.Z)(function*(){const R=yield y().call(T,p);return T.localCache[p]=JSON.stringify(R),R})()}_remove(p){var y=()=>super._remove,T=this;return(0,u.Z)(function*(){yield y().call(T,p),delete T.localCache[p]})()}}return m.type="LOCAL",m})(),Ss=(()=>{class m extends fc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,y){}_removeListener(p,y){}}return m.type="SESSION",m})();let qt=(()=>{class m{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const y=this.receivers.find(R=>R.isListeningto(p));if(y)return y;const T=new m(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var y=this;return(0,u.Z)(function*(){const T=p,{eventId:R,eventType:Z,data:ae}=T.data,Re=y.handlersMap[Z];if(!Re?.size)return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:Z});const $e=Array.from(Re).map(function(){var et=(0,u.Z)(function*(kn){return kn(T.origin,ae)});return function(kn){return et.apply(this,arguments)}}()),ot=yield function gc(m){return Promise.all(m.map(function(){var h=(0,u.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(y){return{fulfilled:!1,reason:y}}});return function(p){return h.apply(this,arguments)}}()))}($e);T.ports[0].postMessage({status:"done",eventId:R,eventType:Z,response:ot})})()}_subscribe(p,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(y)}_unsubscribe(p,y){this.handlersMap[p]&&y&&this.handlersMap[p].delete(y),(!y||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Br(m="",h=10){let p="";for(let y=0;y<h;y++)p+=Math.floor(10*Math.random());return m+p}class Be{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,y=50){var T=this;return(0,u.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let Z,ae;return new Promise((Re,$e)=>{const ot=Br("",20);R.port1.start();const et=setTimeout(()=>{$e(new Error("unsupported_event"))},y);ae={messageChannel:R,onMessage(kn){const ui=kn;if(ui.data.eventId===ot)switch(ui.data.status){case"ack":clearTimeout(et),Z=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Re(ui.data.response);break;default:clearTimeout(et),clearTimeout(Z),$e(new Error("invalid_response"))}}},T.handlers.add(ae),R.port1.addEventListener("message",ae.onMessage),T.target.postMessage({eventType:h,eventId:ot,data:p},[R.port2])}).finally(()=>{ae&&T.removeMessageHandler(ae)})})()}}function Gt(){return window}function vo(){return typeof Gt().WorkerGlobalScope<"u"&&"function"==typeof Gt().importScripts}function Hn(){return(Hn=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const oa="firebaseLocalStorageDb",Yi="firebaseLocalStorage",$l="fbase_key";class Ar{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Je(m,h){return m.transaction([Yi],h?"readwrite":"readonly").objectStore(Yi)}function Gl(){const m=indexedDB.open(oa,1);return new Promise((h,p)=>{m.addEventListener("error",()=>{p(m.error)}),m.addEventListener("upgradeneeded",()=>{const y=m.result;try{y.createObjectStore(Yi,{keyPath:$l})}catch(T){p(T)}}),m.addEventListener("success",(0,u.Z)(function*(){const y=m.result;y.objectStoreNames.contains(Yi)?h(y):(y.close(),yield function Ms(){const m=indexedDB.deleteDatabase(oa);return new Ar(m).toPromise()}(),h(yield Gl()))}))})}function Co(m,h,p){return aa.apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(m,h,p){const y=Je(m,!0).put({[$l]:h,value:p});return new Ar(y).toPromise()})).apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(m,h){const p=Je(m,!1).get(h),y=yield new Ar(p).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function ua(m,h){const p=Je(m,!0).delete(h);return new Ar(p).toPromise()}const Qi=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,u.Z)(function*(){return p.db||(p.db=yield Gl()),p.db})()}_withRetries(p){var y=this;return(0,u.Z)(function*(){let T=0;for(;;)try{const R=yield y._openDb();return yield p(R)}catch(R){if(T++>3)throw R;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,u.Z)(function*(){return vo()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,u.Z)(function*(){p.receiver=qt._getInstance(function Ld(){return vo()?self:null}()),p.receiver._subscribe("keyChanged",function(){var y=(0,u.Z)(function*(T,R){return{keyProcessed:(yield p._poll()).includes(R.key)}});return function(T,R){return y.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var y=(0,u.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return y.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,u.Z)(function*(){var y,T;if(p.activeServiceWorker=yield function Ki(){return Hn.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Be(p.activeServiceWorker);const R=yield p.sender._send("ping",{},800);!R||(null===(y=R[0])||void 0===y?void 0:y.fulfilled)&&(null===(T=R[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var y=this;return(0,u.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Za(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:p},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Gl();return yield Co(p,qi,"1"),yield ua(p,qi),!0}catch{}return!1})()}_withPendingWrite(p){var y=this;return(0,u.Z)(function*(){y.pendingWrites++;try{yield p()}finally{y.pendingWrites--}})()}_set(p,y){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(R=>Co(R,p,y)),T.localCache[p]=y,T.notifyServiceWorker(p)}))})()}_get(p){var y=this;return(0,u.Z)(function*(){const T=yield y._withRetries(R=>function Kt(m,h){return la.apply(this,arguments)}(R,p));return y.localCache[p]=T,T})()}_remove(p){var y=this;return(0,u.Z)(function*(){return y._withPendingWrite((0,u.Z)(function*(){return yield y._withRetries(T=>ua(T,p)),delete y.localCache[p],y.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,u.Z)(function*(){const y=yield p._withRetries(Z=>{const ae=Je(Z,!1).getAll();return new Ar(ae).toPromise()});if(!y)return[];if(0!==p.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:Z,value:ae}of y)R.add(Z),JSON.stringify(p.localCache[Z])!==JSON.stringify(ae)&&(p.notifyListeners(Z,ae),T.push(Z));for(const Z of Object.keys(p.localCache))p.localCache[Z]&&!R.has(Z)&&(p.notifyListeners(Z,null),T.push(Z));return T})()}notifyListeners(p,y){this.localCache[p]=y;const T=this.listeners[p];if(T)for(const R of Array.from(T))R(y)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function ni(m,h){return $t(m,"POST","/v2/accounts/mfaSignIn:start",_t(m,h))}function ca(){return(ca=(0,u.Z)(function*(m){return(yield $t(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function rr(m){return new Promise((h,p)=>{const y=document.createElement("script");y.setAttribute("src",m),y.onload=h,y.onerror=T=>{const R=ge("internal-error");R.customData=T,p(R)},y.type="text/javascript",y.charset="UTF-8",function Eo(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(y)})}function Ji(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Ps=1e12;class df{constructor(h){this.auth=h,this.counter=Ps,this._widgets=new Map}render(h,p){const y=this.counter;return this._widgets.set(y,new vn(h,this.auth.name,p||{})),this.counter++,y}reset(h){var p;const y=h||Ps;null===(p=this._widgets.get(y))||void 0===p||p.delete(),this._widgets.delete(y)}getResponse(h){var p;return(null===(p=this._widgets.get(h||Ps))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,u.Z)(function*(){var y;return null===(y=p._widgets.get(h||Ps))||void 0===y||y.execute(),""})()}}class vn{constructor(h,p,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;V(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function qa(m){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<m;y++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ud=Ji("rcb"),bi=new Ht(3e4,6e4);class ii{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Gt().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return V(function hf(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Gt().grecaptcha):new Promise((y,T)=>{const R=Gt().setTimeout(()=>{T(ge(h,"network-request-failed"))},bi.get());Gt()[Ud]=()=>{Gt().clearTimeout(R),delete Gt()[Ud];const ae=Gt().grecaptcha;if(!ae)return void T(ge(h,"internal-error"));const Re=ae.render;ae.render=($e,ot)=>{const et=Re($e,ot);return this.counter++,et},this.hostLanguage=p,y(ae)},rr(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:Ud,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(R),T(ge(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=Gt().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class lg{load(h){return(0,u.Z)(function*(){return new df(h)})()}clearedOneInstance(){}}const Wt="recaptcha",wi={theme:"light",type:"image"};class In{constructor(h,p=Object.assign({},wi),y){this.parameters=p,this.type=Wt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ln(y),this.isInvisible="invisible"===this.parameters.size,V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;V(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lg:new ii,this.validateStartingState()}verify(){var h=this;return(0,u.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),y=h.getAssertedRecaptcha();return y.getResponse(p)||new Promise(R=>{const Z=ae=>{!ae||(h.tokenChangeListeners.delete(Z),R(ae))};h.tokenChangeListeners.add(Z),h.isInvisible&&y.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(y=>y(p)),"function"==typeof h)h(p);else if("string"==typeof h){const y=Gt()[h];"function"==typeof y&&y(p)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,u.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const y=document.createElement("div");p.appendChild(y),p=y}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,u.Z)(function*(){V(tt()&&!vo(),h.auth,"internal-error"),yield function xs(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Jn(m){return ca.apply(this,arguments)}(h.auth);V(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class yc{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=io._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function sr(){return(sr=(0,u.Z)(function*(m,h,p){const y=ln(m),T=yield gt(y,h,(0,x.m9)(p));return new yc(T,R=>hn(y,R))})).apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(m,h,p){const y=(0,x.m9)(m);yield Vr(!1,y,"phone");const T=yield gt(y.auth,h,(0,x.m9)(p));return new yc(T,R=>Fa(y,R))})).apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*(m,h,p){const y=(0,x.m9)(m),T=yield gt(y.auth,h,(0,x.m9)(p));return new yc(T,R=>Ds(y,R))})).apply(this,arguments)}function gt(m,h,p){return zl.apply(this,arguments)}function zl(){return(zl=(0,u.Z)(function*(m,h,p){var y;const T=yield p.verify();try{let R;if(V("string"==typeof T,m,"argument-error"),V(p.type===Wt,m,"argument-error"),R="string"==typeof h?{phoneNumber:h}:h,"session"in R){const Z=R.session;if("phoneNumber"in R)return V("enroll"===Z.type,m,"internal-error"),(yield kd(m,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{V("signin"===Z.type,m,"internal-error");const ae=(null===(y=R.multiFactorHint)||void 0===y?void 0:y.uid)||R.multiFactorUid;return V(ae,m,"missing-multi-factor-info"),(yield ni(m,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield af(m,{phoneNumber:R.phoneNumber,recaptchaToken:T});return Z}}finally{p._reset()}})).apply(this,arguments)}function vc(){return(vc=(0,u.Z)(function*(m,h){yield Vn((0,x.m9)(m),h)})).apply(this,arguments)}let wo=(()=>{class m{constructor(p){this.providerId=m.PROVIDER_ID,this.auth=ln(p)}verifyPhoneNumber(p,y){return gt(this.auth,p,(0,x.m9)(y))}static credential(p,y){return io._fromVerification(p,y)}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:y,temporaryProof:T}=p;return y&&T?io._fromTokenResponse(y,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Lt(m,h){return h?se(h):(V(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Do extends Cs{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Rn(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Rn(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Rn(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Os(m){return ho(m.auth,new Do(m),m.bypassAuthState)}function ql(m){const{auth:h,user:p}=m;return V(p,h,"internal-error"),vi(p,new Do(m),m.bypassAuthState)}function Kl(m){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(m){const{auth:h,user:p}=m;return V(p,h,"internal-error"),Vn(p,new Do(m),m.bypassAuthState)})).apply(this,arguments)}class Sr{constructor(h,p,y,T,R=!1){this.auth=h,this.resolver=y,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,u.Z)(function*(y,T){h.pendingPromise={resolve:y,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(R){h.reject(R)}});return function(y,T){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,u.Z)(function*(){const{urlResponse:y,sessionId:T,postBody:R,tenantId:Z,error:ae,type:Re}=h;if(ae)return void p.reject(ae);const $e={auth:p.auth,requestUri:y,sessionId:T,tenantId:Z||void 0,postBody:R||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Re)($e))}catch(ot){p.reject(ot)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Os;case"linkViaPopup":case"linkViaRedirect":return Kl;case"reauthViaPopup":case"reauthViaRedirect":return ql;default:De(this.auth,"internal-error")}}resolve(h){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ha=new Ht(2e3,1e4);function fa(){return(fa=(0,u.Z)(function*(m,h,p){const y=ln(m);Ne(m,h,Jr);const T=Lt(y,p);return new ks(y,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(m,h,p){const y=(0,x.m9)(m);Ne(y.auth,h,Jr);const T=Lt(y.auth,p);return new ks(y.auth,"reauthViaPopup",h,T,y).executeNotNull()})).apply(this,arguments)}function Jl(){return(Jl=(0,u.Z)(function*(m,h,p){const y=(0,x.m9)(m);Ne(y.auth,h,Jr);const T=Lt(y.auth,p);return new ks(y.auth,"linkViaPopup",h,T,y).executeNotNull()})).apply(this,arguments)}let ks=(()=>{class m extends Sr{constructor(p,y,T,R,Z){super(p,y,R,Z),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var p=this;return(0,u.Z)(function*(){const y=yield p.execute();return V(y,p.auth,"internal-error"),y})()}onExecution(){var p=this;return(0,u.Z)(function*(){K(1===p.filter.length,"Popup operations only handle one event");const y=Br();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],y),p.authWindow.associatedEvent=y,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(ge(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const p=()=>{var y,T;this.pollId=null!==(T=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,ha.get())};p()}}return m.currentPopupAction=null,m})();const si=new Map;class Ya extends Sr{constructor(h,p,y=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,y),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,u.Z)(function*(){let y=si.get(p.auth._key());if(!y){try{const R=(yield function Fs(m,h){return dt.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;y=()=>Promise.resolve(R)}catch(T){y=()=>Promise.reject(T)}si.set(p.auth._key(),y)}return p.bypassAuthState||si.set(p.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,y=this;return(0,u.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(y,h);if("unknown"!==h.type){if(h.eventId){const T=yield y.auth._redirectUserForId(h.eventId);if(T)return y.user=T,p().call(y,h);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function dt(){return(dt=(0,u.Z)(function*(m,h){const p=ga(h),y=rn(m);if(!(yield y._isAvailable()))return!1;const T="true"===(yield y._get(p));return yield y._remove(p),T})).apply(this,arguments)}function Xi(m,h){return pr.apply(this,arguments)}function pr(){return(pr=(0,u.Z)(function*(m,h){return rn(m)._set(ga(h),"true")})).apply(this,arguments)}function Cc(m,h){si.set(m._key(),h)}function rn(m){return se(m._redirectPersistence)}function ga(m){return Mn("pendingRedirect",m.config.apiKey,m.name)}function w(){return(w=(0,u.Z)(function*(m,h,p){const y=ln(m);Ne(m,h,Jr);const T=Lt(y,p);return yield Xi(T,y),T._openRedirect(y,h,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,u.Z)(function*(m,h,p){const y=(0,x.m9)(m);Ne(y.auth,h,Jr);const T=Lt(y.auth,p);yield Xi(T,y.auth);const R=yield Ye(y);return T._openRedirect(y.auth,h,"reauthViaRedirect",R)})).apply(this,arguments)}function we(){return(we=(0,u.Z)(function*(m,h,p){const y=(0,x.m9)(m);Ne(y.auth,h,Jr);const T=Lt(y.auth,p);yield Vr(!1,y,h.providerId),yield Xi(T,y.auth);const R=yield Ye(y);return T._openRedirect(y.auth,h,"linkViaRedirect",R)})).apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(m,h){return yield ln(m)._initializationPromise,ht(m,h,!1)})).apply(this,arguments)}function ht(m,h){return ft.apply(this,arguments)}function ft(){return(ft=(0,u.Z)(function*(m,h,p=!1){const y=ln(m),T=Lt(y,h),Z=yield new Ya(y,T,p).execute();return Z&&!p&&(delete Z.user._redirectEventId,yield y._persistUserIfCurrent(Z.user),yield y._setRedirectUser(null,h)),Z})).apply(this,arguments)}function Ye(m){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(m){const h=Br(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class _a{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(h,y)&&(p=!0,this.sendToConsumer(h,y),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Xl(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hr(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var y;if(h.error&&!Hr(h)){const T=(null===(y=h.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";p.onError(ge(this.auth,T))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const y=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&y}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jr(h))}saveEventToCache(h){this.cachedEventUids.add(jr(h)),this.lastProcessedEventTime=Date.now()}}function jr(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function Hr({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===h?.code}function Io(m){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(m,h={}){return $t(m,"GET","/v1/projects",h)})).apply(this,arguments)}const mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ls=/^https?/;function jd(){return(jd=(0,u.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield Io(m);for(const p of h)try{if(ug(p))return}catch{}De(m,"unauthorized-domain")})).apply(this,arguments)}function ug(m){const h=Ae(),{protocol:p,hostname:y}=new URL(h);if(m.startsWith("chrome-extension://")){const Z=new URL(m);return""===Z.hostname&&""===y?"chrome-extension:"===p&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Z.hostname===y}if(!Ls.test(p))return!1;if(mr.test(m))return y===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(y)}const bc=new Ht(3e4,6e4);function ya(){const m=Gt().___jsl;if(m?.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let p=0;p<m.CP.length;p++)m.CP[p]=null}let ts=null;function cg(m){return ts=ts||function eu(m){return new Promise((h,p)=>{var y,T,R;function Z(){ya(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{ya(),p(ge(m,"network-request-failed"))},timeout:bc.get()})}if(null!==(T=null===(y=Gt().gapi)||void 0===y?void 0:y.iframes)&&void 0!==T&&T.Iframe)h(gapi.iframes.getContext());else{if(null===(R=Gt().gapi)||void 0===R||!R.load){const ae=Ji("iframefcb");return Gt()[ae]=()=>{gapi.load?Z():p(ge(m,"network-request-failed"))},rr(`https://apis.google.com/js/api.js?onload=${ae}`).catch(Re=>p(Re))}Z()}}).catch(h=>{throw ts=null,h})}(m),ts}const Hd=new Ht(5e3,15e3),hg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ff=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tu(m){const h=m.config;V(h.authDomain,m,"auth-domain-config-required");const p=h.emulator?pn(h,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,y={apiKey:h.apiKey,appName:m.name,v:oe.SDK_VERSION},T=ff.get(m.config.apiHost);T&&(y.eid=T);const R=m._getFrameworks();return R.length&&(y.fw=R.join(",")),`${p}?${(0,x.xO)(y).slice(1)}`}function ns(){return ns=(0,u.Z)(function*(m){const h=yield cg(m),p=Gt().gapi;return V(p,m,"internal-error"),h.open({where:document.body,url:tu(m),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hg,dontclear:!0},y=>new Promise(function(){var T=(0,u.Z)(function*(R,Z){yield y.restyle({setHideOnLeave:!1});const ae=ge(m,"network-request-failed"),Re=Gt().setTimeout(()=>{Z(ae)},Hd.get());function $e(){Gt().clearTimeout(Re),R(y)}y.ping($e).then($e,()=>{Z(ae)})});return function(R,Z){return T.apply(this,arguments)}}()))}),ns.apply(this,arguments)}const nu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ic{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sc(m,h,p,y,T,R){V(m.config.authDomain,m,"auth-domain-config-required"),V(m.config.apiKey,m,"invalid-api-key");const Z={apiKey:m.config.apiKey,appName:m.name,authType:p,redirectUrl:y,v:oe.SDK_VERSION,eventId:T};if(h instanceof Jr){h.setDefaultLanguage(m.languageCode),Z.providerId=h.providerId||"",(0,x.xb)(h.getCustomParameters())||(Z.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Re,$e]of Object.entries(R||{}))Z[Re]=$e}if(h instanceof bs){const Re=h.getScopes().filter($e=>""!==$e);Re.length>0&&(Z.scopes=Re.join(","))}m.tenantId&&(Z.tid=m.tenantId);const ae=Z;for(const Re of Object.keys(ae))void 0===ae[Re]&&delete ae[Re];return`${function pg({config:m}){return m.emulator?pn(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,x.xO)(ae).slice(1)}`}const Gd="webStorageSupport";class Wd extends class ru{constructor(h){this.factorId=h}_process(h,p,y){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,y);case"signin":return this._finalizeSignIn(h,p.credential);default:return fe("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Wd(h)}_finalizeEnroll(h,p,y){return function og(m,h){return $t(m,"POST","/v2/accounts/mfaEnrollment:finalize",_t(m,h))}(h,{idToken:p,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function ri(m,h){return $t(m,"POST","/v2/accounts/mfaSignIn:finalize",_t(m,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Oy=(()=>{class m{constructor(){}static assertion(p){return Wd._fromCredential(p)}}return m.FACTOR_ID="phone",m})();var mg="@firebase/auth";class ky{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,u.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(y=>{var T;h((null===(T=y)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function So(){return window}function is(){return(is=(0,u.Z)(function*(m,h,p){var y;const{BuildInfo:T}=So();K(h.sessionId,"AuthEvent did not contain a session ID");const R=yield gf(h.sessionId),Z={};return br()?Z.ibi=T.packageName:at()?Z.apn=T.packageName:De(m,"operation-not-supported-in-this-environment"),T.displayName&&(Z.appDisplayName=T.displayName),Z.sessionId=R,Sc(m,p,h.type,void 0,null!==(y=h.eventId)&&void 0!==y?y:void 0,Z)})).apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(m){const{BuildInfo:h}=So(),p={};br()?p.iosBundleId=h.packageName:at()?p.androidPackageName=h.packageName:De(m,"operation-not-supported-in-this-environment"),yield Io(m,p)})).apply(this,arguments)}function oi(){return(oi=(0,u.Z)(function*(m,h,p){const{cordova:y}=So();let T=()=>{};try{yield new Promise((R,Z)=>{let ae=null;function Re(){var et;R();const kn=null===(et=y.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof kn&&kn(),"function"==typeof p?.close&&p.close()}function $e(){ae||(ae=window.setTimeout(()=>{Z(ge(m,"redirect-cancelled-by-user"))},2e3))}function ot(){"visible"===document?.visibilityState&&$e()}h.addPassiveListener(Re),document.addEventListener("resume",$e,!1),at()&&document.addEventListener("visibilitychange",ot,!1),T=()=>{h.removePassiveListener(Re),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",ot,!1),ae&&window.clearTimeout(ae)}})}finally{T()}})).apply(this,arguments)}function gf(m){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,u.Z)(function*(m){const h=yg(m),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function yg(m){if(K(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const h=new ArrayBuffer(m.length),p=new Uint8Array(h);for(let y=0;y<m.length;y++)p[y]=m.charCodeAt(y);return p}!function Zd(m){(0,oe._registerComponent)(new le.wA("auth",(h,{options:p})=>{const y=h.getProvider("app").getImmediate(),T=h.getProvider("heartbeat"),{apiKey:R,authDomain:Z}=y.options;return((ae,Re)=>{V(R&&!R.includes(":"),"invalid-api-key",{appName:ae.name}),V(!Z?.includes(":"),"argument-error",{appName:ae.name});const $e={apiKey:R,authDomain:Z,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pt(m)},ot=new eo(ae,Re,$e);return function Me(m,h){const p=h?.persistence||[],y=(Array.isArray(p)?p:[p]).map(se);h?.errorMap&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(y,h?.popupRedirectResolver)}(ot,p),ot})(y,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,y)=>{h.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new le.wA("auth-internal",h=>{const p=ln(h.getProvider("auth").getImmediate());return new ky(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(mg,"0.20.6",function Fy(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,oe.registerVersion)(mg,"0.20.6","esm2017")}("Browser");class vg extends _a{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,u.Z)(function*(){yield h.initPromise})()}}function Mc(m){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,u.Z)(function*(m){const h=yield ou()._get(Rc(m));return h&&(yield ou()._remove(Rc(m))),h})).apply(this,arguments)}function _f(){const m=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const y=Math.floor(Math.random()*h.length);m.push(h.charAt(y))}return m.join("")}function ou(){return se(sa)}function Rc(m){return Mn("authEvent",m.config.apiKey,m.name)}function Xa(m){if(!m?.includes("?"))return{};const[h,...p]=m.split("?");return(0,x.zd)(p.join("?"))}function xc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ge("no-auth-event")}}function lu(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function Eg(m=(0,x.z$)()){return!("file:"!==lu()&&"ionic:"!==lu()&&"capacitor:"!==lu()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function wg(){try{const m=self.localStorage,h=Br();if(m)return m.setItem(h,"1"),m.removeItem(h),!function jy(m=(0,x.z$)()){return function Qd(){return(0,x.w1)()&&11===document?.documentMode}()||function bg(m=(0,x.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,x.hl)()}catch{return Vs()&&(0,x.hl)()}return!1}function Vs(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function or(){return(function Vy(){return"http:"===lu()||"https:"===lu()}()||(0,x.ru)()||Eg())&&!function By(){return(0,x.b$)()||(0,x.UG)()}()&&wg()&&!Vs()}function Oc(){return Eg()&&typeof document<"u"}function kc(){return(kc=(0,u.Z)(function*(){return!!Oc()&&new Promise(m=>{const h=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),m(!0)})})})).apply(this,arguments)}const _r={LOCAL:"local",NONE:"none",SESSION:"session"},Bs=V,Fc="persistence";function tl(m){return js.apply(this,arguments)}function js(){return(js=(0,u.Z)(function*(m){yield m._initializationPromise;const h=Xd(),p=Mn(Fc,m.config.apiKey,m.name);h&&h.setItem(p,m._getPersistence())})).apply(this,arguments)}function Xd(){var m;try{return(null===(m=function Dg(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const Ii=V;class ai{constructor(){this.browserResolver=se(class gg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ss,this._completeRedirectFn=ht,this._overrideRedirectResult=Cc}_openPopup(h,p,y,T){var R=this;return(0,u.Z)(function*(){var Z;K(null===(Z=R.eventManagers[h._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ae=Sc(h,p,y,Ae(),T);return function rs(m,h,p,y=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),Z=Math.max((window.screen.availWidth-y)/2,0).toString();let ae="";const Re=Object.assign(Object.assign({},nu),{width:y.toString(),height:T.toString(),top:R,left:Z}),$e=(0,x.z$)().toLowerCase();p&&(ae=Wn($e)?"_blank":p),tn($e)&&(h=h||"http://localhost",Re.scrollbars="yes");const ot=Object.entries(Re).reduce((kn,[ui,Mo])=>`${kn}${ui}=${Mo},`,"");if(function Lr(m=(0,x.z$)()){var h;return br(m)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}($e)&&"_self"!==ae)return function Tc(m,h){const p=document.createElement("a");p.href=m,p.target=h;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(y)}(h||"",ae),new Ic(null);const et=window.open(h||"",ae,ot);V(et,m,"popup-blocked");try{et.focus()}catch{}return new Ic(et)}(h,ae,Br())})()}_openRedirect(h,p,y,T){var R=this;return(0,u.Z)(function*(){return yield R._originValidation(h),function jn(m){Gt().location.href=m}(Sc(h,p,y,Ae(),T)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:T,promise:R}=this.eventManagers[p];return T?Promise.resolve(T):(K(R,"If manager is not set, promise should be"),R)}const y=this.initAndGetManager(h);return this.eventManagers[p]={promise:y},y.catch(()=>{delete this.eventManagers[p]}),y}initAndGetManager(h){var p=this;return(0,u.Z)(function*(){const y=yield function $d(m){return ns.apply(this,arguments)}(h),T=new _a(h);return y.register("authEvent",R=>(V(R?.authEvent,h,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:T},p.iframes[h._key()]=y,T})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Gd,{type:Gd},T=>{var R;const Z=null===(R=T?.[0])||void 0===R?void 0:R[Gd];void 0!==Z&&p(!!Z),De(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Bd(m){return jd.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Uo()||Ln()||br()}}),this.cordovaResolver=se(class au{constructor(){this._redirectPersistence=Ss,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ht,this._overrideRedirectResult=Cc}_initialize(h){var p=this;return(0,u.Z)(function*(){const y=h._key();let T=p.eventManagers.get(y);return T||(T=new vg(h),p.eventManagers.set(y,T),p.attachCallbackListeners(h,T)),T})()}_openPopup(h){De(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,y,T){var R=this;return(0,u.Z)(function*(){!function Yd(m){var h,p,y,T,R,Z,ae,Re,$e,ot;const et=So();V("function"==typeof(null===(h=et?.universalLinks)||void 0===h?void 0:h.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V(typeof(null===(p=et?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V("function"==typeof(null===(R=null===(T=null===(y=et?.cordova)||void 0===y?void 0:y.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(Re=null===(ae=null===(Z=et?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Re?void 0:Re.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(ot=null===($e=et?.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===ot?void 0:ot.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Z=yield R._initialize(h);yield Z.initialized(),Z.resetRedirect(),function Mr(){si.clear()}(),yield R._originValidation(h);const ae=function iu(m,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:_f(),postBody:null,tenantId:m.tenantId,error:ge(m,"no-auth-event")}}(h,y,T);yield function su(m,h){return ou()._set(Rc(m),h)}(h,ae);const Re=yield function qd(m,h,p){return is.apply(this,arguments)}(h,ae,p),$e=yield function Kd(m){const{cordova:h}=So();return new Promise(p=>{h.plugins.browsertab.isAvailable(y=>{let T=null;y?h.plugins.browsertab.openUrl(m):T=h.InAppBrowser.open(m,function Un(m=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),p(T)})})}(Re);return function ss(m,h,p){return oi.apply(this,arguments)}(h,Z,$e)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Qa(m){return va.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:y,handleOpenURL:T,BuildInfo:R}=So(),Z=setTimeout((0,u.Z)(function*(){yield Mc(h),p.onEvent(xc())}),500),ae=function(){var ot=(0,u.Z)(function*(et){clearTimeout(Z);const kn=yield Mc(h);let ui=null;kn&&et?.url&&(ui=function Uy(m,h){var p,y;const T=function vf(m){const h=Xa(m),p=h.link?decodeURIComponent(h.link):void 0,y=Xa(p).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Xa(T).link||T||y||p||m}(h);if(T.includes("/__/auth/callback")){const R=Xa(T),Z=R.firebaseError?function yf(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,ae=null===(y=null===(p=Z?.code)||void 0===p?void 0:p.split("auth/"))||void 0===y?void 0:y[1],Re=ae?ge(ae):null;return Re?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:T,postBody:null}}return null}(kn,et.url)),p.onEvent(ui||xc())});return function(kn){return ot.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,ae);const Re=T,$e=`${R.packageName.toLowerCase()}://`;So().handleOpenURL=function(){var ot=(0,u.Z)(function*(et){if(et.toLowerCase().startsWith($e)&&ae({url:et}),"function"==typeof Re)try{Re(et)}catch(kn){console.error(kn)}});return function(et){return ot.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ss,this._completeRedirectFn=ht,this._overrideRedirectResult=Cc}_initialize(h){var p=this;return(0,u.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,y,T){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(h,p,y,T)})()}_openRedirect(h,p,y,T){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(h,p,y,T)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Oc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ii(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,u.Z)(function*(){if(h.underlyingResolver)return;const p=yield function Jd(){return kc.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function Lc(m){return m.unwrap()}function Ig(m){return uu(m)}function uu(m){const{_tokenResponse:h}=m instanceof x.ZR?m.customData:m;if(!h)return null;if(!(m instanceof x.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return wo.credentialFromResult(m);const p=h.providerId;if(!p||"password"===p)return null;let y;switch(p){case"google.com":y=Go;break;case"facebook.com":y=ao;break;case"github.com":y=nc;break;case"twitter.com":y=ic;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:Z,pendingToken:ae,nonce:Re}=h;return R||Z||T||ae?ae?p.startsWith("saml.")?lo._create(p,ae):gi._fromParams({providerId:p,signInMethod:p,pendingToken:ae,idToken:T,accessToken:R}):new oo(p).credential({idToken:T,accessToken:R,rawNonce:Re}):null}return m instanceof x.ZR?y.credentialFromError(m):y.credentialFromResult(m)}function On(m,h){return h.catch(p=>{throw p instanceof x.ZR&&function eh(m,h){var p,y;const T=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null===(y=h)||void 0===y?void 0:y.code))h.resolver=new nh(m,function Bn(m,h){var p;const y=(0,x.m9)(m),T=h;return V(h.customData.operationType,y,"argument-error"),V(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,y,"argument-error"),ta._fromError(y,T)}(m,h));else if(T){const R=uu(h),Z=h;R&&(Z.credential=R,Z.tenantId=T.tenantId||void 0,Z.email=T.email||void 0,Z.phoneNumber=T.phoneNumber||void 0)}}(m,p),p}).then(p=>{const T=p.user;return{operationType:p.operationType,credential:Ig(p),additionalUserInfo:Wa(p),user:li.getOrCreate(T)}})}function th(m,h){return cu.apply(this,arguments)}function cu(){return(cu=(0,u.Z)(function*(m,h){const p=yield h;return{verificationId:p.verificationId,confirm:y=>On(m,p.confirm(y))}})).apply(this,arguments)}class nh{constructor(h,p){this.resolver=p,this.auth=function Uc(m){return m.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return On(Lc(this.auth),this.resolver.resolveSignIn(h))}}class li{constructor(h){this._delegate=h,this.multiFactor=function hc(m){const h=(0,x.m9)(m);return ra.has(h)||ra.set(h,na._fromUser(h)),ra.get(h)}(h)}static getOrCreate(h){return li.USER_MAP.has(h)||li.USER_MAP.set(h,new li(h)),li.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,u.Z)(function*(){return On(p.auth,Fa(p._delegate,h))})()}linkWithPhoneNumber(h,p){var y=this;return(0,u.Z)(function*(){return th(y.auth,function Zl(m,h,p){return bo.apply(this,arguments)}(y._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,u.Z)(function*(){return On(p.auth,function Ql(m,h,p){return Jl.apply(this,arguments)}(p._delegate,h,ai))})()}linkWithRedirect(h){var p=this;return(0,u.Z)(function*(){return yield tl(ln(p.auth)),function Y(m,h,p){return function re(m,h,p){return we.apply(this,arguments)}(m,h,p)}(p._delegate,h,ai)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,u.Z)(function*(){return On(p.auth,Ds(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return th(this.auth,function da(m,h,p){return Ns.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return On(this.auth,function Vd(m,h,p){return pa.apply(this,arguments)}(this._delegate,h,ai))}reauthenticateWithRedirect(h){var p=this;return(0,u.Z)(function*(){return yield tl(ln(p.auth)),function D(m,h,p){return function M(m,h,p){return L.apply(this,arguments)}(m,h,p)}(p._delegate,h,ai)})()}sendEmailVerification(h){return function Bl(m,h){return mo.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,u.Z)(function*(){return yield function Wo(m,h){return _i.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function Rd(m,h){return xn((0,x.m9)(m),h,null)}(this._delegate,h)}updatePassword(h){return function Ga(m,h){return xn((0,x.m9)(m),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Ka(m,h){return vc.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function $a(m,h){return _o.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function Va(m,h,p){return Ba.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}li.USER_MAP=new WeakMap;const Ti=V;let Ea=(()=>{class m{constructor(p,y){if(this.app=p,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=p.options;Ti(T,"invalid-api-key",{appName:p.name}),Ti(T,"invalid-api-key",{appName:p.name});const R=typeof window<"u"?ai:void 0;this._delegate=y.initialize({options:{persistence:Tg(T,p.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(_e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?li.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,y){!function Zn(m,h,p){const y=ln(m);V(y._canInitEmulator,y,"emulator-config-failed"),V(/^https?:\/\//.test(h),y,"invalid-emulator-scheme");const T=!!p?.disableWarnings,R=Bi(h),{host:Z,port:ae}=function pi(m){const h=Bi(m),p=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!p)return{host:"",port:null};const y=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(y);if(T){const R=T[1];return{host:R,port:tr(y.substr(R.length+1))}}{const[R,Z]=y.split(":");return{host:R,port:tr(Z)}}}(h);y.config.emulator={url:`${R}//${Z}${null===ae?"":`:${ae}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:Z,port:ae,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function ji(){function m(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,p,y)}applyActionCode(p){return function qo(m,h){return go.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Ko(this._delegate,p)}confirmPasswordReset(p,y){return function Ir(m,h,p){return zo.apply(this,arguments)}(this._delegate,p,y)}createUserWithEmailAndPassword(p,y){var T=this;return(0,u.Z)(function*(){return On(T._delegate,function Xr(m,h,p){return Yo.apply(this,arguments)}(T._delegate,p,y))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Ua(m,h){return Jo.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Ul(m,h){return"EMAIL_SIGNIN"===Ur.parseLink(h)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,u.Z)(function*(){Ti(or(),p._delegate,"operation-not-supported-in-this-environment");const y=yield function Oe(m,h){return nt.apply(this,arguments)}(p._delegate,ai);return y?On(p._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Nn(m,h){ln(m)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,y,T){const{next:R,error:Z,complete:ae}=bf(p,y,T);return this._delegate.onAuthStateChanged(R,Z,ae)}onIdTokenChanged(p,y,T){const{next:R,error:Z,complete:ae}=bf(p,y,T);return this._delegate.onIdTokenChanged(R,Z,ae)}sendSignInLinkToEmail(p,y){return function Ei(m,h,p){return Ll.apply(this,arguments)}(this._delegate,p,y)}sendPasswordResetEmail(p,y){return function Zo(m,h,p){return Zi.apply(this,arguments)}(this._delegate,p,y||void 0)}setPersistence(p){var y=this;return(0,u.Z)(function*(){let T;switch(function Hy(m,h){Bs(Object.values(_r).includes(h),m,"invalid-persistence-type"),(0,x.b$)()?Bs(h!==_r.SESSION,m,"unsupported-persistence-type"):(0,x.UG)()?Bs(h===_r.NONE,m,"unsupported-persistence-type"):Vs()?Bs(h===_r.NONE||h===_r.LOCAL&&(0,x.hl)(),m,"unsupported-persistence-type"):Bs(h===_r.NONE||wg(),m,"unsupported-persistence-type")}(y._delegate,p),p){case _r.SESSION:T=Ss;break;case _r.LOCAL:T=(yield se(Qi)._isAvailable())?Qi:sa;break;case _r.NONE:T=Ft;break;default:return De("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return On(this._delegate,function oc(m){return Sd.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return On(this._delegate,hn(this._delegate,p))}signInWithCustomToken(p){return On(this._delegate,function Ce(m,h){return Et.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,y){return On(this._delegate,function Is(m,h,p){return hn((0,x.m9)(m),so.credential(h,p))}(this._delegate,p,y))}signInWithEmailLink(p,y){return On(this._delegate,function lc(m,h,p){return Qo.apply(this,arguments)}(this._delegate,p,y))}signInWithPhoneNumber(p,y){return th(this._delegate,function $n(m,h,p){return sr.apply(this,arguments)}(this._delegate,p,y))}signInWithPopup(p){var y=this;return(0,u.Z)(function*(){return Ti(or(),y._delegate,"operation-not-supported-in-this-environment"),On(y._delegate,function Yl(m,h,p){return fa.apply(this,arguments)}(y._delegate,p,ai))})()}signInWithRedirect(p){var y=this;return(0,u.Z)(function*(){return Ti(or(),y._delegate,"operation-not-supported-in-this-environment"),yield tl(y._delegate),function Ec(m,h,p){return function ma(m,h,p){return w.apply(this,arguments)}(m,h,p)}(y._delegate,p,ai)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function zi(m,h){return Dn.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=_r,m})();function bf(m,h,p){let y=m;"function"!=typeof m&&({next:y,error:h,complete:p}=m);const T=y;return{next:Z=>T(Z&&li.getOrCreate(Z)),error:h,complete:p}}function Tg(m,h){const p=function Ef(m,h){const p=Xd();if(!p)return[];const y=Mn(Fc,m,h);switch(p.getItem(y)){case _r.NONE:return[Ft];case _r.LOCAL:return[Qi,Ss];case _r.SESSION:return[Ss];default:return[]}}(m,h);if(typeof self<"u"&&!p.includes(Qi)&&p.push(Qi),typeof window<"u")for(const y of[sa,Ss])p.includes(y)||p.push(y);return p.includes(Ft)||p.push(Ft),p}class rh{constructor(){this.providerId="phone",this._delegate=new wo(Lc(ee.Z.auth()))}static credential(h,p){return wo.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}rh.PHONE_SIGN_IN_METHOD=wo.PHONE_SIGN_IN_METHOD,rh.PROVIDER_ID=wo.PROVIDER_ID;const Ag=V;class ih{constructor(h,p,y=ee.Z.app()){var T;Ag(null===(T=y.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new In(h,p,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function wf(m){m.INTERNAL.registerComponent(new le.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),y=h.getProvider("auth");return new Ea(p,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:so,FacebookAuthProvider:ao,GithubAuthProvider:nc,GoogleAuthProvider:Go,OAuthProvider:oo,SAMLAuthProvider:nr,PhoneAuthProvider:rh,PhoneMultiFactorGenerator:Oy,RecaptchaVerifier:ih,TwitterAuthProvider:ic,Auth:Ea,AuthCredential:Cs,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.19")}(ee.Z)},9751:(Qe,be,O)=>{O.d(be,{y:()=>ce});var u=O(930),ee=O(727),x=O(8822),oe=O(9635),ie=O(2416),ue=O(576),le=O(2806);let ce=(()=>{class Q{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const _e=new Q;return _e.source=this,_e.operator=Ie,_e}subscribe(Ie,_e,We){const pe=function j(Q){return Q&&Q instanceof u.Lv||function B(Q){return Q&&(0,ue.m)(Q.next)&&(0,ue.m)(Q.error)&&(0,ue.m)(Q.complete)}(Q)&&(0,ee.Nn)(Q)}(Ie)?Ie:new u.Hp(Ie,_e,We);return(0,le.x)(()=>{const{operator:de,source:He}=this;pe.add(de?de.call(pe,He):He?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(_e){Ie.error(_e)}}forEach(Ie,_e){return new(_e=he(_e))((We,pe)=>{const de=new u.Hp({next:He=>{try{Ie(He)}catch(Ke){pe(Ke),de.unsubscribe()}},error:pe,complete:We});this.subscribe(de)})}_subscribe(Ie){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Ie)}[x.L](){return this}pipe(...Ie){return(0,oe.U)(Ie)(this)}toPromise(Ie){return new(Ie=he(Ie))((_e,We)=>{let pe;this.subscribe(de=>pe=de,de=>We(de),()=>_e(pe))})}}return Q.create=Pe=>new Q(Pe),Q})();function he(Q){var Pe;return null!==(Pe=Q??ie.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(Qe,be,O)=>{O.d(be,{x:()=>le});var u=O(9751),ee=O(727);const oe=(0,O(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=O(8737),ue=O(2806);let le=(()=>{class he extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Q=new ce(this,this);return Q.operator=j,Q}_throwIfClosed(){if(this.closed)throw new oe}next(j){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(j)}})}error(j){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Q}=this;for(;Q.length;)Q.shift().error(j)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Q,isStopped:Pe,observers:Ie}=this;return Q||Pe?ee.Lc:(this.currentObservers=null,Ie.push(j),new ee.w0(()=>{this.currentObservers=null,(0,ie.P)(Ie,j)}))}_checkFinalizedStatuses(j){const{hasError:Q,thrownError:Pe,isStopped:Ie}=this;Q?j.error(Pe):Ie&&j.complete()}asObservable(){const j=new u.y;return j.source=this,j}}return he.create=(B,j)=>new ce(B,j),he})();class ce extends le{constructor(B,j){super(),this.destination=B,this.source=j}next(B){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Q||Q.call(j,B)}error(B){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Q||Q.call(j,B)}complete(){var B,j;null===(j=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===j||j.call(B)}_subscribe(B){var j,Q;return null!==(Q=null===(j=this.source)||void 0===j?void 0:j.subscribe(B))&&void 0!==Q?Q:ee.Lc}}},930:(Qe,be,O)=>{O.d(be,{Hp:()=>We,Lv:()=>Q});var u=O(576),ee=O(727),x=O(2416),oe=O(7849),ie=O(5032);const ue=he("C",void 0,void 0);function he(De,ge,ve){return{kind:De,value:ge,error:ve}}var B=O(3410),j=O(2806);class Q extends ee.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,ee.Nn)(ge)&&ge.add(this)):this.destination=Ke}static create(ge,ve,Ne){return new We(ge,ve,Ne)}next(ge){this.isStopped?He(function ce(De){return he("N",De,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?He(function le(De){return he("E",void 0,De)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?He(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Ie(De,ge){return Pe.call(De,ge)}class _e{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:ve}=this;if(ve.next)try{ve.next(ge)}catch(Ne){pe(Ne)}}error(ge){const{partialObserver:ve}=this;if(ve.error)try{ve.error(ge)}catch(Ne){pe(Ne)}else pe(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(ve){pe(ve)}}}class We extends Q{constructor(ge,ve,Ne){let ke;if(super(),(0,u.m)(ge)||!ge)ke={next:ge??void 0,error:ve??void 0,complete:Ne??void 0};else{let V;this&&x.v.useDeprecatedNextContext?(V=Object.create(ge),V.unsubscribe=()=>this.unsubscribe(),ke={next:ge.next&&Ie(ge.next,V),error:ge.error&&Ie(ge.error,V),complete:ge.complete&&Ie(ge.complete,V)}):ke=ge}this.destination=new _e(ke)}}function pe(De){x.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(De):(0,oe.h)(De)}function He(De,ge){const{onStoppedNotification:ve}=x.v;ve&&B.z.setTimeout(()=>ve(De,ge))}const Ke={closed:!0,next:ie.Z,error:function de(De){throw De},complete:ie.Z}},727:(Qe,be,O)=>{O.d(be,{Lc:()=>ue,w0:()=>ie,Nn:()=>le});var u=O(576);const x=(0,O(3888).d)(he=>function(j){he(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Q,Pe)=>`${Pe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var oe=O(8737);class ie{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ie of j)Ie.remove(this);else j.remove(this);const{initialTeardown:Q}=this;if((0,u.m)(Q))try{Q()}catch(Ie){B=Ie instanceof x?Ie.errors:[Ie]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Ie of Pe)try{ce(Ie)}catch(_e){B=B??[],_e instanceof x?B=[...B,..._e.errors]:B.push(_e)}}if(B)throw new x(B)}}add(B){var j;if(B&&B!==this)if(this.closed)ce(B);else{if(B instanceof ie){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(B)}}_hasParent(B){const{_parentage:j}=this;return j===B||Array.isArray(j)&&j.includes(B)}_addParent(B){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(B),j):j?[j,B]:B}_removeParent(B){const{_parentage:j}=this;j===B?this._parentage=null:Array.isArray(j)&&(0,oe.P)(j,B)}remove(B){const{_finalizers:j}=this;j&&(0,oe.P)(j,B),B instanceof ie&&B._removeParent(this)}}ie.EMPTY=(()=>{const he=new ie;return he.closed=!0,he})();const ue=ie.EMPTY;function le(he){return he instanceof ie||he&&"closed"in he&&(0,u.m)(he.remove)&&(0,u.m)(he.add)&&(0,u.m)(he.unsubscribe)}function ce(he){(0,u.m)(he)?he():he.unsubscribe()}},2416:(Qe,be,O)=>{O.d(be,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Qe,be,O)=>{O.d(be,{E:()=>ee});const ee=new(O(9751).y)(ie=>ie.complete())},8996:(Qe,be,O)=>{O.d(be,{D:()=>ge});var u=O(8421),ee=O(5363),x=O(9468),ue=O(9751),ce=O(2202),he=O(576),B=O(9672);function Q(ve,Ne){if(!ve)throw new Error("Iterable cannot be null");return new ue.y(ke=>{(0,B.f)(ke,Ne,()=>{const V=ve[Symbol.asyncIterator]();(0,B.f)(ke,Ne,()=>{V.next().then(fe=>{fe.done?ke.complete():ke.next(fe.value)})},0,!0)})})}var Pe=O(3670),Ie=O(8239),_e=O(1144),We=O(6495),pe=O(2206),de=O(4532),He=O(3260);function ge(ve,Ne){return Ne?function De(ve,Ne){if(null!=ve){if((0,Pe.c)(ve))return function oe(ve,Ne){return(0,u.Xf)(ve).pipe((0,x.R)(Ne),(0,ee.Q)(Ne))}(ve,Ne);if((0,_e.z)(ve))return function le(ve,Ne){return new ue.y(ke=>{let V=0;return Ne.schedule(function(){V===ve.length?ke.complete():(ke.next(ve[V++]),ke.closed||this.schedule())})})}(ve,Ne);if((0,Ie.t)(ve))return function ie(ve,Ne){return(0,u.Xf)(ve).pipe((0,x.R)(Ne),(0,ee.Q)(Ne))}(ve,Ne);if((0,pe.D)(ve))return Q(ve,Ne);if((0,We.T)(ve))return function j(ve,Ne){return new ue.y(ke=>{let V;return(0,B.f)(ke,Ne,()=>{V=ve[ce.h](),(0,B.f)(ke,Ne,()=>{let fe,K;try{({value:fe,done:K}=V.next())}catch(J){return void ke.error(J)}K?ke.complete():ke.next(fe)},0,!0)}),()=>(0,he.m)(V?.return)&&V.return()})}(ve,Ne);if((0,He.L)(ve))return function Ke(ve,Ne){return Q((0,He.Q)(ve),Ne)}(ve,Ne)}throw(0,de.z)(ve)}(ve,Ne):(0,u.Xf)(ve)}},8421:(Qe,be,O)=>{O.d(be,{Xf:()=>Pe});var u=O(655),ee=O(1144),x=O(8239),oe=O(9751),ie=O(3670),ue=O(2206),le=O(4532),ce=O(6495),he=O(3260),B=O(576),j=O(7849),Q=O(8822);function Pe(De){if(De instanceof oe.y)return De;if(null!=De){if((0,ie.c)(De))return function Ie(De){return new oe.y(ge=>{const ve=De[Q.L]();if((0,B.m)(ve.subscribe))return ve.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,ee.z)(De))return function _e(De){return new oe.y(ge=>{for(let ve=0;ve<De.length&&!ge.closed;ve++)ge.next(De[ve]);ge.complete()})}(De);if((0,x.t)(De))return function We(De){return new oe.y(ge=>{De.then(ve=>{ge.closed||(ge.next(ve),ge.complete())},ve=>ge.error(ve)).then(null,j.h)})}(De);if((0,ue.D)(De))return de(De);if((0,ce.T)(De))return function pe(De){return new oe.y(ge=>{for(const ve of De)if(ge.next(ve),ge.closed)return;ge.complete()})}(De);if((0,he.L)(De))return function He(De){return de((0,he.Q)(De))}(De)}throw(0,le.z)(De)}function de(De){return new oe.y(ge=>{(function Ke(De,ge){var ve,Ne,ke,V;return(0,u.mG)(this,void 0,void 0,function*(){try{for(ve=(0,u.KL)(De);!(Ne=yield ve.next()).done;)if(ge.next(Ne.value),ge.closed)return}catch(fe){ke={error:fe}}finally{try{Ne&&!Ne.done&&(V=ve.return)&&(yield V.call(ve))}finally{if(ke)throw ke.error}}ge.complete()})})(De,ge).catch(ve=>ge.error(ve))})}},6451:(Qe,be,O)=>{O.d(be,{T:()=>ue});var u=O(8189),ee=O(8421),x=O(515),oe=O(7669),ie=O(8996);function ue(...le){const ce=(0,oe.yG)(le),he=(0,oe._6)(le,1/0),B=le;return B.length?1===B.length?(0,ee.Xf)(B[0]):(0,u.J)(he)((0,ie.D)(B,ce)):x.E}},5403:(Qe,be,O)=>{O.d(be,{x:()=>ee});var u=O(930);function ee(oe,ie,ue,le,ce){return new x(oe,ie,ue,le,ce)}class x extends u.Lv{constructor(ie,ue,le,ce,he,B){super(ie),this.onFinalize=he,this.shouldUnsubscribe=B,this._next=ue?function(j){try{ue(j)}catch(Q){ie.error(Q)}}:super._next,this._error=ce?function(j){try{ce(j)}catch(Q){ie.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(j){ie.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(Qe,be,O)=>{O.d(be,{U:()=>x});var u=O(4482),ee=O(5403);function x(oe,ie){return(0,u.e)((ue,le)=>{let ce=0;ue.subscribe((0,ee.x)(le,he=>{le.next(oe.call(ie,he,ce++))}))})}},8189:(Qe,be,O)=>{O.d(be,{J:()=>x});var u=O(5577),ee=O(4671);function x(oe=1/0){return(0,u.z)(ee.y,oe)}},5577:(Qe,be,O)=>{O.d(be,{z:()=>ce});var u=O(4004),ee=O(8421),x=O(4482),oe=O(9672),ie=O(5403),le=O(576);function ce(he,B,j=1/0){return(0,le.m)(B)?ce((Q,Pe)=>(0,u.U)((Ie,_e)=>B(Q,Ie,Pe,_e))((0,ee.Xf)(he(Q,Pe))),j):("number"==typeof B&&(j=B),(0,x.e)((Q,Pe)=>function ue(he,B,j,Q,Pe,Ie,_e,We){const pe=[];let de=0,He=0,Ke=!1;const De=()=>{Ke&&!pe.length&&!de&&B.complete()},ge=Ne=>de<Q?ve(Ne):pe.push(Ne),ve=Ne=>{Ie&&B.next(Ne),de++;let ke=!1;(0,ee.Xf)(j(Ne,He++)).subscribe((0,ie.x)(B,V=>{Pe?.(V),Ie?ge(V):B.next(V)},()=>{ke=!0},void 0,()=>{if(ke)try{for(de--;pe.length&&de<Q;){const V=pe.shift();_e?(0,oe.f)(B,_e,()=>ve(V)):ve(V)}De()}catch(V){B.error(V)}}))};return he.subscribe((0,ie.x)(B,ge,()=>{Ke=!0,De()})),()=>{We?.()}}(Q,Pe,he,j)))}},5363:(Qe,be,O)=>{O.d(be,{Q:()=>oe});var u=O(9672),ee=O(4482),x=O(5403);function oe(ie,ue=0){return(0,ee.e)((le,ce)=>{le.subscribe((0,x.x)(ce,he=>(0,u.f)(ce,ie,()=>ce.next(he),ue),()=>(0,u.f)(ce,ie,()=>ce.complete(),ue),he=>(0,u.f)(ce,ie,()=>ce.error(he),ue)))})}},3099:(Qe,be,O)=>{O.d(be,{B:()=>ie});var u=O(8421),ee=O(7579),x=O(930),oe=O(4482);function ie(le={}){const{connector:ce=(()=>new ee.x),resetOnError:he=!0,resetOnComplete:B=!0,resetOnRefCountZero:j=!0}=le;return Q=>{let Pe,Ie,_e,We=0,pe=!1,de=!1;const He=()=>{Ie?.unsubscribe(),Ie=void 0},Ke=()=>{He(),Pe=_e=void 0,pe=de=!1},De=()=>{const ge=Pe;Ke(),ge?.unsubscribe()};return(0,oe.e)((ge,ve)=>{We++,!de&&!pe&&He();const Ne=_e=_e??ce();ve.add(()=>{We--,0===We&&!de&&!pe&&(Ie=ue(De,j))}),Ne.subscribe(ve),!Pe&&We>0&&(Pe=new x.Hp({next:ke=>Ne.next(ke),error:ke=>{de=!0,He(),Ie=ue(Ke,he,ke),Ne.error(ke)},complete:()=>{pe=!0,He(),Ie=ue(Ke,B),Ne.complete()}}),(0,u.Xf)(ge).subscribe(Pe))})(Q)}}function ue(le,ce,...he){if(!0===ce)return void le();if(!1===ce)return;const B=new x.Hp({next:()=>{B.unsubscribe(),le()}});return ce(...he).subscribe(B)}},9468:(Qe,be,O)=>{O.d(be,{R:()=>ee});var u=O(4482);function ee(x,oe=0){return(0,u.e)((ie,ue)=>{ue.add(x.schedule(()=>ie.subscribe(ue),oe))})}},8505:(Qe,be,O)=>{O.d(be,{b:()=>ie});var u=O(576),ee=O(4482),x=O(5403),oe=O(4671);function ie(ue,le,ce){const he=(0,u.m)(ue)||le||ce?{next:ue,error:le,complete:ce}:ue;return he?(0,ee.e)((B,j)=>{var Q;null===(Q=he.subscribe)||void 0===Q||Q.call(he);let Pe=!0;B.subscribe((0,x.x)(j,Ie=>{var _e;null===(_e=he.next)||void 0===_e||_e.call(he,Ie),j.next(Ie)},()=>{var Ie;Pe=!1,null===(Ie=he.complete)||void 0===Ie||Ie.call(he),j.complete()},Ie=>{var _e;Pe=!1,null===(_e=he.error)||void 0===_e||_e.call(he,Ie),j.error(Ie)},()=>{var Ie,_e;Pe&&(null===(Ie=he.unsubscribe)||void 0===Ie||Ie.call(he)),null===(_e=he.finalize)||void 0===_e||_e.call(he)}))}):oe.y}},4408:(Qe,be,O)=>{O.d(be,{o:()=>ie});var u=O(727);class ee extends u.w0{constructor(le,ce){super()}schedule(le,ce=0){return this}}const x={setInterval(ue,le,...ce){const{delegate:he}=x;return he?.setInterval?he.setInterval(ue,le,...ce):setInterval(ue,le,...ce)},clearInterval(ue){const{delegate:le}=x;return(le?.clearInterval||clearInterval)(ue)},delegate:void 0};var oe=O(8737);class ie extends ee{constructor(le,ce){super(le,ce),this.scheduler=le,this.work=ce,this.pending=!1}schedule(le,ce=0){if(this.closed)return this;this.state=le;const he=this.id,B=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(B,he,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(B,this.id,ce),this}requestAsyncId(le,ce,he=0){return x.setInterval(le.flush.bind(le,this),he)}recycleAsyncId(le,ce,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ce;x.clearInterval(ce)}execute(le,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(le,ce);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,ce){let B,he=!1;try{this.work(le)}catch(j){he=!0,B=j||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:le,scheduler:ce}=this,{actions:he}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(he,this),null!=le&&(this.id=this.recycleAsyncId(ce,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(Qe,be,O)=>{O.d(be,{v:()=>x});var u=O(6063);class ee{constructor(ie,ue=ee.now){this.schedulerActionCtor=ie,this.now=ue}schedule(ie,ue=0,le){return new this.schedulerActionCtor(this,ie).schedule(le,ue)}}ee.now=u.l.now;class x extends ee{constructor(ie,ue=ee.now){super(ie,ue),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:ue}=this;if(this._active)return void ue.push(ie);let le;this._active=!0;do{if(le=ie.execute(ie.state,ie.delay))break}while(ie=ue.shift());if(this._active=!1,le){for(;ie=ue.shift();)ie.unsubscribe();throw le}}}},4986:(Qe,be,O)=>{O.d(be,{z:()=>x});var u=O(4408);const x=new(O(7565).v)(u.o)},6063:(Qe,be,O)=>{O.d(be,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Qe,be,O)=>{O.d(be,{z:()=>u});const u={setTimeout(ee,x,...oe){const{delegate:ie}=u;return ie?.setTimeout?ie.setTimeout(ee,x,...oe):setTimeout(ee,x,...oe)},clearTimeout(ee){const{delegate:x}=u;return(x?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(Qe,be,O)=>{O.d(be,{h:()=>ee});const ee=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Qe,be,O)=>{O.d(be,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Qe,be,O)=>{O.d(be,{_6:()=>ue,jO:()=>oe,yG:()=>ie});var u=O(576);function x(le){return le[le.length-1]}function oe(le){return(0,u.m)(x(le))?le.pop():void 0}function ie(le){return function ee(le){return le&&(0,u.m)(le.schedule)}(x(le))?le.pop():void 0}function ue(le,ce){return"number"==typeof x(le)?le.pop():ce}},8737:(Qe,be,O)=>{function u(ee,x){if(ee){const oe=ee.indexOf(x);0<=oe&&ee.splice(oe,1)}}O.d(be,{P:()=>u})},3888:(Qe,be,O)=>{function u(ee){const oe=ee(ie=>{Error.call(ie),ie.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}O.d(be,{d:()=>u})},2806:(Qe,be,O)=>{O.d(be,{O:()=>oe,x:()=>x});var u=O(2416);let ee=null;function x(ie){if(u.v.useDeprecatedSynchronousErrorHandling){const ue=!ee;if(ue&&(ee={errorThrown:!1,error:null}),ie(),ue){const{errorThrown:le,error:ce}=ee;if(ee=null,le)throw ce}}else ie()}function oe(ie){u.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=ie)}},9672:(Qe,be,O)=>{function u(ee,x,oe,ie=0,ue=!1){const le=x.schedule(function(){oe(),ue?ee.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(ee.add(le),!ue)return le}O.d(be,{f:()=>u})},4671:(Qe,be,O)=>{function u(ee){return ee}O.d(be,{y:()=>u})},1144:(Qe,be,O)=>{O.d(be,{z:()=>u});const u=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(Qe,be,O)=>{O.d(be,{D:()=>ee});var u=O(576);function ee(x){return Symbol.asyncIterator&&(0,u.m)(x?.[Symbol.asyncIterator])}},576:(Qe,be,O)=>{function u(ee){return"function"==typeof ee}O.d(be,{m:()=>u})},3670:(Qe,be,O)=>{O.d(be,{c:()=>x});var u=O(8822),ee=O(576);function x(oe){return(0,ee.m)(oe[u.L])}},6495:(Qe,be,O)=>{O.d(be,{T:()=>x});var u=O(2202),ee=O(576);function x(oe){return(0,ee.m)(oe?.[u.h])}},8239:(Qe,be,O)=>{O.d(be,{t:()=>ee});var u=O(576);function ee(x){return(0,u.m)(x?.then)}},3260:(Qe,be,O)=>{O.d(be,{L:()=>oe,Q:()=>x});var u=O(655),ee=O(576);function x(ie){return(0,u.FC)(this,arguments,function*(){const le=ie.getReader();try{for(;;){const{value:ce,done:he}=yield(0,u.qq)(le.read());if(he)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ce)}}finally{le.releaseLock()}})}function oe(ie){return(0,ee.m)(ie?.getReader)}},4482:(Qe,be,O)=>{O.d(be,{A:()=>ee,e:()=>x});var u=O(576);function ee(oe){return(0,u.m)(oe?.lift)}function x(oe){return ie=>{if(ee(ie))return ie.lift(function(ue){try{return oe(ue,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Qe,be,O)=>{function u(){}O.d(be,{Z:()=>u})},9635:(Qe,be,O)=>{O.d(be,{U:()=>x,z:()=>ee});var u=O(4671);function ee(...oe){return x(oe)}function x(oe){return 0===oe.length?u.y:1===oe.length?oe[0]:function(ue){return oe.reduce((le,ce)=>ce(le),ue)}}},7849:(Qe,be,O)=>{O.d(be,{h:()=>x});var u=O(2416),ee=O(3410);function x(oe){ee.z.setTimeout(()=>{const{onUnhandledError:ie}=u.v;if(!ie)throw oe;ie(oe)})}},4532:(Qe,be,O)=>{function u(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(be,{z:()=>u})},655:(Qe,be,O)=>{function oe(K,J){var se={};for(var ne in K)Object.prototype.hasOwnProperty.call(K,ne)&&J.indexOf(ne)<0&&(se[ne]=K[ne]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(ne=Object.getOwnPropertySymbols(K);Me<ne.length;Me++)J.indexOf(ne[Me])<0&&Object.prototype.propertyIsEnumerable.call(K,ne[Me])&&(se[ne[Me]]=K[ne[Me]])}return se}function ce(K,J,se,ne){return new(se||(se=Promise))(function(Ae,tt){function Pt(Ht){try{Fe(ne.next(Ht))}catch(pn){tt(pn)}}function It(Ht){try{Fe(ne.throw(Ht))}catch(pn){tt(pn)}}function Fe(Ht){Ht.done?Ae(Ht.value):function Me(Ae){return Ae instanceof se?Ae:new se(function(tt){tt(Ae)})}(Ht.value).then(Pt,It)}Fe((ne=ne.apply(K,J||[])).next())})}function pe(K){return this instanceof pe?(this.v=K,this):new pe(K)}function de(K,J,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,ne=se.apply(K,J||[]),Ae=[];return Me={},tt("next"),tt("throw"),tt("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function tt(Nt){ne[Nt]&&(Me[Nt]=function(Ot){return new Promise(function(Xn,_t){Ae.push([Nt,Ot,Xn,_t])>1||Pt(Nt,Ot)})})}function Pt(Nt,Ot){try{!function It(Nt){Nt.value instanceof pe?Promise.resolve(Nt.value.v).then(Fe,Ht):pn(Ae[0][2],Nt)}(ne[Nt](Ot))}catch(Xn){pn(Ae[0][3],Xn)}}function Fe(Nt){Pt("next",Nt)}function Ht(Nt){Pt("throw",Nt)}function pn(Nt,Ot){Nt(Ot),Ae.shift(),Ae.length&&Pt(Ae[0][0],Ae[0][1])}}function Ke(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,J=K[Symbol.asyncIterator];return J?J.call(K):(K=function Q(K){var J="function"==typeof Symbol&&Symbol.iterator,se=J&&K[J],ne=0;if(se)return se.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&ne>=K.length&&(K=void 0),{value:K&&K[ne++],done:!K}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),se={},ne("next"),ne("throw"),ne("return"),se[Symbol.asyncIterator]=function(){return this},se);function ne(Ae){se[Ae]=K[Ae]&&function(tt){return new Promise(function(Pt,It){!function Me(Ae,tt,Pt,It){Promise.resolve(It).then(function(Fe){Ae({value:Fe,done:Pt})},tt)}(Pt,It,(tt=K[Ae](tt)).done,tt.value)})}}}O.d(be,{FC:()=>de,KL:()=>Ke,_T:()=>oe,mG:()=>ce,qq:()=>pe})},4650:(Qe,be,O)=>{O.d(be,{$8M:()=>Qi,$Z:()=>rm,AFp:()=>ZE,AaK:()=>ce,CHM:()=>Wi,CRH:()=>fd,CZH:()=>Hp,CqO:()=>pC,D6c:()=>I0,EJc:()=>mD,EpF:()=>Fm,F4k:()=>Lm,FYo:()=>ot,FiY:()=>re,G48:()=>RD,GfV:()=>Mo,GkF:()=>Sh,Gpc:()=>j,JOm:()=>yr,KtG:()=>po,LFG:()=>rn,LSH:()=>Nc,Lbi:()=>vd,Lck:()=>Bw,MAs:()=>Zs,MMx:()=>wp,NdJ:()=>Um,OlP:()=>it,Oqu:()=>sp,PXZ:()=>n0,Q6J:()=>cr,QGY:()=>qn,QP$:()=>Dl,Qsj:()=>et,R0b:()=>Or,RDi:()=>hg,Rgc:()=>qh,SBq:()=>ae,Sil:()=>oy,Suo:()=>G_,TTD:()=>so,TgZ:()=>Xf,VKq:()=>dE,W1O:()=>pd,X6Q:()=>MD,XFs:()=>rt,Xpm:()=>U,Xts:()=>or,Y36:()=>vu,YKP:()=>rE,YNc:()=>nd,Yjl:()=>Mn,Yz7:()=>Ot,ZZ4:()=>Zr,_Bn:()=>nE,_UZ:()=>us,_Vd:()=>T,_c5:()=>GD,_uU:()=>AC,aQg:()=>vy,c2e:()=>Gp,cJS:()=>_t,cg1:()=>ds,dDg:()=>cy,dqk:()=>Ve,eFA:()=>o0,ekj:()=>Xm,eoX:()=>e0,f3M:()=>Ec,g9A:()=>KE,h0i:()=>dd,hGG:()=>D0,hij:()=>Nh,iGM:()=>$_,ifc:()=>Ze,ip1:()=>sy,kL8:()=>hs,lG2:()=>Ft,lqb:()=>On,lri:()=>JE,n5z:()=>ua,oAB:()=>xe,oxw:()=>ku,q4F:()=>nl,qLn:()=>Vc,qOj:()=>Yf,qZA:()=>ls,rWj:()=>XE,s9C:()=>Bm,sBO:()=>Qs,sIi:()=>Su,s_b:()=>Ys,soG:()=>xa,tb:()=>Pa,tp0:()=>Oe,uIk:()=>Ws,vHH:()=>_e,vpe:()=>ps,wAp:()=>ut,xp6:()=>_b,z2F:()=>Kp,zSh:()=>Lc,zs3:()=>mu});var u=O(7579),ee=O(727),x=O(9751),oe=O(6451),ie=O(3099);function ue(r){for(let s in r)if(r[s]===ue)return s;throw Error("Could not find renamed property on target object.")}function le(r,s){for(const o in s)s.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=s[o])}function ce(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ce).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function he(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const B=ue({__forward_ref__:ue});function j(r){return r.__forward_ref__=j,r.toString=function(){return ce(this())},r}function Q(r){return Pe(r)?r():r}function Pe(r){return"function"==typeof r&&r.hasOwnProperty(B)&&r.__forward_ref__===j}class _e extends Error{constructor(s,o){super(function We(r,s){return`NG0${Math.abs(r)}${s?": "+s.trim():""}`}(s,o)),this.code=s}}function pe(r){return"string"==typeof r?r:null==r?"":String(r)}function ge(r,s){throw new _e(-201,!1)}function It(r,s){null==r&&function Fe(r,s,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,r,null,"!=")}function Ot(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function _t(r){return{providers:r.providers||[],imports:r.imports||[]}}function $t(r){return vs(r,zr)||vs(r,Er)}function vs(r,s){return r.hasOwnProperty(s)?r[s]:null}function er(r){return r&&(r.hasOwnProperty(fi)||r.hasOwnProperty(kr))?r[fi]:null}const zr=ue({\u0275prov:ue}),fi=ue({\u0275inj:ue}),Er=ue({ngInjectableDef:ue}),kr=ue({ngInjectorDef:ue});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let Qt;function gn(r){const s=Qt;return Qt=r,s}function qr(r,s,o){const l=$t(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&rt.Optional?null:void 0!==s?s:void ge(ce(r))}function dn(r){return{toString:r}.toString()}var Xt=(()=>((Xt=Xt||{})[Xt.OnPush=0]="OnPush",Xt[Xt.Default=1]="Default",Xt))(),Ze=(()=>{return(r=Ze||(Ze={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Ze;var r})();const Ve=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),en={},vt=[],bn=ue({\u0275cmp:ue}),Li=ue({\u0275dir:ue}),kt=ue({\u0275pipe:ue}),Yr=ue({\u0275mod:ue}),wt=ue({\u0275fac:ue}),q=ue({__NG_ELEMENT_ID__:ue});let H=0;function U(r){return dn(()=>{const o=!0===r.standalone,l={},d={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Xt.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||vt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Ze.Emulated,id:"c"+H++,styles:r.styles||vt,_:null,setInput:null,schemas:r.schemas||null,tView:null},f=r.dependencies,_=r.features;return d.inputs=Zt(r.inputs,l),d.outputs=Zt(r.outputs),_&&_.forEach(C=>C(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(W).filter(Ee):null,d.pipeDefs=f?()=>("function"==typeof f?f():f).map(tn).filter(Ee):null,d})}function W(r){return ze(r)||zt(r)}function Ee(r){return null!==r}function xe(r){return dn(()=>({type:r.type,bootstrap:r.bootstrap||vt,declarations:r.declarations||vt,imports:r.imports||vt,exports:r.exports||vt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Zt(r,s){if(null==r)return en;const o={};for(const l in r)if(r.hasOwnProperty(l)){let d=r[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),o[d]=l,s&&(s[d]=f)}return o}const Ft=U;function Mn(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function ze(r){return r[bn]||null}function zt(r){return r[Li]||null}function tn(r){return r[kt]||null}function Ln(r,s){const o=r[Yr]||null;if(!o&&!0===s)throw new Error(`Type ${ce(r)} does not have '\u0275mod' property.`);return o}function wn(r){return Array.isArray(r)&&"object"==typeof r[1]}function hr(r){return Array.isArray(r)&&!0===r[1]}function ro(r){return 0!=(8&r.flags)}function Es(r){return 2==(2&r.flags)}function Ho(r){return 1==(1&r.flags)}function wr(r){return null!==r.template}function rf(r){return 0!=(256&r[2])}function Ur(r,s){return r.hasOwnProperty(wt)?r[wt]:null}class tc{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function so(){return Jr}function Jr(r){return r.type.prototype.ngOnChanges&&(r.setInput=oo),bs}function bs(){const r=Go(this),s=r?.current;if(s){const o=r.previous;if(o===en)r.previous=s;else for(let l in s)o[l]=s[l];r.current=null,this.ngOnChanges(s)}}function oo(r,s,o,l){const d=Go(r)||function nc(r,s){return r[ao]=s}(r,{previous:en,current:null}),f=d.current||(d.current={}),_=d.previous,C=this.declaredInputs[o],E=_[C];f[C]=new tc(E&&E.currentValue,s,_===en),r[l]=s}so.ngInherit=!0;const ao="__ngSimpleChanges__";function Go(r){return r[ao]||null}function yn(r){for(;Array.isArray(r);)r=r[0];return r}function ws(r,s){return yn(s[r])}function fr(r,s){return yn(s[r.index])}function Wo(r,s){return r.data[s]}function Vn(r,s){const o=s[r];return wn(o)?o:o[0]}function co(r){return 4==(4&r[2])}function Vr(r){return 64==(64&r[2])}function vi(r,s){return null==s?null:r[s]}function Ci(r){r[18]=0}function ho(r,s){r[5]+=s;let o=r,l=r[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const lt={lFrame:ja(null),bindingsEnabled:!0};function Gi(){return lt.bindingsEnabled}function Ce(){return lt.lFrame.lView}function Et(){return lt.lFrame.tView}function Wi(r){return lt.lFrame.contextLView=r,r[8]}function po(r){return lt.lFrame.contextLView=null,r}function nn(){let r=Zo();for(;null!==r&&64===r.type;)r=r.parent;return r}function Zo(){return lt.lFrame.currentTNode}function Ir(r,s){const o=lt.lFrame;o.currentTNode=r,o.isParent=s}function zo(){return lt.lFrame.isParent}function qo(){lt.lFrame.isParent=!1}function Is(){return lt.lFrame.bindingIndex++}function lc(r,s){const o=lt.lFrame;o.bindingIndex=o.bindingRootIndex=r,Vl(s)}function Vl(r){lt.lFrame.currentDirectiveIndex=r}function Ua(){return lt.lFrame.currentQueryIndex}function Jo(r){lt.lFrame.currentQueryIndex=r}function Bl(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function mo(r,s,o){if(o&rt.SkipSelf){let d=s,f=r;for(;!(d=d.parent,null!==d||o&rt.Host||(d=Bl(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,r=f}const l=lt.lFrame=Ba();return l.currentTNode=s,l.lView=r,!0}function Va(r){const s=Ba(),o=r[1];lt.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Ba(){const r=lt.lFrame,s=null===r?null:r.child;return null===s?ja(r):s}function ja(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Ha(){const r=lt.lFrame;return lt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const $a=Ha;function _o(){const r=Ha();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function xn(){return lt.lFrame.selectedIndex}function Tr(r){lt.lFrame.selectedIndex=r}function un(){const r=lt.lFrame;return Wo(r.tView,r.selectedIndex)}function Wa(r,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const f=r.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:S}=f;_&&(r.contentHooks||(r.contentHooks=[])).push(-o,_),C&&((r.contentHooks||(r.contentHooks=[])).push(o,C),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,C)),E&&(r.viewHooks||(r.viewHooks=[])).push(-o,E),I&&((r.viewHooks||(r.viewHooks=[])).push(o,I),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,I)),null!=S&&(r.destroyHooks||(r.destroyHooks=[])).push(o,S)}}function xd(r,s,o){As(r,s,3,o)}function Nd(r,s,o,l){(3&r[2])===o&&As(r,s,o,l)}function ea(r,s){let o=r[2];(3&o)===s&&(o&=2047,o+=1,r[2]=o)}function As(r,s,o,l){const f=l??-1,_=s.length-1;let C=0;for(let E=void 0!==l?65535&r[18]:0;E<_;E++)if("number"==typeof s[E+1]){if(C=s[E],null!=l&&C>=l)break}else s[E]<0&&(r[18]+=65536),(C<f||-1==f)&&(sg(r,o,s,E),r[18]=(4294901760&r[18])+E+2),E++}function sg(r,s,o,l){const d=o[l]<0,f=o[l+1],C=r[d?-o[l]:o[l]];if(d){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{f.call(C)}finally{}}}else try{f.call(C)}finally{}}class yo{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function na(r,s,o){let l=0;for(;l<o.length;){const d=o[l];if("number"==typeof d){if(0!==d)break;l++;const f=o[l++],_=o[l++],C=o[l++];r.setAttribute(s,_,C,f)}else{const f=d,_=o[++l];hc(f)?r.setProperty(s,f,_):r.setAttribute(s,f,_),l++}}return l}function ra(r){return 3===r||4===r||6===r}function hc(r){return 64===r.charCodeAt(0)}function qi(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?o=d:0===o||fc(r,o,d,null,-1===o||2===o?s[++l]:null)}}return r}function fc(r,s,o,l,d){let f=0,_=r.length;if(-1===s)_=-1;else for(;f<r.length;){const C=r[f++];if("number"==typeof C){if(C===s){_=-1;break}if(C>s){_=f-1;break}}}for(;f<r.length;){const C=r[f];if("number"==typeof C)break;if(C===o){if(null===l)return void(null!==d&&(r[f+1]=d));if(l===r[f+1])return void(r[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==_&&(r.splice(_,0,s),f=_+1),r.splice(f++,0,o),null!==l&&r.splice(f++,0,l),null!==d&&r.splice(f++,0,d)}function Fd(r){return-1!==r}function ia(r){return 32767&r}function zn(r,s){let o=function cf(r){return r>>16}(r),l=s;for(;o>0;)l=l[15],o--;return l}let sa=!0;function pc(r){const s=sa;return sa=r,s}let Br=0;const Be={};function jn(r,s){const o=Ki(r,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(r.injectorIndex=s.length,vo(l.data,r),vo(s,null),vo(l.blueprint,null));const d=Hn(r,s),f=r.injectorIndex;if(Fd(d)){const _=ia(d),C=zn(d,s),E=C[1].data;for(let I=0;I<8;I++)s[f+I]=C[_+I]|E[_+I]}return s[f+8]=d,f}function vo(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Ki(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Hn(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,d=s;for(;null!==d;){if(l=Rs(d),null===l)return-1;if(o++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Za(r,s,o){!function Gt(r,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(q)&&(l=o[q]),null==l&&(l=o[q]=Br++);const d=255&l;s.data[r+(d>>5)]|=1<<d}(r,s,o)}function oa(r,s,o){if(o&rt.Optional)return r;ge()}function mc(r,s,o,l){if(o&rt.Optional&&void 0===l&&(l=null),0==(o&(rt.Self|rt.Host))){const d=r[9],f=gn(void 0);try{return d?d.get(s,l,o&rt.Optional):qr(s,l,o&rt.Optional)}finally{gn(f)}}return oa(l,0,o)}function Yi(r,s,o,l=rt.Default,d){if(null!==r){if(1024&s[2]){const _=function _c(r,s,o,l,d){let f=r,_=s;for(;null!==f&&null!==_&&1024&_[2]&&!(256&_[2]);){const C=$l(f,_,o,l|rt.Self,Be);if(C!==Be)return C;let E=f.parent;if(!E){const I=_[21];if(I){const S=I.get(o,Be,l);if(S!==Be)return S}E=Rs(_),_=_[15]}f=E}return d}(r,s,o,l,Be);if(_!==Be)return _}const f=$l(r,s,o,l,Be);if(f!==Be)return f}return mc(s,o,l,d)}function $l(r,s,o,l,d){const f=function Gl(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(q)?r[q]:void 0;return"number"==typeof s?s>=0?255&s:la:s}(o);if("function"==typeof f){if(!mo(s,r,l))return l&rt.Host?oa(d,0,l):mc(s,o,l,d);try{const _=f(l);if(null!=_||l&rt.Optional)return _;ge()}finally{$a()}}else if("number"==typeof f){let _=null,C=Ki(r,s),E=-1,I=l&rt.Host?s[16][6]:null;for((-1===C||l&rt.SkipSelf)&&(E=-1===C?Hn(r,s):s[C+8],-1!==E&&aa(l,!1)?(_=s[1],C=ia(E),s=zn(E,s)):C=-1);-1!==C;){const S=s[1];if(Co(f,C,S.data)){const P=Ar(C,s,o,_,l,I);if(P!==Be)return P}E=s[C+8],-1!==E&&aa(l,s[1].data[C+8]===I)&&Co(f,C,s)?(_=S,C=ia(E),s=zn(E,s)):C=-1}}return d}function Ar(r,s,o,l,d,f){const _=s[1],C=_.data[r+8],S=Je(C,_,o,null==l?Es(C)&&sa:l!=_&&0!=(3&C.type),d&rt.Host&&f===C);return null!==S?Ms(s,_,S,C):Be}function Je(r,s,o,l,d){const f=r.providerIndexes,_=s.data,C=1048575&f,E=r.directiveStart,S=f>>20,G=d?C+S:r.directiveEnd;for(let X=l?C:C+S;X<G;X++){const ye=_[X];if(X<E&&o===ye||X>=E&&ye.type===o)return X}if(d){const X=_[E];if(X&&wr(X)&&X.type===o)return E}return null}function Ms(r,s,o,l){let d=r[o];const f=s.data;if(function Od(r){return r instanceof yo}(d)){const _=d;_.resolving&&function He(r,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new _e(-200,`Circular dependency in DI detected for ${r}${o}`)}(function de(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():pe(r)}(f[o]));const C=pc(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?gn(_.injectImpl):null;mo(r,l,rt.Default);try{d=r[o]=_.factory(void 0,f,r,l),s.firstCreatePass&&o>=l.directiveStart&&function Hl(r,s,o){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(l){const _=Jr(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,_)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,d),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,f))}(o,f[o],s)}finally{null!==E&&gn(E),pc(C),_.resolving=!1,$a()}}return d}function Co(r,s,o){return!!(o[s+(r>>5)]&1<<r)}function aa(r,s){return!(r&rt.Self||r&rt.Host&&s)}class Kt{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return Yi(this._tNode,this._lView,s,l,o)}}function la(){return new Kt(nn(),Ce())}function ua(r){return dn(()=>{const s=r.prototype.constructor,o=s[wt]||za(s),l=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==l;){const f=d[wt]||za(d);if(f&&f!==o)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function za(r){return Pe(r)?()=>{const s=za(Q(r));return s&&s()}:Ur(r)}function Rs(r){const s=r[1],o=s.type;return 2===o?s.declTNode:1===o?r[6]:null}function Qi(r){return function Ld(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const l=o.length;let d=0;for(;d<l;){const f=o[d];if(ra(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof o[d];)d++;else{if(f===s)return o[d+1];d+=2}}}return null}(nn(),r)}const ri="__parameters__";function rr(r,s,o){return dn(()=>{const l=function Eo(r){return function(...o){if(r){const l=r(...o);for(const d in l)this[d]=l[d]}}}(s);function d(...f){if(this instanceof d)return l.apply(this,f),this;const _=new d(...f);return C.annotation=_,C;function C(E,I,S){const P=E.hasOwnProperty(ri)?E[ri]:Object.defineProperty(E,ri,{value:[]})[ri];for(;P.length<=S;)P.push(null);return(P[S]=P[S]||[]).push(_),E}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class it{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ot({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $n(r,s){void 0===s&&(s=r);for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?(s===r&&(s=r.slice(0,o)),$n(l,s)):s!==r&&s.push(l)}return s}function sr(r,s){r.forEach(o=>Array.isArray(o)?sr(o,s):s(o))}function Zl(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function bo(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Lt(r,s,o){let l=Os(r,s);return l>=0?r[1|l]=o:(l=~l,function zl(r,s,o,l){let d=r.length;if(d==s)r.push(o,l);else if(1===d)r.push(l,r[0]),r[0]=o;else{for(d--,r.push(r[d-1],r[d]);d>s;)r[d]=r[d-2],d--;r[s]=o,r[s+1]=l}}(r,l,s,o)),l}function Do(r,s){const o=Os(r,s);if(o>=0)return r[1|o]}function Os(r,s){return function Kl(r,s,o){let l=0,d=r.length>>o;for(;d!==l;){const f=l+(d-l>>1),_=r[f<<o];if(s===_)return f<<o;_>s?d=f:l=f+1}return~(d<<o)}(r,s,1)}const ks={},Di="__NG_DI_FLAG__",si="ngTempTokenPath",Fs=/\n/gm,Xi="__source";let pr;function Mr(r){const s=pr;return pr=r,s}function Cc(r,s=rt.Default){if(void 0===pr)throw new _e(-203,!1);return null===pr?qr(r,void 0,s):pr.get(r,s&rt.Optional?null:void 0,s)}function rn(r,s=rt.Default){return(function Fr(){return Qt}()||Cc)(Q(r),s)}function Ec(r,s=rt.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),rn(r,s)}function ma(r){const s=[];for(let o=0;o<r.length;o++){const l=Q(r[o]);if(Array.isArray(l)){if(0===l.length)throw new _e(900,!1);let d,f=rt.Default;for(let _=0;_<l.length;_++){const C=l[_],E=D(C);"number"==typeof E?-1===E?d=C.token:f|=E:d=C}s.push(rn(d,f))}else s.push(rn(l))}return s}function w(r,s){return r[Di]=s,r.prototype[Di]=s,r}function D(r){return r[Di]}const re=w(rr("Optional"),8),Oe=w(rr("SkipSelf"),4);let To;function hg(r){To=r}class Ao{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Us(r){return r instanceof Ao?r.changingThisBreaksApplicationSecurity:r}const qd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qa=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Nn=(()=>((Nn=Nn||{})[Nn.NONE=0]="NONE",Nn[Nn.HTML=1]="HTML",Nn[Nn.STYLE=2]="STYLE",Nn[Nn.SCRIPT=3]="SCRIPT",Nn[Nn.URL=4]="URL",Nn[Nn.RESOURCE_URL=5]="RESOURCE_URL",Nn))();function Nc(r){const s=function Vs(){const r=Ce();return r&&r[12]}();return s?s.sanitize(Nn.URL,r)||"":function ru(r,s){const o=function Wd(r){return r instanceof Ao&&r.getTypeName()||null}(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}(r,"URL")?Us(r):function va(r){return(r=String(r)).match(qd)||r.match(Qa)?r:"unsafe:"+r}(pe(r))}const or=new it("ENVIRONMENT_INITIALIZER"),Oc=new it("INJECTOR",-1),Jd=new it("INJECTOR_DEF_TYPES");class kc{get(s,o=ks){if(o===ks){const l=new Error(`NullInjectorError: No provider for ${ce(s)}!`);throw l.name="NullInjectorError",l}return o}}function Dg(...r){return{\u0275providers:_r(0,r)}}function _r(r,...s){const o=[],l=new Set;let d;return sr(s,f=>{const _=f;Fc(_,o,[],l)&&(d||(d=[]),d.push(_))}),void 0!==d&&Bs(d,o),o}function Bs(r,s){for(let o=0;o<r.length;o++){const{providers:d}=r[o];sr(d,f=>{s.push(f)})}}function Fc(r,s,o,l){if(!(r=Q(r)))return!1;let d=null,f=er(r);const _=!f&&ze(r);if(f||_){if(_&&!_.standalone)return!1;d=r}else{const E=r.ngModule;if(f=er(E),!f)return!1;d=E}const C=l.has(d);if(_){if(C)return!1;if(l.add(d),_.dependencies){const E="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const I of E)Fc(I,s,o,l)}}else{if(!f)return!1;{if(null!=f.imports&&!C){let I;l.add(d);try{sr(f.imports,S=>{Fc(S,s,o,l)&&(I||(I=[]),I.push(S))})}finally{}void 0!==I&&Bs(I,s)}if(!C){const I=Ur(d)||(()=>new d);s.push({provide:d,useFactory:I,deps:vt},{provide:Jd,useValue:d,multi:!0},{provide:or,useValue:()=>rn(d),multi:!0})}const E=f.providers;null==E||C||sr(E,S=>{s.push(S)})}}return d!==r&&void 0!==r.providers}const tl=ue({provide:String,useValue:ue});function js(r){return null!==r&&"object"==typeof r&&tl in r}function Ii(r){return"function"==typeof r}const Lc=new it("Set Injector scope."),Uc={},Ig={};let eh;function uu(){return void 0===eh&&(eh=new kc),eh}class On{}class th extends On{constructor(s,o,l,d){super(),this.parent=o,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ih(s,_=>this.processProvider(_)),this.records.set(Oc,Ea(void 0,this)),d.has("environment")&&this.records.set(On,Ea(void 0,this));const f=this.records.get(Lc);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Jd.multi,vt,rt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=Mr(this),l=gn(void 0);try{return s()}finally{Mr(o),gn(l)}}get(s,o=ks,l=rt.Default){this.assertNotDestroyed();const d=Mr(this),f=gn(void 0);try{if(!(l&rt.SkipSelf)){let C=this.records.get(s);if(void 0===C){const E=function rh(r){return"function"==typeof r||"object"==typeof r&&r instanceof it}(s)&&$t(s);C=E&&this.injectableDefInScope(E)?Ea(cu(s),Uc):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(l&rt.Self?uu():this.parent).get(s,o=l&rt.Optional&&o===ks?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[si]=_[si]||[]).unshift(ce(s)),d)throw _;return function M(r,s,o,l){const d=r[si];throw s[Xi]&&d.unshift(s[Xi]),r.message=function L(r,s,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let d=ce(s);if(Array.isArray(s))d=s.map(ce).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let C=s[_];f.push(_+":"+("string"==typeof C?JSON.stringify(C):ce(C)))}d=`{${f.join(", ")}}`}return`${o}${l?"("+l+")":""}[${d}]: ${r.replace(Fs,"\n  ")}`}("\n"+r.message,d,o,l),r.ngTokenPath=d,r[si]=null,r}(_,s,"R3InjectorError",this.source)}throw _}finally{gn(f),Mr(d)}}resolveInjectorInitializers(){const s=Mr(this),o=gn(void 0);try{const l=this.get(or.multi,vt,rt.Self);for(const d of l)d()}finally{Mr(s),gn(o)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(ce(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(s){let o=Ii(s=Q(s))?s:Q(s&&s.provide);const l=function li(r){return js(r)?Ea(void 0,r.useValue):Ea(Ti(r),Uc)}(s);if(Ii(s)||!0!==s.multi)this.records.get(o);else{let d=this.records.get(o);d||(d=Ea(void 0,Uc,!0),d.factory=()=>ma(d.multi),this.records.set(o,d)),o=s,d.multi.push(s)}this.records.set(o,l)}hydrate(s,o){return o.value===Uc&&(o.value=Ig,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Tg(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=Q(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function cu(r){const s=$t(r),o=null!==s?s.factory:Ur(r);if(null!==o)return o;if(r instanceof it)throw new _e(204,!1);if(r instanceof Function)return function nh(r){const s=r.length;if(s>0)throw function da(r,s){const o=[];for(let l=0;l<r;l++)o.push(s);return o}(s,"?"),new _e(204,!1);const o=function Cr(r){const s=r&&(r[zr]||r[Er]);if(s){const o=function Qn(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new _e(204,!1)}function Ti(r,s,o){let l;if(Ii(r)){const d=Q(r);return Ur(d)||cu(d)}if(js(r))l=()=>Q(r.useValue);else if(function Xd(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...ma(r.deps||[]));else if(function Ef(r){return!(!r||!r.useExisting)}(r))l=()=>rn(Q(r.useExisting));else{const d=Q(r&&(r.useClass||r.provide));if(!function bf(r){return!!r.deps}(r))return Ur(d)||cu(d);l=()=>new d(...ma(r.deps))}return l}function Ea(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function Ag(r){return!!r.\u0275providers}function ih(r,s){for(const o of r)Array.isArray(o)?ih(o,s):Ag(o)?ih(o.\u0275providers,s):s(o)}class wf{}class y{resolveComponentFactory(s){throw function m(r){const s=Error(`No component factory found for ${ce(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let T=(()=>{class r{}return r.NULL=new y,r})();function R(){return Z(nn(),Ce())}function Z(r,s){return new ae(fr(r,s))}let ae=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=R,r})();function Re(r){return r instanceof ae?r.nativeElement:r}class ot{}let et=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function kn(){const r=Ce(),o=Vn(nn().index,r);return(wn(o)?o:r)[11]}(),r})(),ui=(()=>{class r{}return r.\u0275prov=Ot({token:r,providedIn:"root",factory:()=>null}),r})();class Mo{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const nl=new Mo("14.1.3"),rl={};function Tf(r){return r.ngOriginalError}class Vc{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&Tf(s);for(;o&&Tf(o);)o=Tf(o);return o||null}}const Af=new Map;let kg=0;const Mf="__ngContext__";function ar(r,s){wn(s)?(r[Mf]=s[20],function Qy(r){Af.set(r[20],r)}(s)):r[Mf]=s}function fu(r){const s=r[Mf];return"number"==typeof s?function Z0(r){return Af.get(r)||null}(s):s||null}function Lg(r){const s=fu(r);return s?wn(s)?s:s.lView:null}const J0=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ve))();function ba(r){return r instanceof Function?r():r}var yr=(()=>((yr=yr||{})[yr.Important=1]="Important",yr[yr.DashCase=2]="DashCase",yr))();function Pf(r,s){return undefined(r,s)}function ah(r){const s=r[3];return hr(s)?s[3]:s}function Bg(r){return uv(r[13])}function jg(r){return uv(r[4])}function uv(r){for(;null!==r&&!hr(r);)r=r[4];return r}function Hc(r,s,o,l,d){if(null!=l){let f,_=!1;hr(l)?f=l:wn(l)&&(_=!0,l=l[0]);const C=yn(l);0===r&&null!==o?null==d?Gg(s,o,C):pu(s,o,C,d||null,!0):1===r&&null!==o?pu(s,o,C,d||null,!0):2===r?function Kg(r,s,o){const l=kf(r,s);l&&function sl(r,s,o,l){r.removeChild(s,o,l)}(r,l,s,o)}(s,C,_):3===r&&s.destroyNode(C),null!=f&&function ub(r,s,o,l,d){const f=o[7];f!==yn(o)&&Hc(s,r,l,f,d);for(let C=10;C<o.length;C++){const E=o[C];ol(E[1],E,r,s,l,f)}}(s,r,f,o,d)}}function Nf(r,s,o){return r.createElement(s,o)}function dv(r,s){const o=r[9],l=o.indexOf(s),d=s[3];512&s[2]&&(s[2]&=-513,ho(d,-1)),o.splice(l,1)}function Of(r,s){if(r.length<=10)return;const o=10+s,l=r[o];if(l){const d=l[17];null!==d&&d!==r&&dv(d,l),s>0&&(r[o-1][4]=l[4]);const f=bo(r,10+s);!function rb(r,s){ol(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const _=f[19];null!==_&&_.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function $g(r,s){if(!(128&s[2])){const o=s[11];o.destroyNode&&ol(r,s,o,3,null,null),function sb(r){let s=r[13];if(!s)return Hs(r[1],r);for(;s;){let o=null;if(wn(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==r;)wn(s)&&Hs(s[1],s),s=s[3];null===s&&(s=r),wn(s)&&Hs(s[1],s),o=s&&s[4]}s=o}}(s)}}function Hs(r,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function ab(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const d=s[o[l]];if(!(d instanceof yo)){const f=o[l+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const C=d[f[_]],E=f[_+1];try{E.call(C)}finally{}}else try{f.call(d)}finally{}}}}(r,s),function DI(r,s){const o=r.cleanup,l=s[7];let d=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const _=o[f+1],C="function"==typeof _?_(s):yn(s[_]),E=l[d=o[f+2]],I=o[f+3];"boolean"==typeof I?C.removeEventListener(o[f],E,I):I>=0?l[d=I]():l[d=-I].unsubscribe(),f+=2}else{const _=l[d=o[f+1]];o[f].call(_)}if(null!==l){for(let f=d+1;f<l.length;f++)(0,l[f])();s[7]=null}}(r,s),1===s[1].type&&s[11].destroy();const o=s[17];if(null!==o&&hr(s[3])){o!==s[3]&&dv(o,s);const l=s[19];null!==l&&l.detachView(r)}!function z0(r){Af.delete(r[20])}(s)}}function hv(r,s,o){return function fv(r,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const d=r.data[l.directiveStart].encapsulation;if(d===Ze.None||d===Ze.Emulated)return null}return fr(l,o)}(r,s.parent,o)}function pu(r,s,o,l,d){r.insertBefore(s,o,l,d)}function Gg(r,s,o){r.appendChild(s,o)}function lh(r,s,o,l,d){null!==l?pu(r,s,o,l,d):Gg(r,s,o)}function kf(r,s){return r.parentNode(s)}let zg=function Zg(r,s,o){return 40&r.type?fr(r,o):null};function An(r,s,o,l){const d=hv(r,l,s),f=s[11],C=function Wg(r,s,o){return zg(r,s,o)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(o))for(let E=0;E<o.length;E++)lh(f,d,o[E],C,!1);else lh(f,d,o,C,!1)}function Gc(r,s){if(null!==s){const o=s.type;if(3&o)return fr(s,r);if(4&o)return Wc(-1,r[s.index]);if(8&o){const l=s.child;if(null!==l)return Gc(r,l);{const d=r[s.index];return hr(d)?Wc(-1,d):yn(d)}}if(32&o)return Pf(s,r)()||yn(r[s.index]);{const l=Ff(r,s);return null!==l?Array.isArray(l)?l[0]:Gc(ah(r[16]),l):Gc(r,s.next)}}return null}function Ff(r,s){return null!==s?r[16][6].projection[s.projection]:null}function Wc(r,s){const o=10+r+1;if(o<s.length){const l=s[o],d=l[1].firstChild;if(null!==d)return Gc(l,d)}return s[7]}function uh(r,s,o,l,d,f,_){for(;null!=o;){const C=l[o.index],E=o.type;if(_&&0===s&&(C&&ar(yn(C),l),o.flags|=4),64!=(64&o.flags))if(8&E)uh(r,s,o.child,l,d,f,!1),Hc(s,r,d,C,f);else if(32&E){const I=Pf(o,l);let S;for(;S=I();)Hc(s,r,d,S,f);Hc(s,r,d,C,f)}else 16&E?Yg(r,s,l,o,d,f):Hc(s,r,d,C,f);o=_?o.projectionNext:o.next}}function ol(r,s,o,l,d,f){uh(o,l,r.firstChild,s,d,f,!1)}function Yg(r,s,o,l,d,f){const _=o[16],E=_[6].projection[l.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)Hc(s,r,d,E[I],f);else uh(r,s,E,_[3],d,f,!0)}function cb(r,s,o){r.setAttribute(s,"style",o)}function gv(r,s,o){""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o)}function db(r,s,o){let l=r.length;for(;;){const d=r.indexOf(s,o);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const f=s.length;if(d+f===l||r.charCodeAt(d+f)<=32)return d}o=d+1}}const hb="ng-template";function TI(r,s,o){let l=0;for(;l<r.length;){let d=r[l++];if(o&&"class"===d){if(d=r[l],-1!==db(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<r.length&&"string"==typeof(d=r[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function fb(r){return 4===r.type&&r.value!==hb}function AI(r,s,o){return s===(4!==r.type||o?r.value:hb)}function pb(r,s,o){let l=4;const d=r.attrs||[],f=function _v(r){for(let s=0;s<r.length;s++)if(ra(r[s]))return s;return r.length}(d);let _=!1;for(let C=0;C<s.length;C++){const E=s[C];if("number"!=typeof E){if(!_)if(4&l){if(l=2|1&l,""!==E&&!AI(r,E,o)||""===E&&1===s.length){if($s(l))return!1;_=!0}}else{const I=8&l?E:s[++C];if(8&l&&null!==r.attrs){if(!TI(r.attrs,I,o)){if($s(l))return!1;_=!0}continue}const P=mv(8&l?"class":E,d,fb(r),o);if(-1===P){if($s(l))return!1;_=!0;continue}if(""!==I){let G;G=P>f?"":d[P+1].toLowerCase();const X=8&l?G:null;if(X&&-1!==db(X,I,0)||2&l&&I!==G){if($s(l))return!1;_=!0}}}}else{if(!_&&!$s(l)&&!$s(E))return!1;if(_&&$s(E))continue;_=!1,l=E|1&l}}return $s(l)||_}function $s(r){return 0==(1&r)}function mv(r,s,o,l){if(null===s)return-1;let d=0;if(l||!o){let f=!1;for(;d<s.length;){const _=s[d];if(_===r)return d;if(3===_||6===_)f=!0;else{if(1===_||2===_){let C=s[++d];for(;"string"==typeof C;)C=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=f?1:2}return-1}return function gb(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,r)}function Lf(r,s,o=!1){for(let l=0;l<s.length;l++)if(pb(r,s[l],o))return!0;return!1}function yv(r,s){return r?":not("+s.trim()+")":s}function SI(r){let s=r[0],o=1,l=2,d="",f=!1;for(;o<r.length;){let _=r[o];if("string"==typeof _)if(2&l){const C=r[++o];d+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!$s(_)&&(s+=yv(f,d),d=""),l=_,f=f||!$s(l);o++}return""!==d&&(s+=yv(f,d)),s}const yt={};function _b(r){yb(Et(),Ce(),xn()+r,!1)}function yb(r,s,o,l){if(!l)if(3==(3&s[2])){const f=r.preOrderCheckHooks;null!==f&&xd(s,f,o)}else{const f=r.preOrderHooks;null!==f&&Nd(s,f,0,o)}Tr(o)}function bv(r,s=null,o=null,l){const d=gu(r,s,o,l);return d.resolveInjectorInitializers(),d}function gu(r,s=null,o=null,l,d=new Set){const f=[o||vt,Dg(r)];return l=l||("object"==typeof r?void 0:ce(r)),new th(f,s||uu(),l||null,d)}let mu=(()=>{class r{static create(o,l){if(Array.isArray(o))return bv({name:""},l,o,"");{const d=o.name??"";return bv({name:d},o.parent,o.providers,d)}}}return r.THROW_IF_NOT_FOUND=ks,r.NULL=new kc,r.\u0275prov=Ot({token:r,providedIn:"any",factory:()=>rn(Oc)}),r.__NG_ELEMENT_ID__=-1,r})();function vu(r,s=rt.Default){const o=Ce();return null===o?rn(r,s):Yi(nn(),o,Q(r),s)}function rm(){throw new Error("invalid")}function Gs(r,s){return r<<17|s<<2}function os(r){return r>>17&32767}function Zc(r){return 2|r}function as(r){return(131068&r)>>2}function hh(r,s){return-131069&r|s<<2}function im(r){return 1|r}function Wv(r,s){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const d=o[l],f=o[l+1];if(-1!==f){const _=r.data[f];Jo(d),_.contentQueries(2,s[f],f)}}}function yh(r,s,o,l,d,f,_,C,E,I,S){const P=s.blueprint.slice();return P[0]=d,P[2]=76|l,(null!==S||r&&1024&r[2])&&(P[2]|=1024),Ci(P),P[3]=P[15]=r,P[8]=o,P[10]=_||r&&r[10],P[11]=C||r&&r[11],P[12]=E||r&&r[12]||null,P[9]=I||r&&r[9]||null,P[6]=f,P[20]=function Yy(){return kg++}(),P[21]=S,P[16]=2==s.type?r[16]:P,P}function vh(r,s,o,l,d){let f=r.data[s];if(null===f)f=function Ch(r,s,o,l,d){const f=Zo(),_=zo(),E=r.data[s]=function kI(r,s,o,l,d,f){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,o,s,l,d);return null===r.firstChild&&(r.firstChild=E),null!==f&&(_?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(r,s,o,l,d),function Ll(){return lt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=l,f.attrs=d;const _=function Zi(){const r=lt.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return Ir(f,!0),f}function Yc(r,s,o,l){if(0===o)return-1;const d=s.length;for(let f=0;f<o;f++)s.push(l),r.blueprint.push(l),r.data.push(null);return d}function Eh(r,s,o){Va(s);try{const l=r.viewQuery;null!==l&&Kf(1,l,o);const d=r.template;null!==d&&kb(r,s,d,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Wv(r,s),r.staticViewQueries&&Kf(2,r.viewQuery,o);const f=r.components;null!==f&&function Nb(r,s){for(let o=0;o<s.length;o++)Xv(r,s[o])}(s,f)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{s[2]&=-5,_o()}}function bu(r,s,o,l){const d=s[2];if(128!=(128&d)){Va(s);try{Ci(s),function Yo(r){return lt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&kb(r,s,o,2,l);const _=3==(3&d);if(_){const I=r.preOrderCheckHooks;null!==I&&xd(s,I,null)}else{const I=r.preOrderHooks;null!==I&&Nd(s,I,0,null),ea(s,0)}if(function Wb(r){for(let s=Bg(r);null!==s;s=jg(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const d=o[l],f=d[3];0==(512&d[2])&&ho(f,1),d[2]|=512}}}(s),function Jv(r){for(let s=Bg(r);null!==s;s=jg(s))for(let o=10;o<s.length;o++){const l=s[o],d=l[1];Vr(l)&&bu(d,l,d.template,l[8])}}(s),null!==r.contentQueries&&Wv(r,s),_){const I=r.contentCheckHooks;null!==I&&xd(s,I)}else{const I=r.contentHooks;null!==I&&Nd(s,I,1),ea(s,1)}!function Gv(r,s){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const d=o[l];if(d<0)Tr(~d);else{const f=d,_=o[++l],C=o[++l];lc(_,f),C(2,s[f])}}}finally{Tr(-1)}}(r,s);const C=r.components;null!==C&&function OI(r,s){for(let o=0;o<s.length;o++)vm(r,s[o])}(s,C);const E=r.viewQuery;if(null!==E&&Kf(2,E,l),_){const I=r.viewCheckHooks;null!==I&&xd(s,I)}else{const I=r.viewHooks;null!==I&&Nd(s,I,2),ea(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,ho(s[3],-1))}finally{_o()}}}function Ob(r,s,o,l){const d=s[10],_=co(s);try{!_&&d.begin&&d.begin(),_&&Eh(r,s,l),bu(r,s,o,l)}finally{!_&&d.end&&d.end()}}function kb(r,s,o,l,d){const f=xn(),_=2&l;try{Tr(-1),_&&s.length>22&&yb(r,s,22,!1),o(l,d)}finally{Tr(f)}}function Zv(r,s,o){if(ro(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const _=r.data[f];_.contentQueries&&_.contentQueries(1,o[f],f)}}}function wu(r,s,o){!Gi()||(function jb(r,s,o,l){const d=o.directiveStart,f=o.directiveEnd;r.firstCreatePass||jn(o,s),ar(l,s);const _=o.initialInputs;for(let C=d;C<f;C++){const E=r.data[C],I=wr(E);I&&Qv(s,o,E);const S=Ms(s,r,C,o);ar(S,s),null!==_&&Gb(0,C-d,S,E,0,_),I&&(Vn(o.index,s)[8]=S)}}(r,s,o,fr(o,s)),128==(128&o.flags)&&function LI(r,s,o){const l=o.directiveStart,d=o.directiveEnd,f=o.index,_=function Qo(){return lt.lFrame.currentDirectiveIndex}();try{Tr(f);for(let C=l;C<d;C++){const E=r.data[C],I=s[C];Vl(C),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&mm(E,I)}}finally{Tr(-1),Vl(_)}}(r,s,o))}function Du(r,s,o=fr){const l=s.localNames;if(null!==l){let d=s.index+1;for(let f=0;f<l.length;f+=2){const _=l[f+1],C=-1===_?o(s,r):r[_];r[d++]=C}}}function fm(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Wf(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function Wf(r,s,o,l,d,f,_,C,E,I){const S=22+l,P=S+d,G=function bh(r,s){const o=[];for(let l=0;l<s;l++)o.push(l<r?null:yt);return o}(S,P),X="function"==typeof I?I():I;return G[1]={type:r,blueprint:G,template:o,queries:null,viewQuery:C,declTNode:s,data:G.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:X,incompleteFirstPass:!1}}function pm(r,s,o,l){const d=tC(s);null===o?d.push(l):(d.push(o),r.firstCreatePass&&Dm(r).push(l,d.length-1))}function Lb(r,s,o){for(let l in r)if(r.hasOwnProperty(l)){const d=r[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,d):o[l]=[s,d]}return o}function Ub(r,s){const l=s.directiveEnd,d=r.data,f=s.attrs,_=[];let C=null,E=null;for(let I=s.directiveStart;I<l;I++){const S=d[I],P=S.inputs,G=null===f||fb(s)?null:ym(P,f);_.push(G),C=Lb(P,I,C),E=Lb(S.outputs,I,E)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=C,s.outputs=E}function Ai(r,s,o,l,d,f,_,C){const E=fr(s,o);let S,I=s.inputs;!C&&null!=I&&(S=I[l])?(Tm(r,o,S,l,d),Es(s)&&gm(o,s.index)):3&s.type&&(l=function FI(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),d=null!=_?_(d,s.value||"",l):d,f.setProperty(E,l,d))}function gm(r,s){const o=Vn(s,r);16&o[2]||(o[2]|=32)}function Qc(r,s,o,l){let d=!1;if(Gi()){const f=function Hb(r,s,o){const l=r.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const _=l[f];Lf(o,_.selectors,!1)&&(d||(d=[]),Za(jn(o,s),r,_.type),wr(_)?(_m(r,o),d.unshift(_)):d.push(_))}return d}(r,s,o),_=null===l?null:{"":-1};if(null!==f){d=!0,zf(o,r.data.length,f.length);for(let S=0;S<f.length;S++){const P=f[S];P.providersResolver&&P.providersResolver(P)}let C=!1,E=!1,I=Yc(r,s,f.length,null);for(let S=0;S<f.length;S++){const P=f[S];o.mergedAttrs=qi(o.mergedAttrs,P.hostAttrs),Yv(r,o,s,I,P),Kv(I,P,_),null!==P.contentQueries&&(o.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(o.flags|=128);const G=P.type.prototype;!C&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),C=!0),!E&&(G.ngOnChanges||G.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),E=!0),I++}Ub(r,o)}_&&function $b(r,s,o){if(s){const l=r.localNames=[];for(let d=0;d<s.length;d+=2){const f=o[s[d+1]];if(null==f)throw new _e(-301,!1);l.push(s[d],f)}}}(o,l,_)}return o.mergedAttrs=qi(o.mergedAttrs,o.attrs),d}function zv(r,s,o,l,d,f){const _=f.hostBindings;if(_){let C=r.hostBindingOpCodes;null===C&&(C=r.hostBindingOpCodes=[]);const E=~s.index;(function qv(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(C)!=E&&C.push(E),C.push(l,d,_)}}function mm(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function _m(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function Kv(r,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=r;wr(s)&&(o[""]=r)}}function zf(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}function Yv(r,s,o,l,d){r.data[l]=d;const f=d.factory||(d.factory=Ur(d.type)),_=new yo(f,wr(d),vu);r.blueprint[l]=_,o[l]=_,zv(r,s,0,l,Yc(r,o,d.hostVars,yt),d)}function Qv(r,s,o){const l=fr(s,r),d=fm(o),f=r[10],_=Xc(r,yh(r,d,null,o.onPush?32:16,l,s,f,f.createRenderer(l,o),null,null,null));r[s.index]=_}function Po(r,s,o,l,d,f){const _=fr(r,s);!function Jc(r,s,o,l,d,f,_){if(null==f)r.removeAttribute(s,d,o);else{const C=null==_?pe(f):_(f,l||"",d);r.setAttribute(s,d,C,o)}}(s[11],_,f,r.value,o,l,d)}function Gb(r,s,o,l,d,f){const _=f[s];if(null!==_){const C=l.setInput;for(let E=0;E<_.length;){const I=_[E++],S=_[E++],P=_[E++];null!==C?l.setInput(o,P,I,S):o[S]=P}}}function ym(r,s){let o=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;r.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,r[d],s[l+1])),l+=2}else l+=2;else l+=4}return o}function qf(r,s,o,l){return new Array(r,!0,!1,s,null,0,l,o,null,null)}function vm(r,s){const o=Vn(s,r);if(Vr(o)){const l=o[1];48&o[2]?bu(l,o,l.template,o[8]):o[5]>0&&Cm(o)}}function Cm(r){for(let l=Bg(r);null!==l;l=jg(l))for(let d=10;d<l.length;d++){const f=l[d];if(Vr(f))if(512&f[2]){const _=f[1];bu(_,f,_.template,f[8])}else f[5]>0&&Cm(f)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const d=Vn(o[l],r);Vr(d)&&d[5]>0&&Cm(d)}}function Xv(r,s){const o=Vn(s,r),l=o[1];(function Zb(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])})(l,o),Eh(l,o,o[8])}function Xc(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function Em(r){for(;r;){r[2]|=32;const s=ah(r);if(rf(r)&&!s)return r;r=s}return null}function qb(r){!function bm(r){for(let s=0;s<r.components.length;s++){const o=r.components[s],l=Lg(o);if(null!==l){const d=l[1];Ob(d,l,d.template,o)}}}(r[8])}function Kf(r,s,o){Jo(0),s(r,o)}const Iu=(()=>Promise.resolve(null))();function tC(r){return r[7]||(r[7]=[])}function Dm(r){return r.cleanup||(r.cleanup=[])}function Im(r,s){const o=r[9],l=o?o.get(Vc,null):null;l&&l.handleError(s)}function Tm(r,s,o,l,d){for(let f=0;f<o.length;){const _=o[f++],C=o[f++],E=s[_],I=r.data[_];null!==I.setInput?I.setInput(E,d,l,C):E[C]=d}}function dl(r,s,o){let l=o?r.styles:null,d=o?r.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const C=s[_];"number"==typeof C?f=C:1==f?d=he(d,C):2==f&&(l=he(l,C+": "+s[++_]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=d:r.classesWithoutHost=d}function wh(r,s,o,l,d=!1){for(;null!==o;){const f=s[o.index];if(null!==f&&l.push(yn(f)),hr(f))for(let C=10;C<f.length;C++){const E=f[C],I=E[1].firstChild;null!==I&&wh(E[1],E,I,l)}const _=o.type;if(8&_)wh(r,s,o.child,l);else if(32&_){const C=Pf(o,s);let E;for(;E=C();)l.push(E)}else if(16&_){const C=Ff(s,o);if(Array.isArray(C))l.push(...C);else{const E=ah(s[16]);wh(E[1],E,C,l,!0)}}o=d?o.projectionNext:o.next}return l}class Dh{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return wh(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(hr(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(Of(s,l),bo(o,l))}this._attachedToViewContainer=!1}$g(this._lView[1],this._lView)}onDestroy(s){pm(this._lView[1],this._lView,null,s)}markForCheck(){Em(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function wm(r,s,o){const l=s[10];l.begin&&l.begin();try{bu(r,s,r.template,o)}catch(d){throw Im(s,d),d}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ib(r,s){ol(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=s}}class rC extends Dh{constructor(s){super(s),this._view=s}detectChanges(){qb(this._view)}checkNoChanges(){}get context(){return null}}class Am extends T{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=ze(s);return new Th(o,this.ngModule)}}function Ih(r){const s=[];for(let o in r)r.hasOwnProperty(o)&&s.push({propName:r[o],templateName:o});return s}class iC{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){const d=this.injector.get(s,rl,l);return d!==rl||o===rl?d:this.parentInjector.get(s,o,l)}}class Th extends wf{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function MI(r){return r.map(SI).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Ih(this.componentDef.inputs)}get outputs(){return Ih(this.componentDef.outputs)}create(s,o,l,d){let f=(d=d||this.ngModule)instanceof On?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const _=f?new iC(s,f):s,C=_.get(ot,null);if(null===C)throw new _e(407,!1);const E=_.get(ui,null),I=C.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",P=l?function Fb(r,s,o){return r.selectRootElement(s,o===Ze.ShadowDom)}(I,l,this.componentDef.encapsulation):Nf(C.createRenderer(null,this.componentDef),S,function Yb(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(S)),G=this.componentDef.onPush?288:272,X=function aC(r,s){return{components:[],scheduler:r||J0,clean:Iu,playerHandler:s||null,flags:0}}(),ye=Wf(0,null,null,1,0,null,null,null,null,null),Se=yh(null,ye,X,G,null,null,C,I,E,_,null);let Ue,Ge;Va(Se);try{const ct=function oC(r,s,o,l,d,f){const _=o[1];o[22]=r;const E=vh(_,22,2,"#host",null),I=E.mergedAttrs=s.hostAttrs;null!==I&&(dl(E,I,!0),null!==r&&(na(d,r,I),null!==E.classes&&gv(d,r,E.classes),null!==E.styles&&cb(d,r,E.styles)));const S=l.createRenderer(r,s),P=yh(o,fm(s),null,s.onPush?32:16,o[22],E,l,S,f||null,null,null);return _.firstCreatePass&&(Za(jn(E,o),_,s.type),_m(_,E),zf(E,o.length,1)),Xc(o,P),o[22]=P}(P,this.componentDef,Se,C,I);if(P)if(l)na(I,P,["ng-version",nl.full]);else{const{attrs:Te,classes:st}=function mb(r){const s=[],o=[];let l=1,d=2;for(;l<r.length;){let f=r[l];if("string"==typeof f)2===d?""!==f&&s.push(f,r[++l]):8===d&&o.push(f);else{if(!$s(d))break;d=f}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);Te&&na(I,P,Te),st&&st.length>0&&gv(I,P,st.join(" "))}if(Ge=Wo(ye,22),void 0!==o){const Te=Ge.projection=[];for(let st=0;st<this.ngContentSelectors.length;st++){const xt=o[st];Te.push(null!=xt?Array.from(xt):null)}}Ue=function Qb(r,s,o,l,d){const f=o[1],_=function Zf(r,s,o){const l=nn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Yv(r,l,s,Yc(r,s,1,null),o),Ub(r,l));const d=Ms(s,r,l.directiveStart,l);ar(d,s);const f=fr(l,s);return f&&ar(f,s),d}(f,o,s);if(l.components.push(_),r[8]=_,null!==d)for(const E of d)E(_,s);if(s.contentQueries){const E=nn();s.contentQueries(1,_,E.directiveStart)}const C=nn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Tr(C.index),zv(o[1],C,0,C.directiveStart,C.directiveEnd,s),mm(s,_)),_}(ct,this.componentDef,Se,X,[lC]),Eh(ye,Se,null)}finally{_o()}return new BI(this.componentType,Ue,Z(Ge,Se),Se,Ge)}}class BI extends class Sg{}{constructor(s,o,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new rC(d),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[s])){const f=this._rootLView;Tm(f[1],f,d,s,o),gm(f,this._tNode.index)}}get injector(){return new Kt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function lC(){const r=nn();Wa(Ce()[1],r)}function Yf(r){let s=function Jb(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;s;){let d;if(wr(r))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new _e(903,!1);d=s.\u0275dir}if(d){if(o){l.push(d);const _=r;_.inputs=uC(r.inputs),_.declaredInputs=uC(r.declaredInputs),_.outputs=uC(r.outputs);const C=d.hostBindings;C&&ew(r,C);const E=d.viewQuery,I=d.contentQueries;if(E&&jI(r,E),I&&HI(r,I),le(r.inputs,d.inputs),le(r.declaredInputs,d.declaredInputs),le(r.outputs,d.outputs),wr(d)&&d.data.animation){const S=r.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let _=0;_<f.length;_++){const C=f[_];C&&C.ngInherit&&C(r),C===Yf&&(o=!1)}}s=Object.getPrototypeOf(s)}!function Xb(r){let s=0,o=null;for(let l=r.length-1;l>=0;l--){const d=r[l];d.hostVars=s+=d.hostVars,d.hostAttrs=qi(d.hostAttrs,o=qi(o,d.hostAttrs))}}(l)}function uC(r){return r===en?{}:r===vt?[]:r}function jI(r,s){const o=r.viewQuery;r.viewQuery=o?(l,d)=>{s(l,d),o(l,d)}:s}function HI(r,s){const o=r.contentQueries;r.contentQueries=o?(l,d,f)=>{s(l,d,f),o(l,d,f)}:s}function ew(r,s){const o=r.hostBindings;r.hostBindings=o?(l,d)=>{s(l,d),o(l,d)}:s}let Tu=null;function Au(){if(!Tu){const r=Ve.Symbol;if(r&&r.iterator)Tu=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Tu=l)}}}return Tu}function Su(r){return!!Sm(r)&&(Array.isArray(r)||!(r instanceof Map)&&Au()in r)}function Sm(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Ut(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function Ws(r,s,o,l){const d=Ce();return Ut(d,Is(),s)&&(Et(),Po(un(),d,r,s,o,l)),Ws}function Nr(r,s,o,l){return Ut(r,Is(),o)?s+pe(o)+l:yt}function nd(r,s,o,l,d,f,_,C){const E=Ce(),I=Et(),S=r+22,P=I.firstCreatePass?function ur(r,s,o,l,d,f,_,C,E){const I=s.consts,S=vh(s,r,4,_||null,vi(I,C));Qc(s,o,S,vi(I,E)),Wa(s,S);const P=S.tViews=Wf(2,S,l,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,S),P.queries=s.queries.embeddedTView(S)),S}(S,I,E,s,o,l,d,f,_):I.data[S];Ir(P,!1);const G=E[11].createComment("");An(I,E,G,P),ar(G,E),Xc(E,E[S]=qf(G,E,G,P)),Ho(P)&&wu(I,E,P),null!=_&&Du(E,P,C)}function Zs(r){return function _i(r,s){return r[s]}(function Ko(){return lt.lFrame.contextLView}(),22+r)}function cr(r,s,o){const l=Ce();return Ut(l,Is(),s)&&Ai(Et(),un(),l,r,s,l[11],o,!1),cr}function Om(r,s,o,l,d){const _=d?"class":"style";Tm(r,o,s.inputs[_],_,l)}function Xf(r,s,o,l){const d=Ce(),f=Et(),_=22+r,C=d[11],E=d[_]=Nf(C,s,function cc(){return lt.lFrame.currentNamespace}()),I=f.firstCreatePass?function Jf(r,s,o,l,d,f,_){const C=s.consts,I=vh(s,r,2,d,vi(C,f));return Qc(s,o,I,vi(C,_)),null!==I.attrs&&dl(I,I.attrs,!1),null!==I.mergedAttrs&&dl(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(_,f,d,0,s,o,l):f.data[_];Ir(I,!0);const S=I.mergedAttrs;null!==S&&na(C,E,S);const P=I.classes;null!==P&&gv(C,E,P);const G=I.styles;return null!==G&&cb(C,E,G),64!=(64&I.flags)&&An(f,d,E,I),0===function Fa(){return lt.lFrame.elementDepthCount}()&&ar(E,d),function Fl(){lt.lFrame.elementDepthCount++}(),Ho(I)&&(wu(f,d,I),Zv(f,I,d)),null!==l&&Du(d,I),Xf}function ls(){let r=nn();zo()?qo():(r=r.parent,Ir(r,!1));const s=r;!function Ds(){lt.lFrame.elementDepthCount--}();const o=Et();return o.firstCreatePass&&(Wa(o,r),ro(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Bn(r){return 0!=(16&r.flags)}(s)&&Om(o,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function kd(r){return 0!=(32&r.flags)}(s)&&Om(o,s,Ce(),s.stylesWithoutHost,!1),ls}function us(r,s,o,l){return Xf(r,s,o,l),ls(),us}function km(r,s,o){const l=Ce(),d=Et(),f=r+22,_=d.firstCreatePass?function Nu(r,s,o,l,d){const f=s.consts,_=vi(f,l),C=vh(s,r,8,"ng-container",_);return null!==_&&dl(C,_,!0),Qc(s,o,C,vi(f,d)),null!==s.queries&&s.queries.elementStart(s,C),C}(f,d,l,s,o):d.data[f];Ir(_,!0);const C=l[f]=l[11].createComment("");return An(d,l,C,_),ar(C,l),Ho(_)&&(wu(d,l,_),Zv(d,_,l)),null!=o&&Du(l,_),km}function Ou(){let r=nn();const s=Et();return zo()?qo():(r=r.parent,Ir(r,!1)),s.firstCreatePass&&(Wa(s,r),ro(r)&&s.queries.elementEnd(r)),Ou}function Sh(r,s,o){return km(r,s,o),Ou(),Sh}function Fm(){return Ce()}function qn(r){return!!r&&"function"==typeof r.then}function Lm(r){return!!r&&"function"==typeof r.subscribe}const pC=Lm;function Um(r,s,o,l){const d=Ce(),f=Et(),_=nn();return function Vm(r,s,o,l,d,f,_,C){const E=Ho(l),S=r.firstCreatePass&&Dm(r),P=s[8],G=tC(s);let X=!0;if(3&l.type||C){const Ue=fr(l,s),Ge=C?C(Ue):Ue,ct=G.length,Te=C?xt=>C(yn(xt[l.index])):l.index;let st=null;if(!C&&E&&(st=function aw(r,s,o,l){const d=r.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const _=d[f];if(_===o&&d[f+1]===l){const C=s[7],E=d[f+2];return C.length>E?C[E]:null}"string"==typeof _&&(f+=2)}return null}(r,s,d,l.index)),null!==st)(st.__ngLastListenerFn__||st).__ngNextListenerFn__=f,st.__ngLastListenerFn__=f,X=!1;else{f=Mh(l,s,P,f,!1);const xt=o.listen(Ge,d,f);G.push(f,xt),S&&S.push(d,Te,ct,ct+1)}}else f=Mh(l,s,P,f,!1);const ye=l.outputs;let Se;if(X&&null!==ye&&(Se=ye[d])){const Ue=Se.length;if(Ue)for(let Ge=0;Ge<Ue;Ge+=2){const St=s[Se[Ge]][Se[Ge+1]].subscribe(f),Lo=G.length;G.push(f,St),S&&S.push(d,l.index,Lo,-(Lo+1))}}}(f,d,d[11],_,r,s,0,l),Um}function ep(r,s,o,l){try{return!1!==o(l)}catch(d){return Im(r,d),!1}}function Mh(r,s,o,l,d){return function f(_){if(_===Function)return l;Em(2&r.flags?Vn(r.index,s):s);let E=ep(s,0,l,_),I=f.__ngNextListenerFn__;for(;I;)E=ep(s,0,I,_)&&E,I=I.__ngNextListenerFn__;return d&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function ku(r=1){return function Rd(r){return(lt.lFrame.contextLView=function Ga(r,s){for(;r>0;)s=s[15],r--;return s}(r,lt.lFrame.contextLView))[8]}(r)}function Bm(r,s,o){return Fu(r,"",s,"",o),Bm}function Fu(r,s,o,l,d){const f=Ce(),_=Nr(f,s,o,l);return _!==yt&&Ai(Et(),un(),f,r,_,f[11],d,!1),Fu}function tp(r,s,o,l,d){const f=r[o+1],_=null===s;let C=l?os(f):as(f),E=!1;for(;0!==C&&(!1===E||_);){const S=r[C+1];cw(r[C],s)&&(E=!0,r[C+1]=l?im(S):Zc(S)),C=l?os(S):as(S)}E&&(r[o+1]=l?Zc(f):im(f))}function cw(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Os(r,s)>=0}function Xm(r,s){return function qs(r,s,o,l){const d=Ce(),f=Et(),_=function Ei(r){const s=lt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,o}(2);f.firstUpdatePass&&function Ia(r,s,o,l){const d=r.data;if(null===d[o+1]){const f=d[xn()],_=function DC(r,s){return s>=r.expandoStartIndex}(r,o);(function t_(r,s){return 0!=(r.flags&(s?16:32))})(f,l)&&null===s&&!_&&(s=!1),s=function e_(r,s,o,l){const d=function Ts(r){const s=lt.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let f=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(o=id(o=gl(null,r,s,o,l),s.attrs,l),f=null);else{const _=s.directiveStylingLast;if(-1===_||r[_]!==d)if(o=gl(d,r,s,o,l),null===f){let E=function gw(r,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==as(l))return r[os(l)]}(r,s,l);void 0!==E&&Array.isArray(E)&&(E=gl(null,r,s,E[1],l),E=id(E,s.attrs,l),function mw(r,s,o,l){r[os(o?s.classBindings:s.styleBindings)]=l}(r,s,l,E))}else f=function rp(r,s,o){let l;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)l=id(l,r[f].hostAttrs,o);return id(l,s.attrs,o)}(r,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),o}(d,f,s,l),function _C(r,s,o,l,d,f){let _=f?s.classBindings:s.styleBindings,C=os(_),E=as(_);r[l]=o;let S,I=!1;if(Array.isArray(o)){const P=o;S=P[1],(null===S||Os(P,S)>0)&&(I=!0)}else S=o;if(d)if(0!==E){const G=os(r[C+1]);r[l+1]=Gs(G,C),0!==G&&(r[G+1]=hh(r[G+1],l)),r[C+1]=function xI(r,s){return 131071&r|s<<17}(r[C+1],l)}else r[l+1]=Gs(C,0),0!==C&&(r[C+1]=hh(r[C+1],l)),C=l;else r[l+1]=Gs(E,0),0===C?C=l:r[E+1]=hh(r[E+1],l),E=l;I&&(r[l+1]=Zc(r[l+1])),tp(r,S,l,!0),tp(r,S,l,!1),function yC(r,s,o,l,d){const f=d?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof s&&Os(f,s)>=0&&(o[l+1]=im(o[l+1]))}(s,S,r,l,f),_=Gs(C,E),f?s.classBindings=_:s.styleBindings=_}(d,f,s,o,_,l)}}(f,r,_,l),s!==yt&&Ut(d,_,s)&&function TC(r,s,o,l,d,f,_,C){if(!(3&s.type))return;const E=r.data,I=E[C+1];xh(function fh(r){return 1==(1&r)}(I)?ip(E,s,o,d,as(I),_):void 0)||(xh(f)||function Tb(r){return 2==(2&r)}(I)&&(f=ip(E,null,o,d,C,_)),function II(r,s,o,l,d){if(s)d?r.addClass(o,l):r.removeClass(o,l);else{let f=-1===l.indexOf("-")?void 0:yr.DashCase;null==d?r.removeStyle(o,l,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=yr.Important),r.setStyle(o,l,d,f))}}(l,_,ws(xn(),o),d,f))}(f,f.data[xn()],d,d[11],r,d[_+1]=function vw(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=ce(Us(r)))),r}(s,o),l,_)}(r,s,null,!0),Xm}function gl(r,s,o,l,d){let f=null;const _=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<_&&(f=s[C],l=id(l,f.hostAttrs,d),f!==r);)C++;return null!==r&&(o.directiveStylingLast=C),l}function id(r,s,o){const l=o?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?d=_:d===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Lt(r,_,!!o||s[++f]))}return void 0===r?null:r}function ip(r,s,o,l,d,f){const _=null===s;let C;for(;d>0;){const E=r[d],I=Array.isArray(E),S=I?E[1]:E,P=null===S;let G=o[d+1];G===yt&&(G=P?vt:void 0);let X=P?Do(G,l):S===l?G:void 0;if(I&&!xh(X)&&(X=Do(E,l)),xh(X)&&(C=X,_))return C;const ye=r[d+1];d=_?os(ye):as(ye)}if(null!==s){let E=f?s.residualClasses:s.residualStyles;null!=E&&(C=Do(E,l))}return C}function xh(r){return void 0!==r}function AC(r,s=""){const o=Ce(),l=Et(),d=r+22,f=l.firstCreatePass?vh(l,d,1,s,null):l.data[d],_=o[d]=function xf(r,s){return r.createText(s)}(o[11],s);An(l,o,_,f),Ir(f,!1)}function sp(r){return Nh("",r,""),sp}function Nh(r,s,o){const l=Ce(),d=Nr(l,r,s,o);return d!==yt&&function wa(r,s,o){const l=ws(s,r);!function cv(r,s,o){r.setValue(s,o)}(r[11],l,o)}(l,xn(),d),Nh}const Mi=void 0;var ap=["en",[["a","p"],["AM","PM"],Mi],[["AM","PM"],Mi,Mi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mi,"{1} 'at' {0}",Mi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mt(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Ta={};function ds(r){const s=function p_(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=FC(s);if(o)return o;const l=s.split("-")[0];if(o=FC(l),o)return o;if("en"===l)return ap;throw new _e(701,!1)}function hs(r){return ds(r)[ut.PluralCase]}function FC(r){return r in Ta||(Ta[r]=Ve.ng&&Ve.ng.common&&Ve.ng.common.locales&&Ve.ng.common.locales[r]),Ta[r]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const Lu="en-US";let UC=Lu;function Gh(r,s,o,l,d){if(r=Q(r),Array.isArray(r))for(let f=0;f<r.length;f++)Gh(r[f],s,o,l,d);else{const f=Et(),_=Ce();let C=Ii(r)?r:Q(r.provide),E=Ti(r);const I=nn(),S=1048575&I.providerIndexes,P=I.directiveStart,G=I.providerIndexes>>20;if(Ii(r)||!r.multi){const X=new yo(E,d,vu),ye=ko(C,s,d?S:S+G,P);-1===ye?(Za(jn(I,_),f,C),Ra(f,r,s.length),s.push(C),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),o.push(X),_.push(X)):(o[ye]=X,_[ye]=X)}else{const X=ko(C,s,S+G,P),ye=ko(C,s,S,S+G),Se=X>=0&&o[X],Ue=ye>=0&&o[ye];if(d&&!Ue||!d&&!Se){Za(jn(I,_),f,C);const Ge=function bp(r,s,o,l,d){const f=new yo(r,o,vu);return f.multi=[],f.index=s,f.componentProviders=0,A_(f,d,l&&!o),f}(d?cd:S_,o.length,d,l,E);!d&&Ue&&(o[ye].providerFactory=Ge),Ra(f,r,s.length,0),s.push(C),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),o.push(Ge),_.push(Ge)}else Ra(f,r,X>-1?X:ye,A_(o[d?ye:X],E,!d&&l));!d&&l&&Ue&&o[ye].componentProviders++}}}function Ra(r,s,o,l){const d=Ii(s),f=function ai(r){return!!r.useClass}(s);if(d||f){const E=(f?Q(s.useClass):s).prototype.ngOnDestroy;if(E){const I=r.destroyHooks||(r.destroyHooks=[]);if(!d&&s.multi){const S=I.indexOf(o);-1===S?I.push(o,[l,E]):I[S+1].push(l,E)}else I.push(o,E)}}}function A_(r,s,o){return o&&r.componentProviders++,r.multi.push(s)-1}function ko(r,s,o,l){for(let d=o;d<l;d++)if(s[d]===r)return d;return-1}function S_(r,s,o,l){return Ep(this.multi,[])}function cd(r,s,o,l){const d=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=Ms(o,o[1],this.providerFactory.index,l);f=C.slice(0,_),Ep(d,f);for(let E=_;E<C.length;E++)f.push(C[E])}else f=[],Ep(d,f);return f}function Ep(r,s){for(let o=0;o<r.length;o++)s.push((0,r[o])());return s}function nE(r,s=[]){return o=>{o.providersResolver=(l,d)=>function tE(r,s,o){const l=Et();if(l.firstCreatePass){const d=wr(r);Gh(o,l.data,l.blueprint,d,!0),Gh(s,l.data,l.blueprint,d,!1)}}(l,d?d(r):r,s)}}class dd{}class rE{}function Bw(r,s){return new iE(r,s??null)}class iE extends dd{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Am(this);const l=Ln(s);this._bootstrapComponents=ba(l.bootstrap),this._r3Injector=gu(s,o,[{provide:dd,useValue:this},{provide:T,useValue:this.componentFactoryResolver}],ce(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class M_ extends rE{constructor(s){super(),this.moduleType=s}create(s){return new iE(this.moduleType,s)}}class sE extends dd{constructor(s,o,l){super(),this.componentFactoryResolver=new Am(this),this.instance=null;const d=new th([...s,{provide:dd,useValue:this},{provide:T,useValue:this.componentFactoryResolver}],o||uu(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function wp(r,s,o=null){return new sE(r,s,o).injector}function dE(r,s,o,l){return function gE(r,s,o,l,d,f){const _=s+o;return Ut(r,_,d)?function xo(r,s,o){return r[s]=o}(r,_+1,f?l.call(f,d):l(d)):function Zh(r,s){const o=r[s];return o===yt?void 0:o}(r,_+1)}(Ce(),function Dn(){const r=lt.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}(),r,s,o,l)}function k_(r){return s=>{setTimeout(r,void 0,s)}}const ps=class nD extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){let d=s,f=o||(()=>null),_=l;if(s&&"object"==typeof s){const E=s;d=E.next?.bind(E),f=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(f=k_(f),d&&(d=k_(d)),_&&(_=k_(_)));const C=super.subscribe({next:d,error:f,complete:_});return s instanceof ee.w0&&s.add(C),C}};function DE(){return this._results[Au()]()}class F_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Au(),l=F_.prototype;l[o]||(l[o]=DE)}get changes(){return this._changes||(this._changes=new ps)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const d=$n(s);(this._changesDetected=!function yc(r,s,o){if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++){let d=r[l],f=s[l];if(o&&(d=o(d),f=o(f)),f!==d)return!1}return!0}(l._results,d,o))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let qh=(()=>{class r{}return r.__NG_ELEMENT_ID__=TE,r})();const IE=qh,bl=class extends IE{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s,o){const l=this._declarationTContainer.tViews,d=yh(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,o||null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(l)),Eh(l,d,s),new Dh(d)}};function TE(){return Kh(nn(),Ce())}function Kh(r,s){return 4&r.type?new bl(s,r,Z(r,s)):null}let Ys=(()=>{class r{}return r.__NG_ELEMENT_ID__=Sp,r})();function Sp(){return U_(nn(),Ce())}const Mp=Ys,AE=class extends Mp{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return Z(this._hostTNode,this._hostLView)}get injector(){return new Kt(this._hostTNode,this._hostLView)}get parentInjector(){const s=Hn(this._hostTNode,this._hostLView);if(Fd(s)){const o=zn(s,this._hostLView),l=ia(s);return new Kt(o[1].data[l+8],o)}return new Kt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=SE(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){let d,f;"number"==typeof l?d=l:null!=l&&(d=l.index,f=l.injector);const _=s.createEmbeddedView(o||{},f);return this.insert(_,d),_}createComponent(s,o,l,d,f){const _=s&&!function In(r){return"function"==typeof r}(s);let C;if(_)C=o;else{const P=o||{};C=P.index,l=P.injector,d=P.projectableNodes,f=P.environmentInjector||P.ngModuleRef}const E=_?s:new Th(ze(s)),I=l||this.parentInjector;if(!f&&null==E.ngModule){const G=(_?I:this.parentInjector).get(On,null);G&&(f=G)}const S=E.create(I,d,void 0,f);return this.insert(S.hostView,C),S}insert(s,o){const l=s._lView,d=l[1];if(function yi(r){return hr(r[3])}(l)){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const P=l[3],G=new AE(P,P[6],P[3]);G.detach(G.indexOf(s))}}const f=this._adjustIndex(o),_=this._lContainer;!function ob(r,s,o,l){const d=10+l,f=o.length;l>0&&(o[d-1][4]=s),l<f-10?(s[4]=o[d],Zl(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const _=s[17];null!==_&&o!==_&&function wI(r,s){const o=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===o?r[9]=[s]:o.push(s)}(_,s);const C=s[19];null!==C&&C.insertView(r),s[2]|=64}(d,l,_,f);const C=Wc(f,_),E=l[11],I=kf(E,_[7]);return null!==I&&function Hg(r,s,o,l,d,f){l[0]=d,l[6]=s,ol(r,l,o,1,d,f)}(d,_[6],E,l,I,C),s.attachToViewContainerRef(),Zl(L_(_),f,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=SE(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Of(this._lContainer,o);l&&(bo(L_(this._lContainer),o),$g(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=Of(this._lContainer,o);return l&&null!=bo(L_(this._lContainer),o)?new Dh(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function SE(r){return r[8]}function L_(r){return r[8]||(r[8]=[])}function U_(r,s){let o;const l=s[r.index];if(hr(l))o=l;else{let d;if(8&r.type)d=yn(l);else{const f=s[11];d=f.createComment("");const _=fr(r,s);pu(f,kf(f,_),d,function lb(r,s){return r.nextSibling(s)}(f,_),!1)}s[r.index]=o=qf(l,s,d,r),Xc(s,o)}return new AE(o,r,s)}class Hu{constructor(s){this.queryList=s,this.matches=null}clone(){return new Hu(this.queryList)}setDirty(){this.queryList.setDirty()}}class B_{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let f=0;f<l;f++){const _=o.getByIndex(f);d.push(this.queries[_.indexInDeclarationView].clone())}return new B_(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==NE(s,o).matches&&this.queries[o].setDirty()}}class ME{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class j_{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const d=null!==o?o.length:0,f=this.getByIndex(l).embeddedTView(s,d);f&&(f.indexInDeclarationView=l,null!==o?o.push(f):o=[f])}return null!==o?new j_(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class hd{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new hd(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(s,o,RE(o,f)),this.matchTNodeWithReadOption(s,o,Je(o,s,f,!1,!1))}else l===qh?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Je(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===ae||d===Ys||d===qh&&4&o.type)this.addMatch(o.index,-2);else{const f=Je(o,s,d,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function RE(r,s){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function H_(r,s,o,l){return-1===o?function iD(r,s){return 11&r.type?Z(r,s):4&r.type?Kh(r,s):null}(s,r):-2===o?function Rp(r,s,o){return o===ae?Z(s,r):o===qh?Kh(s,r):o===Ys?U_(s,r):void 0}(r,s,l):Ms(r,r[1],o,s)}function PE(r,s,o,l){const d=s[19].queries[l];if(null===d.matches){const f=r.data,_=o.matches,C=[];for(let E=0;E<_.length;E+=2){const I=_[E];C.push(I<0?null:H_(s,f[I],_[E+1],o.metadata.read))}d.matches=C}return d.matches}function wl(r,s,o,l){const d=r.queries.getByIndex(o),f=d.matches;if(null!==f){const _=PE(r,s,d,o);for(let C=0;C<f.length;C+=2){const E=f[C];if(E>0)l.push(_[C/2]);else{const I=f[C+1],S=s[-E];for(let P=10;P<S.length;P++){const G=S[P];G[17]===G[3]&&wl(G[1],G,I,l)}if(null!==S[9]){const P=S[9];for(let G=0;G<P.length;G++){const X=P[G];wl(X[1],X,I,l)}}}}}return l}function $_(r){const s=Ce(),o=Et(),l=Ua();Jo(l+1);const d=NE(o,l);if(r.dirty&&co(s)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const f=d.crossesNgTemplate?wl(o,s,l,[]):PE(o,s,d,l);r.reset(f,Re),r.notifyOnChanges()}return!0}return!1}function G_(r,s,o,l){const d=Et();if(d.firstCreatePass){const f=nn();(function Np(r,s,o){null===r.queries&&(r.queries=new j_),r.queries.track(new hd(s,o))})(d,new ME(s,o,l),f.index),function W_(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(d,r),2==(2&o)&&(d.staticContentQueries=!0)}!function xp(r,s,o){const l=new F_(4==(4&o));pm(r,s,l,l.destroy),null===s[19]&&(s[19]=new B_),s[19].queries.push(new Hu(l))}(d,Ce(),o)}function fd(){return function Pp(r,s){return r[19].queries[s].queryList}(Ce(),Ua())}function NE(r,s){return r.queries.getByIndex(s)}function pd(r,s){return Kh(r,s)}function Dl(r){const s=ze(r)||zt(r)||tn(r);return null!==s&&s.standalone}function jp(...r){}const sy=new it("Application Initializer");let Hp=(()=>{class r{constructor(o){this.appInits=o,this.resolve=jp,this.reject=jp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(qn(f))o.push(f);else if(pC(f)){const _=new Promise((C,E)=>{f.subscribe({complete:C,error:E})});o.push(_)}}Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(rn(sy,8))},r.\u0275prov=Ot({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const ZE=new it("AppId",{providedIn:"root",factory:function zE(){return`${$p()}${$p()}${$p()}`}});function $p(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const KE=new it("Platform Initializer"),vd=new it("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Pa=new it("appBootstrapListener");let Gp=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ot({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const xa=new it("LocaleId",{providedIn:"root",factory:()=>Ec(xa,rt.Optional|rt.SkipSelf)||function gD(){return typeof $localize<"u"&&$localize.locale||Lu}()}),mD=new it("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Wp{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let oy=(()=>{class r{compileModuleSync(o){return new M_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),f=ba(Ln(o).declarations).reduce((_,C)=>{const E=ze(C);return E&&_.push(new Th(E)),_},[]);return new Wp(l,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ot({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const ly=(()=>Promise.resolve(0))();function zp(r){typeof Zone>"u"?ly.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Or{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ps(!1),this.onMicrotaskEmpty=new ps(!1),this.onStable=new ps(!1),this.onError=new ps(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&o,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function di(){let r=Ve.requestAnimationFrame,s=Ve.cancelAnimationFrame;if(typeof Zone<"u"&&r&&s){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Wu(r){const s=()=>{!function ms(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Ve,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,qp(r),r.isCheckStableRunning=!0,Cd(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),qp(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,d,f,_,C)=>{try{return uy(r),o.invokeTask(d,f,_,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&s(),Al(r)}},onInvoke:(o,l,d,f,_,C,E)=>{try{return uy(r),o.invoke(d,f,_,C,E)}finally{r.shouldCoalesceRunChangeDetection&&s(),Al(r)}},onHasTask:(o,l,d,f)=>{o.hasTask(d,f),l===d&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,qp(r),Cd(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,l,d,f)=>(o.handleError(d,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Or.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(Or.isInAngularZone())throw new _e(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,d){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+d,s,Tl,jp,jp);try{return f.runTask(_,o,l)}finally{f.cancelTask(_)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const Tl={};function Cd(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function qp(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function uy(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Al(r){r._nesting--,Cd(r)}class XI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ps,this.onMicrotaskEmpty=new ps,this.onStable=new ps,this.onError=new ps}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,d){return s.apply(o,l)}}const JE=new it(""),XE=new it("");let dy,cy=(()=>{class r{constructor(o,l,d){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dy||(function bD(r){dy=r}(d),d.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Or.assertNotInAngularZone(),zp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zp(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,d){return[]}}return r.\u0275fac=function(o){return new(o||r)(rn(Or),rn(e0),rn(XE))},r.\u0275prov=Ot({token:r,factory:r.\u0275fac}),r})(),e0=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return dy?.findTestabilityInTree(this,o,l)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ot({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),Sl=null;const Ed=new it("AllowMultipleToken"),bd=new it("PlatformDestroyListeners");class n0{constructor(s,o){this.name=s,this.token=o}}function o0(r,s,o=[]){const l=`Platform: ${s}`,d=new it(l);return(f=[])=>{let _=fy();if(!_||_.injector.get(Ed,!1)){const C=[...o,...f,{provide:d,useValue:!0}];r?r(C):function r0(r){if(Sl&&!Sl.get(Ed,!1))throw new _e(400,!1);Sl=r;const s=r.get(l0);(function _s(r){const s=r.get(KE,null);s&&s.forEach(o=>o())})(r)}(function a0(r=[],s){return mu.create({name:s,providers:[{provide:Lc,useValue:"platform"},{provide:bd,useValue:new Set([()=>Sl=null])},...r]})}(C,l))}return function ID(r){const s=fy();if(!s)throw new _e(401,!1);return s}()}}function fy(){return Sl?.get(l0)??null}let l0=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const d=function AD(r,s){let o;return o="noop"===r?new XI:("zone.js"===r?void 0:r)||new Or(s),o}(l?.ngZone,function u0(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),f=[{provide:Or,useValue:d}];return d.run(()=>{const _=mu.create({providers:f,parent:this.injector,name:o.moduleType.name}),C=o.create(_),E=C.injector.get(Vc,null);if(!E)throw new _e(402,!1);return d.runOutsideAngular(()=>{const I=d.onError.subscribe({next:S=>{E.handleError(S)}});C.onDestroy(()=>{Yp(this._modules,C),I.unsubscribe()})}),function c0(r,s,o){try{const l=o();return qn(l)?l.catch(d=>{throw s.runOutsideAngular(()=>r.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>r.handleError(l)),l}}(E,d,()=>{const I=C.injector.get(Hp);return I.runInitializers(),I.donePromise.then(()=>(function VC(r){It(r,"Expected localeId to be defined"),"string"==typeof r&&(UC=r.toLowerCase().replace(/_/g,"-"))}(C.injector.get(xa,Lu)||Lu),this._moduleDoBootstrap(C),C))})})}bootstrapModule(o,l=[]){const d=d0({},l);return function hy(r,s,o){const l=new M_(o);return Promise.resolve(l)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(o){const l=o.injector.get(Kp);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new _e(403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(bd,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(rn(mu))},r.\u0275prov=Ot({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function d0(r,s){return Array.isArray(s)?s.reduce(d0,r):{...r,...s}}let Kp=(()=>{class r{constructor(o,l,d){this._zone=o,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new x.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),_=new x.y(C=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Or.assertNotInAngularZone(),zp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{Or.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{E.unsubscribe(),I.unsubscribe()}});this.isStable=(0,oe.T)(f,_.pipe((0,ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const d=o instanceof wf;if(!this._injector.get(Hp).done)throw!d&&Dl(o),new _e(405,false);let _;_=d?o:this._injector.get(T).resolveComponentFactory(o),this.componentTypes.push(_.componentType);const C=function t0(r){return r.isBoundToModule}(_)?void 0:this._injector.get(dd),I=_.create(mu.NULL,[],l||_.selector,C),S=I.location.nativeElement,P=I.injector.get(JE,null);return P?.registerApplication(S),I.onDestroy(()=>{this.detachView(I.hostView),Yp(this.components,I),P?.unregisterApplication(S)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;Yp(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Pa,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Yp(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new _e(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(rn(Or),rn(On),rn(Vc))},r.\u0275prov=Ot({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Yp(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}let f0=!0,p0=!1;function MD(){return p0=!0,f0}function RD(){if(p0)throw new Error("Cannot enable prod mode after platform setup.");f0=!1}let Qs=(()=>{class r{}return r.__NG_ELEMENT_ID__=PD,r})();function PD(r){return function py(r,s,o){if(Es(r)&&!o){const l=Vn(r.index,s);return new Dh(l,l)}return 47&r.type?new Dh(s[16],s):null}(nn(),Ce(),16==(16&r))}class LD{constructor(){}supports(s){return Su(s)}create(s){return new VD(s)}}const UD=(r,s)=>s;class VD{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||UD}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,d=0,f=null;for(;o||l;){const _=!l||o&&o.currentIndex<E0(l,d,f)?o:l,C=E0(_,d,f),E=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(o=o._next,null==_.previousIndex)d++;else{f||(f=[]);const I=C-d,S=E-d;if(I!=S){for(let G=0;G<I;G++){const X=G<f.length?f[G]:f[G]=0,ye=X+G;S<=ye&&ye<I&&(f[G]=X+1)}f[_.previousIndex]=S-I}}C!==E&&s(_,C,E)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Su(s))throw new _e(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,_,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)f=s[C],_=this._trackByFn(C,f),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,f,_,C)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,_,C),l=!0),o=o._next}else d=0,function sw(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[Au()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,C=>{_=this._trackByFn(d,C),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,C,_,d)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,_,d),l=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,f,d)):s=this._addAfter(new BD(o,l),f,d),s}_verifyReinsertion(s,o,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new C0),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new C0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class BD{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class v0{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class C0{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new v0,this.map.set(o,l)),l.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function E0(r,s,o){const l=r.previousIndex;if(null===l)return l;let d=0;return o&&l<o.length&&(d=o[l]),l+s+d}class b0{constructor(){}supports(s){return s instanceof Map||Sm(s)}create(){return new jD}}class jD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Sm(s)))throw new _e(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(d,l);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const f=d._prev,_=d._next;return f&&(f._next=_),_&&(_._prev=f),d._next=null,d._prev=null,d}const l=new Ml(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class Ml{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dr(){return new Zr([new LD])}let Zr=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||dr()),deps:[[r,new Oe,new re]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new _e(901,!1)}}return r.\u0275prov=Ot({token:r,providedIn:"root",factory:dr}),r})();function w0(){return new vy([new b0])}let vy=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||w0()),deps:[[r,new Oe,new re]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new _e(901,!1)}}return r.\u0275prov=Ot({token:r,providedIn:"root",factory:w0}),r})();const GD=o0(null,"core",[]);let D0=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(rn(Kp))},r.\u0275mod=xe({type:r}),r.\u0275inj=_t({}),r})();function I0(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(Qe,be,O)=>{O.d(be,{Z:()=>_e});var u=O(2090),ee=O(4859),x=O(9681),oe=O(1877);class ie{constructor(pe,de){this._delegate=pe,this.firebase=de,(0,x._addComponent)(pe,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(pe,de=x._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(pe);return!Ke.isInitialized()&&"EXPLICIT"===(null===(He=Ke.getComponent())||void 0===He?void 0:He.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:de})}_removeServiceInstance(pe,de=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(de)}_addComponent(pe){(0,x._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,x._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function he(){const We=function ce(We){const pe={},de={__esModule:!0,initializeApp:function De(ke,V={}){const fe=x.initializeApp(ke,V);if((0,u.r3)(pe,fe.name))return pe[fe.name];const K=new We(fe,de);return pe[fe.name]=K,K},app:Ke,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function ve(ke){const V=ke.name,fe=V.replace("-compat","");if(x._registerComponent(ke)&&"PUBLIC"===ke.type){const K=(J=Ke())=>{if("function"!=typeof J[fe])throw le.create("invalid-app-argument",{appName:V});return J[fe]()};void 0!==ke.serviceProps&&(0,u.ZB)(K,ke.serviceProps),de[fe]=K,We.prototype[fe]=function(...J){return this._getService.bind(this,V).apply(this,ke.multipleInstances?J:[])}}return"PUBLIC"===ke.type?de[fe]:null},removeApp:function He(ke){delete pe[ke]},useAsService:function Ne(ke,V){return"serverAuth"===V?null:V},modularAPIs:x}};function Ke(ke){if(!(0,u.r3)(pe,ke=ke||x._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:ke});return pe[ke]}return de.default=de,Object.defineProperty(de,"apps",{get:function ge(){return Object.keys(pe).map(ke=>pe[ke])}}),Ke.App=We,de}(ie);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function pe(de){(0,u.ZB)(We,de)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),We}(),j=new oe.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const _e=B;!function Ie(We){(0,x.registerVersion)("@firebase/app-compat","0.1.33",We)}()},9681:(Qe,be,O)=>{O.r(be),O.d(be,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>zr,_DEFAULT_ENTRY_NAME:()=>It,_addComponent:()=>Nt,_addOrOverwriteComponent:()=>Ot,_apps:()=>Ht,_clearComponents:()=>vs,_components:()=>pn,_getProvider:()=>_t,_registerComponent:()=>Xn,_removeServiceInstance:()=>$t,deleteApp:()=>rt,getApp:()=>Er,getApps:()=>kr,initializeApp:()=>fi,onLog:()=>gn,registerVersion:()=>Fr,setLogLevel:()=>qr});var u=O(5861),ee=O(4859),x=O(1877),oe=O(2090),ie=O(8766);class ue{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(W=>{if(function le(U){return"VERSION"===U.getComponent()?.type}(W)){const Ee=W.getImmediate();return`${Ee.library}/${Ee.version}`}return null}).filter(W=>W).join(" ")}}const ce="@firebase/app",B=new x.Yd("@firebase/app"),It="[DEFAULT]",Fe={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ht=new Map,pn=new Map;function Nt(U,$){try{U.container.addComponent($)}catch(W){B.debug(`Component ${$.name} failed to register with FirebaseApp ${U.name}`,W)}}function Ot(U,$){U.container.addOrOverwriteComponent($)}function Xn(U){const $=U.name;if(pn.has($))return B.debug(`There were multiple attempts to register component ${$}.`),!1;pn.set($,U);for(const W of Ht.values())Nt(W,U);return!0}function _t(U,$){const W=U.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),U.container.getProvider($)}function $t(U,$,W=It){_t(U,$).clearInstance(W)}function vs(){pn.clear()}const Qn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class er{constructor($,W,Ee){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=Ee,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}const zr="9.9.4";function fi(U,$={}){"object"!=typeof $&&($={name:$});const W=Object.assign({name:It,automaticDataCollectionEnabled:!1},$),Ee=W.name;if("string"!=typeof Ee||!Ee)throw Qn.create("bad-app-name",{appName:String(Ee)});const xe=Ht.get(Ee);if(xe){if((0,oe.vZ)(U,xe.options)&&(0,oe.vZ)(W,xe.config))return xe;throw Qn.create("duplicate-app",{appName:Ee})}const Xe=new ee.H0(Ee);for(const Ft of pn.values())Xe.addComponent(Ft);const Zt=new er(U,W,Xe);return Ht.set(Ee,Zt),Zt}function Er(U=It){const $=Ht.get(U);if(!$)throw Qn.create("no-app",{appName:U});return $}function kr(){return Array.from(Ht.values())}function rt(U){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,u.Z)(function*(U){const $=U.name;Ht.has($)&&(Ht.delete($),yield Promise.all(U.container.getProviders().map(W=>W.delete())),U.isDeleted=!0)})).apply(this,arguments)}function Fr(U,$,W){var Ee;let xe=null!==(Ee=Fe[U])&&void 0!==Ee?Ee:U;W&&(xe+=`-${W}`);const Xe=xe.match(/\s|\//),Zt=$.match(/\s|\//);if(Xe||Zt){const Ft=[`Unable to register library "${xe}" with version "${$}":`];return Xe&&Ft.push(`library name "${xe}" contains illegal characters (whitespace or "/")`),Xe&&Zt&&Ft.push("and"),Zt&&Ft.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void B.warn(Ft.join(" "))}Xn(new ee.wA(`${xe}-version`,()=>({library:xe,version:$}),"VERSION"))}function gn(U,$){if(null!==U&&"function"!=typeof U)throw Qn.create("invalid-log-argument");(0,x.Am)(U,$)}function qr(U){(0,x.Ub)(U)}const Xt="firebase-heartbeat-store";let Fi=null;function Jt(){return Fi||(Fi=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(U,$)=>{0===$&&U.createObjectStore(Xt)}}).catch(U=>{throw Qn.create("idb-open",{originalErrorMessage:U.message})})),Fi}function Ve(){return(Ve=(0,u.Z)(function*(U){var $;try{return(yield Jt()).transaction(Xt).objectStore(Xt).get(en(U))}catch(W){if(W instanceof oe.ZR)B.warn(W.message);else{const Ee=Qn.create("idb-get",{originalErrorMessage:null===($=W)||void 0===$?void 0:$.message});B.warn(Ee.message)}}})).apply(this,arguments)}function Xs(U,$){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(U,$){var W;try{const xe=(yield Jt()).transaction(Xt,"readwrite");return yield xe.objectStore(Xt).put($,en(U)),xe.done}catch(Ee){if(Ee instanceof oe.ZR)B.warn(Ee.message);else{const xe=Qn.create("idb-set",{originalErrorMessage:null===(W=Ee)||void 0===W?void 0:W.message});B.warn(xe.message)}}})).apply(this,arguments)}function en(U){return`${U.name}!${U.options.appId}`}class Li{constructor($){this.container=$,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this._storage=new wt(W),this._heartbeatsCachePromise=this._storage.read().then(Ee=>(this._heartbeatsCache=Ee,Ee))}triggerHeartbeat(){var $=this;return(0,u.Z)(function*(){const Ee=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xe=kt();if(null===$._heartbeatsCache&&($._heartbeatsCache=yield $._heartbeatsCachePromise),$._heartbeatsCache.lastSentHeartbeatDate!==xe&&!$._heartbeatsCache.heartbeats.some(Xe=>Xe.date===xe))return $._heartbeatsCache.heartbeats.push({date:xe,agent:Ee}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter(Xe=>{const Zt=new Date(Xe.date).valueOf();return Date.now()-Zt<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,u.Z)(function*(){if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null===$._heartbeatsCache||0===$._heartbeatsCache.heartbeats.length)return"";const W=kt(),{heartbeatsToSend:Ee,unsentEntries:xe}=function Yr(U,$=1024){const W=[];let Ee=U.slice();for(const xe of U){const Xe=W.find(Zt=>Zt.agent===xe.agent);if(Xe){if(Xe.dates.push(xe.date),q(W)>$){Xe.dates.pop();break}}else if(W.push({agent:xe.agent,dates:[xe.date]}),q(W)>$){W.pop();break}Ee=Ee.slice(1)}return{heartbeatsToSend:W,unsentEntries:Ee}}($._heartbeatsCache.heartbeats),Xe=(0,oe.L)(JSON.stringify({version:2,heartbeats:Ee}));return $._heartbeatsCache.lastSentHeartbeatDate=W,xe.length>0?($._heartbeatsCache.heartbeats=xe,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),Xe})()}}function kt(){return(new Date).toISOString().substring(0,10)}class wt{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,u.Z)(function*(){return(yield $._canUseIndexedDBPromise)&&(yield function Ze(U){return Ve.apply(this,arguments)}($.app))||{heartbeats:[]}})()}overwrite($){var W=this;return(0,u.Z)(function*(){var Ee;if(yield W._canUseIndexedDBPromise){const Xe=yield W.read();return Xs(W.app,{lastSentHeartbeatDate:null!==(Ee=$.lastSentHeartbeatDate)&&void 0!==Ee?Ee:Xe.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var W=this;return(0,u.Z)(function*(){var Ee;if(yield W._canUseIndexedDBPromise){const Xe=yield W.read();return Xs(W.app,{lastSentHeartbeatDate:null!==(Ee=$.lastSentHeartbeatDate)&&void 0!==Ee?Ee:Xe.lastSentHeartbeatDate,heartbeats:[...Xe.heartbeats,...$.heartbeats]})}})()}}function q(U){return(0,oe.L)(JSON.stringify({version:2,heartbeats:U})).length}!function H(U){Xn(new ee.wA("platform-logger",$=>new ue($),"PRIVATE")),Xn(new ee.wA("heartbeat",$=>new Li($),"PRIVATE")),Fr(ce,"0.7.32",U),Fr(ce,"0.7.32","esm2017"),Fr("fire-js","")}("")},4859:(Qe,be,O)=>{O.d(be,{H0:()=>ce,wA:()=>x,zt:()=>ie});var u=O(5861),ee=O(2090);class x{constructor(B,j,Q){this.name=B,this.instanceFactory=j,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const oe="[DEFAULT]";class ie{constructor(B,j){this.name=B,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const j=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(j)){const Q=new ee.BH;if(this.instancesDeferred.set(j,Q),this.isInitialized(j)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:j});Pe&&Q.resolve(Pe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(B){var j;const Q=this.normalizeInstanceIdentifier(B?.identifier),Pe=null!==(j=B?.optional)&&void 0!==j&&j;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ie){if(Pe)return null;throw Ie}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function le(he){return"EAGER"===he.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[j,Q]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(j);try{const Ie=this.getOrInitializeService({instanceIdentifier:Pe});Q.resolve(Ie)}catch{}}}}clearInstance(B=oe){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,u.Z)(function*(){const j=Array.from(B.instances.values());yield Promise.all([...j.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...j.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=oe){return this.instances.has(B)}getOptions(B=oe){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:j={}}=B,Q=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:Q,options:j});for(const[Ie,_e]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ie)&&_e.resolve(Pe);return Pe}onInit(B,j){var Q;const Pe=this.normalizeInstanceIdentifier(j),Ie=null!==(Q=this.onInitCallbacks.get(Pe))&&void 0!==Q?Q:new Set;Ie.add(B),this.onInitCallbacks.set(Pe,Ie);const _e=this.instances.get(Pe);return _e&&B(_e,Pe),()=>{Ie.delete(B)}}invokeOnInitCallbacks(B,j){const Q=this.onInitCallbacks.get(j);if(Q)for(const Pe of Q)try{Pe(B,j)}catch{}}getOrInitializeService({instanceIdentifier:B,options:j={}}){let Q=this.instances.get(B);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(he=B,he===oe?void 0:he),options:j}),this.instances.set(B,Q),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(Q,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,Q)}catch{}var he;return Q||null}normalizeInstanceIdentifier(B=oe){return this.component?this.component.multipleInstances?B:oe:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const j=this.getProvider(B.name);if(j.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);j.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const j=new ie(B,this);return this.providers.set(B,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(Qe,be,O)=>{O.d(be,{Am:()=>he,Ub:()=>ce,Yd:()=>le,in:()=>ee});const u=[];var ee=(()=>{return(B=ee||(ee={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",ee;var B})();const x={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},oe=ee.INFO,ie={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ue=(B,j,...Q)=>{if(j<B.logLevel)return;const Pe=(new Date).toISOString(),Ie=ie[j];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ie](`[${Pe}]  ${B.name}:`,...Q)};class le{constructor(j){this.name=j,this._logLevel=oe,this._logHandler=ue,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in ee))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?x[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...j),this._logHandler(this,ee.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...j),this._logHandler(this,ee.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...j),this._logHandler(this,ee.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...j),this._logHandler(this,ee.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...j),this._logHandler(this,ee.ERROR,...j)}}function ce(B){u.forEach(j=>{j.setLogLevel(B)})}function he(B,j){for(const Q of u){let Pe=null;j&&j.level&&(Pe=x[j.level]),Q.userLogHandler=null===B?null:(Ie,_e,...We)=>{const pe=We.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch{return null}}).filter(de=>de).join(" ");_e>=(Pe??Ie.logLevel)&&B({level:ee[_e].toLowerCase(),message:pe,args:We,type:Ie.name})}}}},8766:(Qe,be,O)=>{O.d(be,{Lj:()=>De,X3:()=>Ke});var u=O(5861);let x,oe;const le=new WeakMap,ce=new WeakMap,he=new WeakMap,B=new WeakMap,j=new WeakMap;let Ie={get(V,fe,K){if(V instanceof IDBTransaction){if("done"===fe)return ce.get(V);if("objectStoreNames"===fe)return V.objectStoreNames||he.get(V);if("store"===fe)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return de(V[fe])},set:(V,fe,K)=>(V[fe]=K,!0),has:(V,fe)=>V instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in V};function pe(V){return"function"==typeof V?function We(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ue(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...fe){return V.apply(He(this),fe),de(le.get(this))}:function(...fe){return de(V.apply(He(this),fe))}:function(fe,...K){const J=V.call(He(this),fe,...K);return he.set(J,fe.sort?fe.sort():[fe]),de(J)}}(V):(V instanceof IDBTransaction&&function Pe(V){if(ce.has(V))return;const fe=new Promise((K,J)=>{const se=()=>{V.removeEventListener("complete",ne),V.removeEventListener("error",Me),V.removeEventListener("abort",Me)},ne=()=>{K(),se()},Me=()=>{J(V.error||new DOMException("AbortError","AbortError")),se()};V.addEventListener("complete",ne),V.addEventListener("error",Me),V.addEventListener("abort",Me)});ce.set(V,fe)}(V),((V,fe)=>fe.some(K=>V instanceof K))(V,function ie(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,Ie):V)}function de(V){if(V instanceof IDBRequest)return function Q(V){const fe=new Promise((K,J)=>{const se=()=>{V.removeEventListener("success",ne),V.removeEventListener("error",Me)},ne=()=>{K(de(V.result)),se()},Me=()=>{J(V.error),se()};V.addEventListener("success",ne),V.addEventListener("error",Me)});return fe.then(K=>{K instanceof IDBCursor&&le.set(K,V)}).catch(()=>{}),j.set(fe,V),fe}(V);if(B.has(V))return B.get(V);const fe=pe(V);return fe!==V&&(B.set(V,fe),j.set(fe,V)),fe}const He=V=>j.get(V);function Ke(V,fe,{blocked:K,upgrade:J,blocking:se,terminated:ne}={}){const Me=indexedDB.open(V,fe),Ae=de(Me);return J&&Me.addEventListener("upgradeneeded",tt=>{J(de(Me.result),tt.oldVersion,tt.newVersion,de(Me.transaction))}),K&&Me.addEventListener("blocked",()=>K()),Ae.then(tt=>{ne&&tt.addEventListener("close",()=>ne()),se&&tt.addEventListener("versionchange",()=>se())}).catch(()=>{}),Ae}function De(V,{blocked:fe}={}){const K=indexedDB.deleteDatabase(V);return fe&&K.addEventListener("blocked",()=>fe()),de(K).then(()=>{})}const ge=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Ne=new Map;function ke(V,fe){if(!(V instanceof IDBDatabase)||fe in V||"string"!=typeof fe)return;if(Ne.get(fe))return Ne.get(fe);const K=fe.replace(/FromIndex$/,""),J=fe!==K,se=ve.includes(K);if(!(K in(J?IDBIndex:IDBObjectStore).prototype)||!se&&!ge.includes(K))return;const ne=function(){var Me=(0,u.Z)(function*(Ae,...tt){const Pt=this.transaction(Ae,se?"readwrite":"readonly");let It=Pt.store;return J&&(It=It.index(tt.shift())),(yield Promise.all([It[K](...tt),se&&Pt.done]))[0]});return function(tt){return Me.apply(this,arguments)}}();return Ne.set(fe,ne),ne}!function _e(V){Ie=V(Ie)}(V=>({...V,get:(fe,K,J)=>ke(fe,K)||V.get(fe,K,J),has:(fe,K)=>!!ke(fe,K)||V.has(fe,K)}))},5861:(Qe,be,O)=>{function u(x,oe,ie,ue,le,ce,he){try{var B=x[ce](he),j=B.value}catch(Q){return void ie(Q)}B.done?oe(j):Promise.resolve(j).then(ue,le)}function ee(x){return function(){var oe=this,ie=arguments;return new Promise(function(ue,le){var ce=x.apply(oe,ie);function he(j){u(ce,ue,le,he,B,"next",j)}function B(j){u(ce,ue,le,he,B,"throw",j)}he(void 0)})}}O.d(be,{Z:()=>ee})}},Qe=>{Qe(Qe.s=3936)}]);